(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var md={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function Vb(){if(wy)return ao;wy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return ao.Fragment=e,ao.jsx=i,ao.jsxs=i,ao}var Cy;function qb(){return Cy||(Cy=1,md.exports=Vb()),md.exports}var fe=qb(),_d={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function Fb(){if(Ay)return ve;Ay=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,X={};function G(O,W,le){this.props=O,this.context=W,this.refs=X,this.updater=le||L}G.prototype.isReactComponent={},G.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},G.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=G.prototype;function te(O,W,le){this.props=O,this.context=W,this.refs=X,this.updater=le||L}var Z=te.prototype=new $;Z.constructor=te,U(Z,G.prototype),Z.isPureReactComponent=!0;var me=Array.isArray,oe={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function k(O,W,le,ie,se,Ee){return le=Ee.ref,{$$typeof:s,type:O,key:W,ref:le!==void 0?le:null,props:Ee}}function R(O,W){return k(O.type,W,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function I(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return W[le]})}var M=/\/+/g;function H(O,W){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):W.toString(36)}function N(){}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,W,le,ie,se){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(Ee){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case s:case e:ye=!0;break;case S:return ye=O._init,ut(ye(O._payload),W,le,ie,se)}}if(ye)return se=se(O),ye=ie===""?"."+H(O,0):ie,me(se)?(le="",ye!=null&&(le=ye.replace(M,"$&/")+"/"),ut(se,W,le,"",function(tt){return tt})):se!=null&&(b(se)&&(se=R(se,le+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(M,"$&/")+"/")+ye)),W.push(se)),1;ye=0;var ct=ie===""?".":ie+":";if(me(O))for(var Me=0;Me<O.length;Me++)ie=O[Me],Ee=ct+H(ie,Me),ye+=ut(ie,W,le,Ee,se);else if(Me=C(O),typeof Me=="function")for(O=Me.call(O),Me=0;!(ie=O.next()).done;)ie=ie.value,Ee=ct+H(ie,Me++),ye+=ut(ie,W,le,Ee,se);else if(Ee==="object"){if(typeof O.then=="function")return ut(pt(O),W,le,ie,se);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ne(O,W,le){if(O==null)return O;var ie=[],se=0;return ut(O,ie,"","",function(Ee){return W.call(le,Ee,se++)}),ie}function de(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return ve.Children={map:ne,forEach:function(O,W,le){ne(O,function(){W.apply(this,arguments)},le)},count:function(O){var W=0;return ne(O,function(){W++}),W},toArray:function(O){return ne(O,function(W){return W})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ve.Component=G,ve.Fragment=i,ve.Profiler=o,ve.PureComponent=te,ve.StrictMode=r,ve.Suspense=m,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},ve.cache=function(O){return function(){return O.apply(null,arguments)}},ve.cloneElement=function(O,W,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=U({},O.props),se=O.key,Ee=void 0;if(W!=null)for(ye in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(se=""+W.key),W)!Re.call(W,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&W.ref===void 0||(ie[ye]=W[ye]);var ye=arguments.length-2;if(ye===1)ie.children=le;else if(1<ye){for(var ct=Array(ye),Me=0;Me<ye;Me++)ct[Me]=arguments[Me+2];ie.children=ct}return k(O.type,se,void 0,void 0,Ee,ie)},ve.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ve.createElement=function(O,W,le){var ie,se={},Ee=null;if(W!=null)for(ie in W.key!==void 0&&(Ee=""+W.key),W)Re.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=W[ie]);var ye=arguments.length-2;if(ye===1)se.children=le;else if(1<ye){for(var ct=Array(ye),Me=0;Me<ye;Me++)ct[Me]=arguments[Me+2];se.children=ct}if(O&&O.defaultProps)for(ie in ye=O.defaultProps,ye)se[ie]===void 0&&(se[ie]=ye[ie]);return k(O,Ee,void 0,void 0,null,se)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(O){return{$$typeof:p,render:O}},ve.isValidElement=b,ve.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:de}},ve.memo=function(O,W){return{$$typeof:_,type:O,compare:W===void 0?null:W}},ve.startTransition=function(O){var W=oe.T,le={};oe.T=le;try{var ie=O(),se=oe.S;se!==null&&se(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,ce)}catch(Ee){ce(Ee)}finally{oe.T=W}},ve.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},ve.use=function(O){return oe.H.use(O)},ve.useActionState=function(O,W,le){return oe.H.useActionState(O,W,le)},ve.useCallback=function(O,W){return oe.H.useCallback(O,W)},ve.useContext=function(O){return oe.H.useContext(O)},ve.useDebugValue=function(){},ve.useDeferredValue=function(O,W){return oe.H.useDeferredValue(O,W)},ve.useEffect=function(O,W){return oe.H.useEffect(O,W)},ve.useId=function(){return oe.H.useId()},ve.useImperativeHandle=function(O,W,le){return oe.H.useImperativeHandle(O,W,le)},ve.useInsertionEffect=function(O,W){return oe.H.useInsertionEffect(O,W)},ve.useLayoutEffect=function(O,W){return oe.H.useLayoutEffect(O,W)},ve.useMemo=function(O,W){return oe.H.useMemo(O,W)},ve.useOptimistic=function(O,W){return oe.H.useOptimistic(O,W)},ve.useReducer=function(O,W,le){return oe.H.useReducer(O,W,le)},ve.useRef=function(O){return oe.H.useRef(O)},ve.useState=function(O){return oe.H.useState(O)},ve.useSyncExternalStore=function(O,W,le){return oe.H.useSyncExternalStore(O,W,le)},ve.useTransition=function(){return oe.H.useTransition()},ve.version="19.0.0",ve}var Ry;function gp(){return Ry||(Ry=1,_d.exports=Fb()),_d.exports}var Y=gp(),yd={exports:{}},lo={},vd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function Gb(){return Ny||(Ny=1,function(s){function e(ne,de){var ce=ne.length;ne.push(de);e:for(;0<ce;){var ze=ce-1>>>1,O=ne[ze];if(0<o(O,de))ne[ze]=de,ne[ce]=O,ce=ze;else break e}}function i(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],ce=ne.pop();if(ce!==de){ne[0]=ce;e:for(var ze=0,O=ne.length,W=O>>>1;ze<W;){var le=2*(ze+1)-1,ie=ne[le],se=le+1,Ee=ne[se];if(0>o(ie,ce))se<O&&0>o(Ee,ie)?(ne[ze]=Ee,ne[se]=ce,ze=se):(ne[ze]=ie,ne[le]=ce,ze=le);else if(se<O&&0>o(Ee,ce))ne[ze]=Ee,ne[se]=ce,ze=se;else break e}}return de}function o(ne,de){var ce=ne.sortIndex-de.sortIndex;return ce!==0?ce:ne.id-de.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var m=[],_=[],S=1,w=null,C=3,L=!1,U=!1,X=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Z(ne){for(var de=i(_);de!==null;){if(de.callback===null)r(_);else if(de.startTime<=ne)r(_),de.sortIndex=de.expirationTime,e(m,de);else break;de=i(_)}}function me(ne){if(X=!1,Z(ne),!U)if(i(m)!==null)U=!0,pt();else{var de=i(_);de!==null&&ut(me,de.startTime-ne)}}var oe=!1,Re=-1,k=5,R=-1;function b(){return!(s.unstable_now()-R<k)}function I(){if(oe){var ne=s.unstable_now();R=ne;var de=!0;try{e:{U=!1,X&&(X=!1,$(Re),Re=-1),L=!0;var ce=C;try{t:{for(Z(ne),w=i(m);w!==null&&!(w.expirationTime>ne&&b());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,C=w.priorityLevel;var O=ze(w.expirationTime<=ne);if(ne=s.unstable_now(),typeof O=="function"){w.callback=O,Z(ne),de=!0;break t}w===i(m)&&r(m),Z(ne)}else r(m);w=i(m)}if(w!==null)de=!0;else{var W=i(_);W!==null&&ut(me,W.startTime-ne),de=!1}}break e}finally{w=null,C=ce,L=!1}de=void 0}}finally{de?M():oe=!1}}}var M;if(typeof te=="function")M=function(){te(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,N=H.port2;H.port1.onmessage=I,M=function(){N.postMessage(null)}}else M=function(){G(I,0)};function pt(){oe||(oe=!0,M())}function ut(ne,de){Re=G(function(){ne(s.unstable_now())},de)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ne){ne.callback=null},s.unstable_continueExecution=function(){U||L||(U=!0,pt())},s.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function(ne){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var ce=C;C=de;try{return ne()}finally{C=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=C;C=ne;try{return de()}finally{C=ce}},s.unstable_scheduleCallback=function(ne,de,ce){var ze=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ze+ce:ze):ce=ze,ne){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ce+O,ne={id:S++,callback:de,priorityLevel:ne,startTime:ce,expirationTime:O,sortIndex:-1},ce>ze?(ne.sortIndex=ce,e(_,ne),i(m)===null&&ne===i(_)&&(X?($(Re),Re=-1):X=!0,ut(me,ce-ze))):(ne.sortIndex=O,e(m,ne),U||L||(U=!0,pt())),ne},s.unstable_shouldYield=b,s.unstable_wrapCallback=function(ne){var de=C;return function(){var ce=C;C=de;try{return ne.apply(this,arguments)}finally{C=ce}}}}(Ed)),Ed}var Iy;function Yb(){return Iy||(Iy=1,vd.exports=Gb()),vd.exports}var Td={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function Kb(){if(Oy)return Ut;Oy=1;var s=gp();function e(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:_,implementation:S}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(m,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(m,_,null,S)},Ut.flushSync=function(m){var _=f.T,S=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=_,r.p=S,r.d.f()}},Ut.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(m,_))},Ut.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ut.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:L}):S==="script"&&r.d.X(m,{crossOrigin:w,integrity:C,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ut.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);r.d.M(m,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(m)},Ut.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);r.d.L(m,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ut.preloadModule=function(m,_){if(typeof m=="string")if(_){var S=p(_.as,_.crossOrigin);r.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(m)},Ut.requestFormReset=function(m){r.d.r(m)},Ut.unstable_batchedUpdates=function(m,_){return m(_)},Ut.useFormState=function(m,_,S){return f.H.useFormState(m,_,S)},Ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ut.version="19.0.0",Ut}var Dy;function Xb(){if(Dy)return Td.exports;Dy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Td.exports=Kb(),Td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function Qb(){if(My)return lo;My=1;var s=Yb(),e=gp(),i=Xb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),me=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Re(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case p:return"Portal";case S:return"Profiler";case _:return"StrictMode";case X:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case te:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,H;function N(t){if(M===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",H=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+H}var pt=!1;function ut(t,n){if(!t||pt)return"";pt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){j=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var A=v.split(`
`),x=E.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===x.length)for(l=A.length-1,h=x.length-1;1<=l&&0<=h&&A[l]!==x[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==x[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==x[h]){var F=`
`+A[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{pt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function ne(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=ut(t.type,!1),t;case 11:return t=ut(t.type.render,!1),t;case 1:return t=ut(t.type,!0),t;default:return""}}function de(t){try{var n="";do n+=ne(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function ze(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function O(t){if(ce(t)!==t)throw Error(r(188))}function W(t){var n=t.alternate;if(!n){if(n=ce(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function le(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=le(t),n!==null)return n;t=t.sibling}return null}var ie=Array.isArray,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},ye=[],ct=-1;function Me(t){return{current:t}}function tt(t){0>ct||(t.current=ye[ct],ye[ct]=null,ct--)}function Be(t,n){ct++,ye[ct]=t.current,t.current=n}var Ht=Me(null),di=Me(null),gn=Me(null),Zi=Me(null);function Ji(t,n){switch(Be(gn,n),Be(di,t),Be(Ht,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?J_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=J_(t),n=ey(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(Ht),Be(Ht,n)}function pi(){tt(Ht),tt(di),tt(gn)}function tl(t){t.memoizedState!==null&&Be(Zi,t);var n=Ht.current,a=ey(n,t.type);n!==a&&(Be(di,t),Be(Ht,a))}function Gr(t){di.current===t&&(tt(Ht),tt(di)),Zi.current===t&&(tt(Zi),to._currentValue=Ee)}var Yr=Object.prototype.hasOwnProperty,Qs=s.unstable_scheduleCallback,Kr=s.unstable_cancelCallback,mh=s.unstable_shouldYield,nl=s.unstable_requestPaint,Yt=s.unstable_now,$o=s.unstable_getCurrentPriorityLevel,gt=s.unstable_ImmediatePriority,vt=s.unstable_UserBlockingPriority,gi=s.unstable_NormalPriority,Wo=s.unstable_LowPriority,il=s.unstable_IdlePriority,_h=s.log,$s=s.unstable_setDisableYieldValue,es=null,kt=null;function sl(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(es,t,void 0,(t.current.flags&128)===128)}catch{}}function Xn(t){if(typeof _h=="function"&&$s(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(es,t)}catch{}}var Bt=Math.clz32?Math.clz32:yh,rl=Math.log,Zo=Math.LN2;function yh(t){return t>>>=0,t===0?32:31-(rl(t)/Zo|0)|0}var Qn=128,ts=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=xn(a):(d&=E,d!==0?l=xn(d):t||(v=E&~v,v!==0&&(l=xn(v))))):(E=a&~h,E!==0?l=xn(E):d!==0?l=xn(d):t||(v=a&~v,v!==0&&(l=xn(v)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function ns(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function al(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var t=Qn;return Qn<<=1,!(Qn&4194176)&&(Qn=128),t}function is(){var t=ts;return ts<<=1,!(ts&62914560)&&(ts=4194304),t}function Xr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function lt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jo(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,x=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Bt(a),Q=1<<F;E[F]=0,A[F]=-1;var j=x[F];if(j!==null)for(x[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&ss(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function ss(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function rs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Bt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function eu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function as(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var $n=Math.random().toString(36).slice(2),Et="__reactFiber$"+$n,Tt="__reactProps$"+$n,ls="__reactContainer$"+$n,Ws="__reactEvents$"+$n,Qr="__reactListeners$"+$n,Wn="__reactHandles$"+$n,ol="__reactResources$"+$n,os="__reactMarker$"+$n;function Zs(t){delete t[Et],delete t[Tt],delete t[Ws],delete t[Qr],delete t[Wn]}function Ln(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ls]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=iy(t);t!==null;){if(a=t[Et])return a;t=iy(t)}return n}t=a,a=t.parentNode}return null}function mi(t){if(t=t[Et]||t[ls]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function us(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function cs(t){var n=t[ol];return n||(n=t[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[os]=!0}var ul=new Set,$r={};function rn(t,n){Kt(t,n),Kt(t+"Capture",n)}function Kt(t,n){for($r[t]=n,t=0;t<n.length;t++)ul.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},hl={};function nu(t){return Yr.call(hl,t)?!0:Yr.call(cl,t)?!1:vh.test(t)?hl[t]=!0:(cl[t]=!0,!1)}function hs(t,n,a){if(nu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function fs(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eh(t){var n=iu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Js(t){t._valueTracker||(t._valueTracker=Eh(t))}function fl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=iu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _i=/[\n"\\]/g;function nt(t){return t.replace(_i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ds(t,n,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Zr(t,v,jt(n)):a!=null?Zr(t,v,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+jt(E):t.removeAttribute("name")}function er(t,n,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zr(t,n,a){n==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xe(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function tr(t,n,a){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+jt(a):""}function ps(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=jt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Th.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function su(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&dl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&dl(t,d,n[d])}function pl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(t){return bh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Jr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,vi=null;function Ei(t){var n=mi(t);if(n&&(t=n.stateNode)){var a=t[Tt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ds(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(r(90));ds(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&fl(l)}break e;case"textarea":tr(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&xe(t,!!a.multiple,n,!1)}}}var gl=!1;function ru(t,n,a){if(gl)return t(n,a);gl=!0;try{var l=t(n);return l}finally{if(gl=!1,(yi!==null||vi!==null)&&($u(),yi&&(n=yi,t=vi,vi=yi=null,Ei(n),t)))for(n=0;n<t.length;n++)Ei(t[n])}}function nr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!1;if(an)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{vn=!1}var Jn=null,gs=null,Ti=null;function ml(){if(Ti)return Ti;var t,n=gs,a=n.length,l,h="value"in Jn?Jn.value:Jn.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function _l(){return!1}function St(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:_l,this.isPropagationStopped=_l,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=St(je),sr=I({},je,{view:0,detail:0}),au=St(sr),ta,na,ni,rr=I({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(ta=t.screenX-ni.screenX,na=t.screenY-ni.screenY):na=ta=0,ni=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),En=St(rr),lu=I({},rr,{dataTransfer:0}),wh=St(lu),ar=I({},sr,{relatedTarget:0}),ia=St(ar),yl=I({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=St(yl),ou=I({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=St(ou),Ch=I({},je,{data:0}),vl=St(Ch),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cu[t])?!!n[t]:!1}function or(){return El}var hu=I({},sr,{key:function(t){if(t.key){var n=lr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=St(hu),fu=I({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=St(fu),Si=I({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),du=St(Si),pu=I({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=St(pu),mu=I({},rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xt=St(mu),_u=I({},je,{newState:0,oldState:0}),yu=St(_u),ms=[9,13,27,32],u=an&&"CompositionEvent"in window,g=null;an&&"documentMode"in document&&(g=document.documentMode);var y=an&&"TextEvent"in window&&!g,T=an&&(!u||g&&8<g&&11>=g),z=" ",V=!1;function J(t,n){switch(t){case"keyup":return ms.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function He(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $e=!1;function Ie(t,n){switch(t){case"compositionend":return He(n);case"keypress":return n.which!==32?null:(V=!0,z);case"textInput":return t=n.data,t===z&&V?null:t;default:return null}}function bt(t,n){if($e)return t==="compositionend"||!u&&J(t,n)?(t=ml(),Ti=gs=Jn=null,$e=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return T&&n.locale!=="ko"?null:n.data;default:return null}}var wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!wt[t.type]:n==="textarea"}function Qt(t,n,a,l){yi?vi?vi.push(l):vi=[l]:yi=l,n=tc(n,"onChange"),0<n.length&&(a=new ea("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ii=null,wi=null;function _S(t){X_(t,0)}function vu(t){var n=us(t);if(fl(n))return t}function bg(t,n){if(t==="change")return n}var wg=!1;if(an){var Ah;if(an){var Rh="oninput"in document;if(!Rh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Rh=typeof Cg.oninput=="function"}Ah=Rh}else Ah=!1;wg=Ah&&(!document.documentMode||9<document.documentMode)}function Ag(){ii&&(ii.detachEvent("onpropertychange",Rg),wi=ii=null)}function Rg(t){if(t.propertyName==="value"&&vu(wi)){var n=[];Qt(n,wi,t,Jr(t)),ru(_S,n)}}function yS(t,n,a){t==="focusin"?(Ag(),ii=n,wi=a,ii.attachEvent("onpropertychange",Rg)):t==="focusout"&&Ag()}function vS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(wi)}function ES(t,n){if(t==="click")return vu(n)}function TS(t,n){if(t==="input"||t==="change")return vu(n)}function SS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:SS;function Sl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Yr.call(n,h)||!ln(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,n){var a=Ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Wr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Wr(t.document)}return n}function Nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function bS(t,n){var a=Dg(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Og(n.ownerDocument.documentElement,n)){if(l!==null&&Nh(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Ig(n,d);var v=Ig(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wS=an&&"documentMode"in document&&11>=document.documentMode,la=null,Ih=null,bl=null,Oh=!1;function Mg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oh||la==null||la!==Wr(l)||(l=la,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&Sl(bl,l)||(bl=l,l=tc(Ih,"onSelect"),0<l.length&&(n=new ea("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=la)))}function ur(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var oa={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Dh={},xg={};an&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function cr(t){if(Dh[t])return Dh[t];if(!oa[t])return t;var n=oa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in xg)return Dh[t]=n[a];return t}var kg=cr("animationend"),Lg=cr("animationiteration"),Ug=cr("animationstart"),CS=cr("transitionrun"),AS=cr("transitionstart"),RS=cr("transitioncancel"),Pg=cr("transitionend"),zg=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(t,n){zg.set(t,n),rn(n,[t])}var Tn=[],ua=0,Mh=0;function Eu(){for(var t=ua,n=Mh=ua=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var h=Tn[n];Tn[n++]=null;var d=Tn[n];if(Tn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bg(a,h,d)}}function Tu(t,n,a,l){Tn[ua++]=t,Tn[ua++]=n,Tn[ua++]=a,Tn[ua++]=l,Mh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xh(t,n,a,l){return Tu(t,n,a,l),Su(t)}function _s(t,n){return Tu(t,null,null,n),Su(t)}function Bg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&n!==null&&t.tag===3&&(d=t.stateNode,h=31-Bt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[n]:t.push(n),n.lane=a|536870912)}function Su(t){if(50<Xl)throw Xl=0,Bf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ca={},jg=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:de(n)},jg.set(t,n),n)}return{value:t,source:n,stack:de(n)}}var ha=[],fa=0,bu=null,wu=0,bn=[],wn=0,hr=null,Ci=1,Ai="";function fr(t,n){ha[fa++]=wu,ha[fa++]=bu,bu=t,wu=n}function Vg(t,n,a){bn[wn++]=Ci,bn[wn++]=Ai,bn[wn++]=hr,hr=t;var l=Ci;t=Ai;var h=32-Bt(l)-1;l&=~(1<<h),a+=1;var d=32-Bt(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Bt(n)+h|a<<h|l,Ai=d+t}else Ci=1<<d|a<<h|l,Ai=t}function kh(t){t.return!==null&&(fr(t,1),Vg(t,1,0))}function Lh(t){for(;t===bu;)bu=ha[--fa],ha[fa]=null,wu=ha[--fa],ha[fa]=null;for(;t===hr;)hr=bn[--wn],bn[wn]=null,Ai=bn[--wn],bn[wn]=null,Ci=bn[--wn],bn[wn]=null}var Vt=null,Dt=null,ke=!1,Pn=null,si=!1,Uh=Error(r(519));function dr(t){var n=Error(r(418,""));throw Al(Sn(n,t)),Uh}function qg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Et]=t,n[Tt]=l,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ne($l[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),er(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Js(n);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),ps(n,l.value,l.defaultValue,l.children),Js(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Z_(n.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),l.onScroll!=null&&Ne("scroll",n),l.onScrollEnd!=null&&Ne("scrollend",n),l.onClick!=null&&(n.onclick=nc),n=!0):n=!1,n||dr(t)}function Fg(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 3:case 27:si=!0;return;case 5:case 13:si=!1;return;default:Vt=Vt.return}}function wl(t){if(t!==Vt)return!1;if(!ke)return Fg(t),ke=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||id(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Dt&&dr(t),Fg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Dt=Hn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Dt=null}}else Dt=Vt?Hn(t.stateNode.nextSibling):null;return!0}function Cl(){Dt=Vt=null,ke=!1}function Al(t){Pn===null?Pn=[t]:Pn.push(t)}var Rl=Error(r(460)),Gg=Error(r(474)),Ph={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function Kg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Cu,Cu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Rl?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Rl?Error(r(483)):t}throw Nl=n,Rl}}var Nl=null;function Xg(){if(Nl===null)throw Error(r(459));var t=Nl;return Nl=null,t}var da=null,Il=0;function Au(t){var n=Il;return Il+=1,da===null&&(da=[]),Kg(da,t,n)}function Ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===c?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qg(t){var n=t._init;return n(t._payload)}function $g(t){function n(P,D){if(t){var B=P.deletions;B===null?(P.deletions=[D],P.flags|=16):B.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)n(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(P,D){return P=Is(P,D),P.index=0,P.sibling=null,P}function d(P,D,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<D?(P.flags|=33554434,D):B):(P.flags|=33554434,D)):(P.flags|=1048576,D)}function v(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function E(P,D,B,K){return D===null||D.tag!==6?(D=Mf(B,P.mode,K),D.return=P,D):(D=h(D,B),D.return=P,D)}function A(P,D,B,K){var re=B.type;return re===m?F(P,D,B.props.children,K,B.key):D!==null&&(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===te&&Qg(re)===D.type)?(D=h(D,B.props),Ol(D,B),D.return=P,D):(D=Gu(B.type,B.key,B.props,null,P.mode,K),Ol(D,B),D.return=P,D)}function x(P,D,B,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=xf(B,P.mode,K),D.return=P,D):(D=h(D,B.children||[]),D.return=P,D)}function F(P,D,B,K,re){return D===null||D.tag!==7?(D=br(B,P.mode,K,re),D.return=P,D):(D=h(D,B),D.return=P,D)}function Q(P,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mf(""+D,P.mode,B),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case f:return B=Gu(D.type,D.key,D.props,null,P.mode,B),Ol(B,D),B.return=P,B;case p:return D=xf(D,P.mode,B),D.return=P,D;case te:var K=D._init;return D=K(D._payload),Q(P,D,B)}if(ie(D)||Re(D))return D=br(D,P.mode,B,null),D.return=P,D;if(typeof D.then=="function")return Q(P,Au(D),B);if(D.$$typeof===L)return Q(P,Vu(P,D),B);Ru(P,D)}return null}function j(P,D,B,K){var re=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return re!==null?null:E(P,D,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===re?A(P,D,B,K):null;case p:return B.key===re?x(P,D,B,K):null;case te:return re=B._init,B=re(B._payload),j(P,D,B,K)}if(ie(B)||Re(B))return re!==null?null:F(P,D,B,K,null);if(typeof B.then=="function")return j(P,D,Au(B),K);if(B.$$typeof===L)return j(P,D,Vu(P,B),K);Ru(P,B)}return null}function q(P,D,B,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return P=P.get(B)||null,E(D,P,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case f:return P=P.get(K.key===null?B:K.key)||null,A(D,P,K,re);case p:return P=P.get(K.key===null?B:K.key)||null,x(D,P,K,re);case te:var Se=K._init;return K=Se(K._payload),q(P,D,B,K,re)}if(ie(K)||Re(K))return P=P.get(B)||null,F(D,P,K,re,null);if(typeof K.then=="function")return q(P,D,B,Au(K),re);if(K.$$typeof===L)return q(P,D,B,Vu(D,K),re);Ru(D,K)}return null}function ae(P,D,B,K){for(var re=null,Se=null,ue=D,he=D=0,Rt=null;ue!==null&&he<B.length;he++){ue.index>he?(Rt=ue,ue=null):Rt=ue.sibling;var Le=j(P,ue,B[he],K);if(Le===null){ue===null&&(ue=Rt);break}t&&ue&&Le.alternate===null&&n(P,ue),D=d(Le,D,he),Se===null?re=Le:Se.sibling=Le,Se=Le,ue=Rt}if(he===B.length)return a(P,ue),ke&&fr(P,he),re;if(ue===null){for(;he<B.length;he++)ue=Q(P,B[he],K),ue!==null&&(D=d(ue,D,he),Se===null?re=ue:Se.sibling=ue,Se=ue);return ke&&fr(P,he),re}for(ue=l(ue);he<B.length;he++)Rt=q(ue,P,he,B[he],K),Rt!==null&&(t&&Rt.alternate!==null&&ue.delete(Rt.key===null?he:Rt.key),D=d(Rt,D,he),Se===null?re=Rt:Se.sibling=Rt,Se=Rt);return t&&ue.forEach(function(Us){return n(P,Us)}),ke&&fr(P,he),re}function _e(P,D,B,K){if(B==null)throw Error(r(151));for(var re=null,Se=null,ue=D,he=D=0,Rt=null,Le=B.next();ue!==null&&!Le.done;he++,Le=B.next()){ue.index>he?(Rt=ue,ue=null):Rt=ue.sibling;var Us=j(P,ue,Le.value,K);if(Us===null){ue===null&&(ue=Rt);break}t&&ue&&Us.alternate===null&&n(P,ue),D=d(Us,D,he),Se===null?re=Us:Se.sibling=Us,Se=Us,ue=Rt}if(Le.done)return a(P,ue),ke&&fr(P,he),re;if(ue===null){for(;!Le.done;he++,Le=B.next())Le=Q(P,Le.value,K),Le!==null&&(D=d(Le,D,he),Se===null?re=Le:Se.sibling=Le,Se=Le);return ke&&fr(P,he),re}for(ue=l(ue);!Le.done;he++,Le=B.next())Le=q(ue,P,he,Le.value,K),Le!==null&&(t&&Le.alternate!==null&&ue.delete(Le.key===null?he:Le.key),D=d(Le,D,he),Se===null?re=Le:Se.sibling=Le,Se=Le);return t&&ue.forEach(function(jb){return n(P,jb)}),ke&&fr(P,he),re}function rt(P,D,B,K){if(typeof B=="object"&&B!==null&&B.type===m&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var re=B.key;D!==null;){if(D.key===re){if(re=B.type,re===m){if(D.tag===7){a(P,D.sibling),K=h(D,B.props.children),K.return=P,P=K;break e}}else if(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===te&&Qg(re)===D.type){a(P,D.sibling),K=h(D,B.props),Ol(K,B),K.return=P,P=K;break e}a(P,D);break}else n(P,D);D=D.sibling}B.type===m?(K=br(B.props.children,P.mode,K,B.key),K.return=P,P=K):(K=Gu(B.type,B.key,B.props,null,P.mode,K),Ol(K,B),K.return=P,P=K)}return v(P);case p:e:{for(re=B.key;D!==null;){if(D.key===re)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(P,D.sibling),K=h(D,B.children||[]),K.return=P,P=K;break e}else{a(P,D);break}else n(P,D);D=D.sibling}K=xf(B,P.mode,K),K.return=P,P=K}return v(P);case te:return re=B._init,B=re(B._payload),rt(P,D,B,K)}if(ie(B))return ae(P,D,B,K);if(Re(B)){if(re=Re(B),typeof re!="function")throw Error(r(150));return B=re.call(B),_e(P,D,B,K)}if(typeof B.then=="function")return rt(P,D,Au(B),K);if(B.$$typeof===L)return rt(P,D,Vu(P,B),K);Ru(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(a(P,D.sibling),K=h(D,B),K.return=P,P=K):(a(P,D),K=Mf(B,P.mode,K),K.return=P,P=K),v(P)):a(P,D)}return function(P,D,B,K){try{Il=0;var re=rt(P,D,B,K);return da=null,re}catch(ue){if(ue===Rl)throw ue;var Se=Nn(29,ue,null,P.mode);return Se.lanes=K,Se.return=P,Se}finally{}}}var pr=$g(!0),Wg=$g(!1),pa=Me(null),Nu=Me(0);function Zg(t,n){t=Pi,Be(Nu,t),Be(pa,n),Pi=t|n.baseLanes}function zh(){Be(Nu,Pi),Be(pa,pa.current)}function Hh(){Pi=Nu.current,tt(pa),tt(Nu)}var Cn=Me(null),ri=null;function ys(t){var n=t.alternate;Be(mt,mt.current&1),Be(Cn,t),ri===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(ri=t)}function Jg(t){if(t.tag===22){if(Be(mt,mt.current),Be(Cn,t),ri===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ri=t)}}else vs()}function vs(){Be(mt,mt.current),Be(Cn,Cn.current)}function Ri(t){tt(Cn),ri===t&&(ri=null),tt(mt)}var mt=Me(0);function Iu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var NS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},IS=s.unstable_scheduleCallback,OS=s.unstable_NormalPriority,_t={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new NS,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&IS(OS,function(){t.controller.abort()})}var Ml=null,jh=0,ga=0,ma=null;function DS(t,n){if(Ml===null){var a=Ml=[];jh=0,ga=Xf(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jh++,n.then(em,em),n}function em(){if(--jh===0&&Ml!==null){ma!==null&&(ma.status="fulfilled");var t=Ml;Ml=null,ga=0,ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function MS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var tm=b.S;b.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&DS(t,n),tm!==null&&tm(t,n)};var gr=Me(null);function Vh(){var t=gr.current;return t!==null?t:Ye.pooledCache}function Ou(t,n){n===null?Be(gr,gr.current):Be(gr,n.pool)}function nm(){var t=Vh();return t===null?null:{parent:_t._currentValue,pool:t}}var Es=0,Te=null,Ve=null,ht=null,Du=!1,_a=!1,mr=!1,Mu=0,xl=0,ya=null,xS=0;function ot(){throw Error(r(321))}function qh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function Fh(t,n,a,l,h,d){return Es=d,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=t===null||t.memoizedState===null?_r:Ts,mr=!1,d=a(l,h),mr=!1,_a&&(d=sm(n,a,l,h)),im(t),d}function im(t){b.H=ai;var n=Ve!==null&&Ve.next!==null;if(Es=0,ht=Ve=Te=null,Du=!1,xl=0,ya=null,n)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&ju(t)&&(Ct=!0))}function sm(t,n,a,l){Te=t;var h=0;do{if(_a&&(ya=null),xl=0,_a=!1,25<=h)throw Error(r(301));if(h+=1,ht=Ve=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=yr,d=n(a,l)}while(_a);return d}function kS(){var t=b.H,n=t.useState()[0];return n=typeof n.then=="function"?kl(n):n,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Te.flags|=1024),n}function Gh(){var t=Mu!==0;return Mu=0,t}function Yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Kh(t){if(Du){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Du=!1}Es=0,ht=Ve=Te=null,_a=!1,xl=Mu=0,ya=null}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Te.memoizedState=ht=t:ht=ht.next=t,ht}function ft(){if(Ve===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var n=ht===null?Te.memoizedState:ht.next;if(n!==null)ht=n,Ve=t;else{if(t===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ht===null?Te.memoizedState=ht=t:ht=ht.next=t}return ht}var xu;xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kl(t){var n=xl;return xl+=1,ya===null&&(ya=[]),t=Kg(ya,t,n),n=Te,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?_r:Ts),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===L)return Lt(t)}throw Error(r(438,String(t)))}function Xh(t){var n=null,a=Te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=xu(),Te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=me;return n.index++,a}function Ni(t,n){return typeof n=="function"?n(t):n}function Lu(t){var n=ft();return Qh(n,Ve,t)}function Qh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=v=null,A=null,x=n,F=!1;do{var Q=x.lane&-536870913;if(Q!==x.lane?(Oe&Q)===Q:(Es&Q)===Q){var j=x.revertLane;if(j===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Q===ga&&(F=!0);else if((Es&j)===j){x=x.next,j===ga&&(F=!0);continue}else Q={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},A===null?(E=A=Q,v=d):A=A.next=Q,Te.lanes|=j,Os|=j;Q=x.action,mr&&a(d,Q),d=x.hasEagerState?x.eagerState:a(d,Q)}else j={lane:Q,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},A===null?(E=A=j,v=d):A=A.next=j,Te.lanes|=Q,Os|=Q;x=x.next}while(x!==null&&x!==n);if(A===null?v=d:A.next=E,!ln(d,t.memoizedState)&&(Ct=!0,F&&(a=ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=A,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $h(t){var n=ft(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ln(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function rm(t,n,a){var l=Te,h=ft(),d=ke;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!ln((Ve||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,Jh(om.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,va(9,lm.bind(null,l,h,a,n),{destroy:void 0},null),Ye===null)throw Error(r(349));d||Es&60||am(l,n,a)}return a}function am(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Te.updateQueue,n===null?(n=xu(),Te.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lm(t,n,a,l){n.value=a,n.getSnapshot=l,um(n)&&cm(t)}function om(t,n,a){return a(function(){um(n)&&cm(t)})}function um(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function cm(t){var n=_s(t,2);n!==null&&qt(n,t,2)}function Wh(t){var n=$t();if(typeof t=="function"){var a=t;if(t=a(),mr){Xn(!0);try{a()}finally{Xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function hm(t,n,a,l){return t.baseState=a,Qh(t,Ve,typeof l=="function"?l:Ni)}function LS(t,n,a,l,h){if(zu(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,fm(n,d)):(d.next=a.next,n.pending=a.next=d)}}function fm(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=b.T,v={};b.T=v;try{var E=a(h,l),A=b.S;A!==null&&A(v,E),dm(t,n,E)}catch(x){Zh(t,n,x)}finally{b.T=d}}else try{d=a(h,l),dm(t,n,d)}catch(x){Zh(t,n,x)}}function dm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pm(t,n,l)},function(l){return Zh(t,n,l)}):pm(t,n,a)}function pm(t,n,a){n.status="fulfilled",n.value=a,gm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fm(t,a)))}function Zh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gm(n),n=n.next;while(n!==l)}t.action=null}function gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mm(t,n){return n}function _m(t,n){if(ke){var a=Ye.formState;if(a!==null){e:{var l=Te;if(ke){if(Dt){t:{for(var h=Dt,d=si;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Dt=Hn(h.nextSibling),l=h.data==="F!";break e}}dr(l)}l=!1}l&&(n=a[0])}}return a=$t(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:n},a.queue=l,a=Lm.bind(null,Te,l),l.dispatch=a,l=Wh(!1),d=rf.bind(null,Te,!1,l.queue),l=$t(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=LS.bind(null,Te,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function ym(t){var n=ft();return vm(n,Ve,t)}function vm(t,n,a){n=Qh(t,n,mm)[0],t=Lu(Ni)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?kl(n):n;var l=ft(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Te.flags|=2048,va(9,US.bind(null,h,a),{destroy:void 0},null)),[n,d,t]}function US(t,n){t.action=n}function Em(t){var n=ft(),a=Ve;if(a!==null)return vm(n,a,t);ft(),n=n.memoizedState,a=ft();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function va(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Te.updateQueue,n===null&&(n=xu(),Te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tm(){return ft().memoizedState}function Uu(t,n,a,l){var h=$t();Te.flags|=t,h.memoizedState=va(1|n,a,{destroy:void 0},l===void 0?null:l)}function Pu(t,n,a,l){var h=ft();l=l===void 0?null:l;var d=h.memoizedState.inst;Ve!==null&&l!==null&&qh(l,Ve.memoizedState.deps)?h.memoizedState=va(n,a,d,l):(Te.flags|=t,h.memoizedState=va(1|n,a,d,l))}function Sm(t,n){Uu(8390656,8,t,n)}function Jh(t,n){Pu(2048,8,t,n)}function bm(t,n){return Pu(4,2,t,n)}function wm(t,n){return Pu(4,4,t,n)}function Cm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Am(t,n,a){a=a!=null?a.concat([t]):null,Pu(4,4,Cm.bind(null,n,t),a)}function ef(){}function Rm(t,n){var a=ft();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&qh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Nm(t,n){var a=ft();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&qh(n,l[1]))return l[0];if(l=t(),mr){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,n],l}function tf(t,n,a){return a===void 0||Es&1073741824?t.memoizedState=n:(t.memoizedState=a,t=O_(),Te.lanes|=t,Os|=t,a)}function Im(t,n,a,l){return ln(a,n)?a:pa.current!==null?(t=tf(t,a,l),ln(t,n)||(Ct=!0),t):Es&42?(t=O_(),Te.lanes|=t,Os|=t,n):(Ct=!0,t.memoizedState=a)}function Om(t,n,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=b.T,E={};b.T=E,rf(t,!1,n,a);try{var A=h(),x=b.S;if(x!==null&&x(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=MS(A,l);Ll(t,n,F,hn(t))}else Ll(t,n,l,hn(t))}catch(Q){Ll(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{se.p=d,b.T=v}}function PS(){}function nf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Dm(t).queue;Om(t,h,n,Ee,a===null?PS:function(){return Mm(t),a(l)})}function Dm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mm(t){var n=Dm(t).next.queue;Ll(t,n,{},hn())}function sf(){return Lt(to)}function xm(){return ft().memoizedState}function km(){return ft().memoizedState}function zS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=ws(a);var l=Cs(n,t,a);l!==null&&(qt(l,n,a),zl(l,n,a)),n={cache:Bh()},t.payload=n;return}n=n.return}}function HS(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(t)?Um(n,a):(a=xh(t,n,a,l),a!==null&&(qt(a,t,l),Pm(a,n,l)))}function Lm(t,n,a){var l=hn();Ll(t,n,a,l)}function Ll(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(t))Um(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return Tu(t,n,h,0),Ye===null&&Eu(),!1}catch{}finally{}if(a=xh(t,n,h,l),a!==null)return qt(a,t,l),Pm(a,n,l),!0}return!1}function rf(t,n,a,l){if(l={lane:2,revertLane:Xf(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(n)throw Error(r(479))}else n=xh(t,a,l,2),n!==null&&qt(n,t,2)}function zu(t){var n=t.alternate;return t===Te||n!==null&&n===Te}function Um(t,n){_a=Du=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pm(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rs(t,a)}}var ai={readContext:Lt,use:ku,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot};ai.useCacheRefresh=ot,ai.useMemoCache=ot,ai.useHostTransitionStatus=ot,ai.useFormState=ot,ai.useActionState=ot,ai.useOptimistic=ot;var _r={readContext:Lt,use:ku,useCallback:function(t,n){return $t().memoizedState=[t,n===void 0?null:n],t},useContext:Lt,useEffect:Sm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,Cm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Uu(4194308,4,t,n)},useInsertionEffect:function(t,n){Uu(4,2,t,n)},useMemo:function(t,n){var a=$t();n=n===void 0?null:n;var l=t();if(mr){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$t();if(a!==void 0){var h=a(n);if(mr){Xn(!0);try{a(n)}finally{Xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=HS.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var n=$t();return t={current:t},n.memoizedState=t},useState:function(t){t=Wh(t);var n=t.queue,a=Lm.bind(null,Te,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ef,useDeferredValue:function(t,n){var a=$t();return tf(a,t,n)},useTransition:function(){var t=Wh(!1);return t=Om.bind(null,Te,t.queue,!0,!1),$t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Te,h=$t();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Ye===null)throw Error(r(349));Oe&60||am(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Sm(om.bind(null,l,d,t),[t]),l.flags|=2048,va(9,lm.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var t=$t(),n=Ye.identifierPrefix;if(ke){var a=Ai,l=Ci;a=(l&~(1<<32-Bt(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Mu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=xS++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return $t().memoizedState=zS.bind(null,Te)}};_r.useMemoCache=Xh,_r.useHostTransitionStatus=sf,_r.useFormState=_m,_r.useActionState=_m,_r.useOptimistic=function(t){var n=$t();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=rf.bind(null,Te,!0,a),a.dispatch=n,[t,n]};var Ts={readContext:Lt,use:ku,useCallback:Rm,useContext:Lt,useEffect:Jh,useImperativeHandle:Am,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Nm,useReducer:Lu,useRef:Tm,useState:function(){return Lu(Ni)},useDebugValue:ef,useDeferredValue:function(t,n){var a=ft();return Im(a,Ve.memoizedState,t,n)},useTransition:function(){var t=Lu(Ni)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:rm,useId:xm};Ts.useCacheRefresh=km,Ts.useMemoCache=Xh,Ts.useHostTransitionStatus=sf,Ts.useFormState=ym,Ts.useActionState=ym,Ts.useOptimistic=function(t,n){var a=ft();return hm(a,Ve,t,n)};var yr={readContext:Lt,use:ku,useCallback:Rm,useContext:Lt,useEffect:Jh,useImperativeHandle:Am,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Nm,useReducer:$h,useRef:Tm,useState:function(){return $h(Ni)},useDebugValue:ef,useDeferredValue:function(t,n){var a=ft();return Ve===null?tf(a,t,n):Im(a,Ve.memoizedState,t,n)},useTransition:function(){var t=$h(Ni)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:kl(t),n]},useSyncExternalStore:rm,useId:xm};yr.useCacheRefresh=km,yr.useMemoCache=Xh,yr.useHostTransitionStatus=sf,yr.useFormState=Em,yr.useActionState=Em,yr.useOptimistic=function(t,n){var a=ft();return Ve!==null?hm(a,Ve,t,n):(a.baseState=t,[t,a.queue.dispatch])};function af(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:I({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lf={isMounted:function(t){return(t=t._reactInternals)?ce(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),h=ws(l);h.payload=n,a!=null&&(h.callback=a),n=Cs(t,h,l),n!==null&&(qt(n,t,l),zl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),h=ws(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Cs(t,h,l),n!==null&&(qt(n,t,l),zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=ws(a);l.tag=2,n!=null&&(l.callback=n),n=Cs(t,l,a),n!==null&&(qt(n,t,a),zl(n,t,a))}};function zm(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!Sl(a,l)||!Sl(h,d):!0}function Hm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&lf.enqueueReplaceState(n,n.state,null)}function vr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Bm(t){Hu(t)}function jm(t){console.error(t)}function Vm(t){Hu(t)}function Bu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(t,n,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(t,n)},a}function Fm(t){return t=ws(t),t.tag=3,t}function Gm(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qm(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qm(n,a,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function BS(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Pl(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ri===null?qf():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ph?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Gf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ph?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Gf(t,l,h)),!1}throw Error(r(435,a.tag))}return Gf(t,l,h),qf(),!1}if(ke)return n=Cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Uh&&(t=Error(r(422),{cause:l}),Al(Sn(t,a)))):(l!==Uh&&(n=Error(r(423),{cause:l}),Al(Sn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=of(t.stateNode,l,h),bf(t,h),st!==4&&(st=2)),!1;var d=Error(r(520),{cause:l});if(d=Sn(d,a),Yl===null?Yl=[d]:Yl.push(d),st!==4&&(st=2),n===null)return!0;l=Sn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=of(a.stateNode,l,t),bf(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fm(h),Gm(h,t,a,l),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Ym=Error(r(461)),Ct=!1;function Mt(t,n,a,l){n.child=t===null?Wg(n,null,a,l):pr(n,t.child,a,l)}function Km(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Tr(n),l=Fh(t,n,a,v,d,h),E=Gh(),t!==null&&!Ct?(Yh(t,n,h),Ii(t,n,h)):(ke&&E&&kh(n),n.flags|=1,Mt(t,n,l,h),n.child)}function Xm(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Qm(t,n,d,l,h)):(t=Gu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!_f(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(v,l)&&t.ref===n.ref)return Ii(t,n,h)}return n.flags|=1,t=Is(d,l),t.ref=n.ref,t.return=n,n.child=t}function Qm(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Sl(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,_f(t,h))t.flags&131072&&(Ct=!0);else return n.lanes=t.lanes,Ii(t,n,h)}return uf(t,n,a,l,h)}function $m(t,n,a){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Ul(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Wm(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,v!==null?v.cachePool:null),v!==null?Zg(n,v):zh(),Jg(n);else return n.lanes=n.childLanes=536870912,Wm(t,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(Ou(n,v.cachePool),Zg(n,v),vs(),n.memoizedState=null):(t!==null&&Ou(n,null),zh(),vs());return Mt(t,n,h,a),n.child}function Wm(t,n,a,l){var h=Vh();return h=h===null?null:{parent:_t._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ou(n,null),zh(),Jg(n),t!==null&&Pl(t,n,l,!0),null}function Ul(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function uf(t,n,a,l,h){return Tr(n),a=Fh(t,n,a,l,void 0,h),l=Gh(),t!==null&&!Ct?(Yh(t,n,h),Ii(t,n,h)):(ke&&l&&kh(n),n.flags|=1,Mt(t,n,a,h),n.child)}function Zm(t,n,a,l,h,d){return Tr(n),n.updateQueue=null,a=sm(n,l,a,h),im(t),l=Gh(),t!==null&&!Ct?(Yh(t,n,d),Ii(t,n,d)):(ke&&l&&kh(n),n.flags|=1,Mt(t,n,a,d),n.child)}function Jm(t,n,a,l,h){if(Tr(n),n.stateNode===null){var d=ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Lt(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Tf(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Lt(v):ca,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(af(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&lf.enqueueReplaceState(d,d.state,null),Bl(n,l,d,h),Hl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,A=vr(a,E);d.props=A;var x=d.context,F=a.contextType;v=ca,typeof F=="object"&&F!==null&&(v=Lt(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||x!==v)&&Hm(n,d,l,v),bs=!1;var j=n.memoizedState;d.state=j,Bl(n,l,d,h),Hl(),x=n.memoizedState,E||j!==x||bs?(typeof Q=="function"&&(af(n,a,Q,l),x=n.memoizedState),(A=bs||zm(n,a,A,l,j,x,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),d.props=l,d.state=x,d.context=v,l=A):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Sf(t,n),v=n.memoizedProps,F=vr(a,v),d.props=F,Q=n.pendingProps,j=d.context,x=a.contextType,A=ca,typeof x=="object"&&x!==null&&(A=Lt(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||j!==A)&&Hm(n,d,l,A),bs=!1,j=n.memoizedState,d.state=j,Bl(n,l,d,h),Hl();var q=n.memoizedState;v!==Q||j!==q||bs||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(af(n,a,E,l),q=n.memoizedState),(F=bs||zm(n,a,F,l,j,q,A)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(x||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,A)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=A,l=F):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ul(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=pr(n,t.child,null,h),n.child=pr(n,null,a,h)):Mt(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Ii(t,n,h),t}function e_(t,n,a,l){return Cl(),n.flags|=256,Mt(t,n,a,l),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function hf(t){return{baseLanes:t,cachePool:nm()}}function ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=In),t}function t_(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(h?ys(n):vs(),ke){var E=Dt,A;if(A=E){e:{for(A=E,E=si;A.nodeType!==8;){if(!E){E=null;break e}if(A=Hn(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(n.memoizedState={dehydrated:E,treeContext:hr!==null?{id:Ci,overflow:Ai}:null,retryLane:536870912},A=Nn(18,null,null,0),A.stateNode=E,A.return=n,n.child=A,Vt=n,Dt=null,A=!0):A=!1}A||dr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,h?(vs(),h=n.mode,E=pf({mode:"hidden",children:E},h),l=br(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=hf(a),h.childLanes=ff(t,v,a),n.memoizedState=cf,l):(ys(n),df(n,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(d)n.flags&256?(ys(n),n.flags&=-257,n=gf(t,n,a)):n.memoizedState!==null?(vs(),n.child=t.child,n.flags|=128,n=null):(vs(),h=l.fallback,E=n.mode,l=pf({mode:"visible",children:l.children},E),h=br(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,pr(n,t.child,null,a),l=n.child,l.memoizedState=hf(a),l.childLanes=ff(t,v,a),n.memoizedState=cf,n=h);else if(ys(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var x=v.dgst;v=x,l=Error(r(419)),l.stack="",l.digest=v,Al({value:l,source:null,stack:null}),n=gf(t,n,a)}else if(Ct||Pl(t,n,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=Ye,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==A.retryLane)throw A.retryLane=l,_s(t,l),qt(v,t,l),Ym}E.data==="$?"||qf(),n=gf(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=tb.bind(null,t),E._reactRetry=n,n=null):(t=A.treeContext,Dt=Hn(E.nextSibling),Vt=n,ke=!0,Pn=null,si=!1,t!==null&&(bn[wn++]=Ci,bn[wn++]=Ai,bn[wn++]=hr,Ci=t.id,Ai=t.overflow,hr=n),n=df(n,l.children),n.flags|=4096);return n}return h?(vs(),h=l.fallback,E=n.mode,A=t.child,x=A.sibling,l=Is(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&31457280,x!==null?h=Is(x,h):(h=br(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=hf(a):(A=E.cachePool,A!==null?(x=_t._currentValue,A=A.parent!==x?{parent:x,pool:x}:A):A=nm(),E={baseLanes:E.baseLanes|a,cachePool:A}),h.memoizedState=E,h.childLanes=ff(t,v,a),n.memoizedState=cf,l):(ys(n),a=t.child,t=a.sibling,a=Is(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function df(t,n){return n=pf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pf(t,n){return R_(t,n,0,null)}function gf(t,n,a){return pr(n,t.child,null,a),t=df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function n_(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vf(t.return,n,a)}function mf(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function i_(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Mt(t,n,l.children,a),l=mt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,n);else if(t.tag===19)n_(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Be(mt,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Iu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),mf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Iu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}mf(n,!0,a,null,d);break;case"together":mf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Os|=n.lanes,!(a&n.childLanes))if(t!==null){if(Pl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Is(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Is(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function _f(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function jS(t,n,a){switch(n.tag){case 3:Ji(n,n.stateNode.containerInfo),Ss(n,_t,t.memoizedState.cache),Cl();break;case 27:case 5:tl(n);break;case 4:Ji(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ys(n),n.flags|=128,null):a&n.child.childLanes?t_(t,n,a):(ys(n),t=Ii(t,n,a),t!==null?t.sibling:null);ys(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Pl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return i_(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(mt,mt.current),l)break;return null;case 22:case 23:return n.lanes=0,$m(t,n,a);case 24:Ss(n,_t,t.memoizedState.cache)}return Ii(t,n,a)}function s_(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!_f(t,a)&&!(n.flags&128))return Ct=!1,jS(t,n,a);Ct=!!(t.flags&131072)}else Ct=!1,ke&&n.flags&1048576&&Vg(n,wu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Df(l)?(t=vr(l,t),n.tag=1,n=Jm(null,n,l,t,a)):(n.tag=0,n=uf(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===U){n.tag=11,n=Km(null,n,l,t,a);break e}else if(h===$){n.tag=14,n=Xm(null,n,l,t,a);break e}}throw n=R(l)||l,Error(r(306,n,""))}}return n;case 0:return uf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=vr(l,n.pendingProps),Jm(t,n,l,h,a);case 3:e:{if(Ji(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,Sf(t,n),Bl(n,d,null,a);var v=n.memoizedState;if(d=v.cache,Ss(n,_t,d),d!==h.cache&&Ef(n,[_t],a,!0),Hl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=e_(t,n,d,a);break e}else if(d!==l){l=Sn(Error(r(424)),n),Al(l),n=e_(t,n,d,a);break e}else for(Dt=Hn(n.stateNode.containerInfo.firstChild),Vt=n,ke=!0,Pn=null,si=!0,a=Wg(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cl(),d===l){n=Ii(t,n,a);break e}Mt(t,n,d,a)}n=n.child}return n;case 26:return Ul(t,n),t===null?(a=ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:ke||(a=n.type,t=n.pendingProps,l=ic(gn.current).createElement(a),l[Et]=n,l[Tt]=t,xt(l,a,t),We(l),n.stateNode=l):n.memoizedState=ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return tl(n),t===null&&ke&&(l=n.stateNode=sy(n.type,n.pendingProps,gn.current),Vt=n,si=!0,Dt=Hn(l.firstChild)),l=n.pendingProps.children,t!==null||ke?Mt(t,n,l,a):n.child=pr(n,null,l,a),Ul(t,n),n.child;case 5:return t===null&&ke&&((h=l=Dt)&&(l=_b(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,Vt=n,Dt=Hn(l.firstChild),si=!1,h=!0):h=!1),h||dr(n)),tl(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,id(h,d)?l=null:v!==null&&id(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Fh(t,n,kS,null,null,a),to._currentValue=h),Ul(t,n),Mt(t,n,l,a),n.child;case 6:return t===null&&ke&&((t=a=Dt)&&(a=yb(a,n.pendingProps,si),a!==null?(n.stateNode=a,Vt=n,Dt=null,t=!0):t=!1),t||dr(n)),null;case 13:return t_(t,n,a);case 4:return Ji(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=pr(n,null,l,a):Mt(t,n,l,a),n.child;case 11:return Km(t,n,n.type,n.pendingProps,a);case 7:return Mt(t,n,n.pendingProps,a),n.child;case 8:return Mt(t,n,n.pendingProps.children,a),n.child;case 12:return Mt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ss(n,n.type,l.value),Mt(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Tr(n),h=Lt(h),l=l(h),n.flags|=1,Mt(t,n,l,a),n.child;case 14:return Xm(t,n,n.type,n.pendingProps,a);case 15:return Qm(t,n,n.type,n.pendingProps,a);case 19:return i_(t,n,a);case 22:return $m(t,n,a);case 24:return Tr(n),l=Lt(_t),t===null?(h=Vh(),h===null&&(h=Ye,d=Bh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Tf(n),Ss(n,_t,h)):(t.lanes&a&&(Sf(t,n),Bl(n,null,null,a),Hl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,_t,l)):(l=d.cache,Ss(n,_t,l),l!==h.cache&&Ef(n,[_t],a,!0))),Mt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var yf=Me(null),Er=null,Oi=null;function Ss(t,n,a){Be(yf,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=yf.current,tt(yf)}function vf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ef(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var A=0;A<n.length;A++)if(E.context===n[A]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),vf(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Pl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Zi.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(to):t=[to])}h=h.return}t!==null&&Ef(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tr(t){Er=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Lt(t){return r_(Er,t)}function Vu(t,n){return Er===null&&Tr(t),r_(t,n)}function r_(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return a}var bs=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Je&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(t),Bg(t,null,a),n}return Tu(t,l,n,a),Su(t)}function zl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rs(t,a)}}function bf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function Hl(){if(wf){var t=ma;if(t!==null)throw t}}function Bl(t,n,a,l){wf=!1;var h=t.updateQueue;bs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var A=E,x=A.next;A.next=null,v===null?d=x:v.next=x,v=A;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=x:E.next=x,F.lastBaseUpdate=A))}if(d!==null){var Q=h.baseState;v=0,F=x=A=null,E=d;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Oe&j)===j:(l&j)===j){j!==0&&j===ga&&(wf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=t,_e=E;j=n;var rt=a;switch(_e.tag){case 1:if(ae=_e.payload,typeof ae=="function"){Q=ae.call(rt,Q,j);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=_e.payload,j=typeof ae=="function"?ae.call(rt,Q,j):ae,j==null)break e;Q=I({},Q,j);break e;case 2:bs=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(x=F=q,A=Q):F=F.next=q,v|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=x,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Os|=v,t.lanes=v,t.memoizedState=Q}}function a_(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function l_(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)a_(a[t],n)}function jl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Fe(n,n.return,E)}}function As(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var A=a;try{E()}catch(x){Fe(h,A,x)}}}l=l.next}while(l!==d)}}catch(x){Fe(n,n.return,x)}}function o_(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{l_(n,a)}catch(l){Fe(t,t.return,l)}}}function u_(t,n,a){a.props=vr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Fe(t,n,l)}}function Sr(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Fe(t,n,d)}}function on(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Fe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Fe(t,n,h)}else a.current=null}function c_(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Fe(t,t.return,h)}}function h_(t,n,a){try{var l=t.stateNode;fb(l,t.type,a,n),l[Tt]=n}catch(h){Fe(t,t.return,h)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=nc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Af(t,n,a),t=t.sibling;t!==null;)Af(t,n,a),t=t.sibling}function qu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(qu(t,n,a),t=t.sibling;t!==null;)qu(t,n,a),t=t.sibling}var Mi=!1,it=!1,Rf=!1,d_=typeof WeakSet=="function"?WeakSet:Set,At=null,p_=!1;function VS(t,n){if(t=t.containerInfo,td=uc,t=Dg(t),Nh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,A=-1,x=0,F=0,Q=t,j=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||l!==0&&Q.nodeType!==3||(A=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===t)break t;if(j===a&&++x===h&&(E=v),j===d&&++F===l&&(A=v),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(nd={focusedElem:t,selectionRange:a},uc=!1,At=n;At!==null;)if(n=At,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,At=t;else for(;At!==null;){switch(n=At,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ae=vr(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Fe(a,a.return,_e)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,At=t;break}At=n.return}return ae=p_,p_=!1,ae}function g_(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(t,a),l&4&&jl(5,a);break;case 1:if(ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Fe(a,a.return,E)}else{var h=vr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Fe(a,a.return,E)}}l&64&&o_(a),l&512&&Sr(a,a.return);break;case 3:if(ki(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{l_(l,t)}catch(E){Fe(a,a.return,E)}}break;case 26:ki(t,a),l&512&&Sr(a,a.return);break;case 27:case 5:ki(t,a),n===null&&l&4&&c_(a),l&512&&Sr(a,a.return);break;case 12:ki(t,a);break;case 13:ki(t,a),l&4&&y_(t,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){n=n!==null&&n.memoizedState!==null||it;var d=Mi,v=it;Mi=h,(it=n)&&!v?Rs(t,a,(a.subtreeFlags&8772)!==0):ki(t,a),Mi=d,it=v}l&512&&(a.memoizedProps.mode==="manual"?Sr(a,a.return):on(a,a.return));break;default:ki(t,a)}}function m_(t){var n=t.alternate;n!==null&&(t.alternate=null,m_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,un=!1;function xi(t,n,a){for(a=a.child;a!==null;)__(t,n,a),a=a.sibling}function __(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 26:it||on(a,n),xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||on(a,n);var l=dt,h=un;for(dt=a.stateNode,xi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Zs(a),dt=l,un=h;break;case 5:it||on(a,n);case 6:h=dt;var d=un;if(dt=null,xi(t,n,a),dt=h,un=d,dt!==null)if(un)try{t=dt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Fe(a,n,v)}else try{dt.removeChild(a.stateNode)}catch(v){Fe(a,n,v)}break;case 18:dt!==null&&(un?(n=dt,a=a.stateNode,n.nodeType===8?rd(n.parentNode,a):n.nodeType===1&&rd(n,a),ro(n)):rd(dt,a.stateNode));break;case 4:l=dt,h=un,dt=a.stateNode.containerInfo,un=!0,xi(t,n,a),dt=l,un=h;break;case 0:case 11:case 14:case 15:it||As(2,a,n),it||As(4,a,n),xi(t,n,a);break;case 1:it||(on(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u_(a,n,l)),xi(t,n,a);break;case 21:xi(t,n,a);break;case 22:it||on(a,n),it=(l=it)||a.memoizedState!==null,xi(t,n,a),it=l;break;default:xi(t,n,a)}}function y_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){Fe(n,n.return,a)}}function qS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new d_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new d_),n;default:throw Error(r(435,t.tag))}}function Nf(t,n){var a=qS(t);n.forEach(function(l){var h=nb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,E=v;e:for(;E!==null;){switch(E.tag){case 27:case 5:dt=E.stateNode,un=!1;break e;case 3:dt=E.stateNode.containerInfo,un=!0;break e;case 4:dt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(dt===null)throw Error(r(160));__(d,v,h),dt=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)v_(n,t),n=n.sibling}var zn=null;function v_(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),Rn(t),l&4&&(As(3,t,t.return),jl(3,t),As(5,t,t.return));break;case 1:An(n,t),Rn(t),l&512&&(it||a===null||on(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(An(n,t),Rn(t),l&512&&(it||a===null||on(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[os]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),xt(d,l,a),d[Et]=t,We(d),l=d;break e;case"link":var v=cy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),xt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=cy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),xt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,We(d),l=d}t.stateNode=l}else hy(h,t.type,t.stateNode);else t.stateNode=uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hy(h,t.type,t.stateNode):uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&h_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var A=h.firstChild;A;){var x=A.nextSibling,F=A.nodeName;A[os]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=x}for(var Q=t.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);xt(h,Q,d),h[Et]=t,h[Tt]=d}catch(ae){Fe(t,t.return,ae)}}case 5:if(An(n,t),Rn(t),l&512&&(it||a===null||on(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ae){Fe(t,t.return,ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,h_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rf=!0);break;case 6:if(An(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ae){Fe(t,t.return,ae)}}break;case 3:if(ac=null,h=zn,zn=sc(n.containerInfo),An(n,t),zn=h,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(ae){Fe(t,t.return,ae)}Rf&&(Rf=!1,E_(t));break;case 4:l=zn,zn=sc(t.stateNode.containerInfo),An(n,t),Rn(t),zn=l;break;case 12:An(n,t),Rn(t);break;case 13:An(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pf=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nf(t,l)));break;case 22:if(l&512&&(it||a===null||on(a,a.return)),A=t.memoizedState!==null,x=a!==null&&a.memoizedState!==null,F=Mi,Q=it,Mi=F||A,it=Q||x,An(n,t),it=Q,Mi=F,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=A?n._visibility&-2:n._visibility|1,A&&(n=Mi||it,a===null||x||n||Ea(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){x=a=n;try{if(h=x.stateNode,A)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=x.stateNode,E=x.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ae){Fe(x,x.return,ae)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=A?"":x.memoizedProps}catch(ae){Fe(x,x.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nf(t,a))));break;case 19:An(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nf(t,l)));break;case 21:break;default:An(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(f_(a)){var l=a;break e}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var h=l.stateNode,d=Cf(t);qu(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var E=Cf(t);qu(t,E,v);break;case 3:case 4:var A=l.stateNode.containerInfo,x=Cf(t);Af(t,x,A);break;default:throw Error(r(161))}}}catch(F){Fe(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function E_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;E_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)g_(t,n.alternate,n),n=n.sibling}function Ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Ea(n);break;case 1:on(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&u_(n,n.return,a),Ea(n);break;case 26:case 27:case 5:on(n,n.return),Ea(n);break;case 22:on(n,n.return),n.memoizedState===null&&Ea(n);break;default:Ea(n)}t=t.sibling}}function Rs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rs(h,d,a),jl(4,d);break;case 1:if(Rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Fe(l,l.return,x)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)a_(A[h],E)}catch(x){Fe(l,l.return,x)}}a&&v&64&&o_(d),Sr(d,d.return);break;case 26:case 27:case 5:Rs(h,d,a),a&&l===null&&v&4&&c_(d),Sr(d,d.return);break;case 12:Rs(h,d,a);break;case 13:Rs(h,d,a),a&&v&4&&y_(h,d);break;case 22:d.memoizedState===null&&Rs(h,d,a),Sr(d,d.return);break;default:Rs(h,d,a)}n=n.sibling}}function If(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function Of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function Ns(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)T_(t,n,a,l),n=n.sibling}function T_(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ns(t,n,a,l),h&2048&&jl(9,n);break;case 3:Ns(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){Ns(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Fe(n,n.return,A)}}else Ns(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Ns(t,n,a,l):Vl(t,n):d._visibility&4?Ns(t,n,a,l):(d._visibility|=4,Ta(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&If(n.alternate,n);break;case 24:Ns(t,n,a,l),h&2048&&Of(n.alternate,n);break;default:Ns(t,n,a,l)}}function Ta(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,E=a,A=l,x=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(d,v,E,A,h),jl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?Ta(d,v,E,A,h):Vl(d,v):(F._visibility|=4,Ta(d,v,E,A,h)),h&&x&2048&&If(v.alternate,v);break;case 24:Ta(d,v,E,A,h),h&&x&2048&&Of(v.alternate,v);break;default:Ta(d,v,E,A,h)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Vl(a,l),h&2048&&If(l.alternate,l);break;case 24:Vl(a,l),h&2048&&Of(l.alternate,l);break;default:Vl(a,l)}n=n.sibling}}var ql=8192;function Sa(t){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 26:Sa(t),t.flags&ql&&t.memoizedState!==null&&Db(zn,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var n=zn;zn=sc(t.stateNode.containerInfo),Sa(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ql,ql=16777216,Sa(t),ql=n):Sa(t));break;default:Sa(t)}}function b_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Fl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];At=l,C_(l,t)}b_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&As(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Fu(t)):Fl(t);break;default:Fl(t)}}function Fu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];At=l,C_(l,t)}b_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),Fu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Fu(n));break;default:Fu(n)}t=t.sibling}}function C_(t,n){for(;At!==null;){var a=At;switch(a.tag){case 0:case 11:case 15:As(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,At=l;else e:for(a=t;At!==null;){l=At;var h=l.sibling,d=l.return;if(m_(l),l===a){At=null;break e}if(h!==null){h.return=d,At=h;break e}At=d}}}function FS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,a,l){return new FS(t,n,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Is(t,n){var a=t.alternate;return a===null?(a=Nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function A_(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")Df(t)&&(v=1);else if(typeof t=="string")v=Ib(t,a,Ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return br(a.children,h,d,n);case _:v=8,h|=24;break;case S:return t=Nn(12,a,n,h|2),t.elementType=S,t.lanes=d,t;case X:return t=Nn(13,a,n,h),t.elementType=X,t.lanes=d,t;case G:return t=Nn(19,a,n,h),t.elementType=G,t.lanes=d,t;case Z:return R_(a,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case L:v=10;break e;case C:v=9;break e;case U:v=11;break e;case $:v=14;break e;case te:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Nn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function br(t,n,a,l){return t=Nn(7,t,l,n),t.lanes=a,t}function R_(t,n,a,l){t=Nn(22,t,l,n),t.elementType=Z,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(r(456));if(!(h._pendingVisibility&2)){var v=_s(d,2);v!==null&&(h._pendingVisibility|=2,qt(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(r(456));if(h._pendingVisibility&2){var v=_s(d,2);v!==null&&(h._pendingVisibility&=-3,qt(v,d,2))}}};return t.stateNode=h,t}function Mf(t,n,a){return t=Nn(6,t,null,n),t.lanes=a,t}function xf(t,n,a){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Li(t){t.flags|=4}function N_(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n)){if(n=Cn.current,n!==null&&((Oe&4194176)===Oe?ri!==null:(Oe&62914560)!==Oe&&!(Oe&536870912)||n!==ri))throw Nl=Ph,Gg;t.flags|=8192}}function Yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?is():536870912,t.lanes|=n,wa|=n)}function Gl(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ze(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function GS(t,n,a){var l=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(_t),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wl(n)?Li(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Pn!==null&&(jf(Pn),Pn=null))),Ze(n),null;case 26:return a=n.memoizedState,t===null?(Li(n),a!==null?(Ze(n),N_(n,a)):(Ze(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Li(n),Ze(n),N_(n,a)):(Ze(n),n.flags&=-16777217):(t.memoizedProps!==l&&Li(n),Ze(n),n.flags&=-16777217),null;case 27:Gr(n),a=gn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}t=Ht.current,wl(n)?qg(n):(t=sy(h,l,a),n.stateNode=t,Li(n))}return Ze(n),null;case 5:if(Gr(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}if(t=Ht.current,wl(n))qg(n);else{switch(h=ic(gn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=n,t[Tt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(xt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(n)}}return Ze(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=gn.current,wl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Vt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(t.nodeValue,a)),t||dr(n)}else t=ic(t).createTextNode(l),t[Et]=n,n.stateNode=t}return Ze(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else Cl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),h=!1}else Pn!==null&&(jf(Pn),Pn=null),h=!0;if(!h)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Yu(n,n.updateQueue),Ze(n),null;case 4:return pi(),t===null&&Zf(n.stateNode.containerInfo),Ze(n),null;case 10:return Di(n.type),Ze(n),null;case 19:if(tt(mt),h=n.memoizedState,h===null)return Ze(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Gl(h,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=Iu(t),d!==null){for(n.flags|=128,Gl(h,!1),t=d.updateQueue,n.updateQueue=t,Yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)A_(a,t),a=a.sibling;return Be(mt,mt.current&1|2),n.child}t=t.sibling}h.tail!==null&&Yt()>Ku&&(n.flags|=128,l=!0,Gl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Iu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Yu(n,t),Gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ke)return Ze(n),null}else 2*Yt()-h.renderingStartTime>Ku&&a!==536870912&&(n.flags|=128,l=!0,Gl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Yt(),n.sibling=null,t=mt.current,Be(mt,l?t&1|2:t&1),n):(Ze(n),null);case 22:case 23:return Ri(n),Hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),a=n.updateQueue,a!==null&&Yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&tt(gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(_t),Ze(n),null;case 25:return null}throw Error(r(156,n.tag))}function YS(t,n){switch(Lh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(_t),pi(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(mt),null;case 4:return pi(),null;case 10:return Di(n.type),null;case 22:case 23:return Ri(n),Hh(),t!==null&&tt(gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(_t),null;case 25:return null;default:return null}}function I_(t,n){switch(Lh(n),n.tag){case 3:Di(_t),pi();break;case 26:case 27:case 5:Gr(n);break;case 4:pi();break;case 13:Ri(n);break;case 19:tt(mt);break;case 10:Di(n.type);break;case 22:case 23:Ri(n),Hh(),t!==null&&tt(gr);break;case 24:Di(_t)}}var KS={getCacheForType:function(t){var n=Lt(_t),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},XS=typeof WeakMap=="function"?WeakMap:Map,Je=0,Ye=null,we=null,Oe=0,Ke=0,cn=null,Ui=!1,ba=!1,kf=!1,Pi=0,st=0,Os=0,wr=0,Lf=0,In=0,wa=0,Yl=null,li=null,Uf=!1,Pf=0,Ku=1/0,Xu=null,Ds=null,Qu=!1,Cr=null,Kl=0,zf=0,Hf=null,Xl=0,Bf=null;function hn(){if(Je&2&&Oe!==0)return Oe&-Oe;if(b.T!==null){var t=ga;return t!==0?t:Xf()}return tu()}function O_(){In===0&&(In=!(Oe&536870912)||ke?ll():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),In}function qt(t,n,a){(t===Ye&&Ke===2||t.cancelPendingCommit!==null)&&(Ca(t,0),zi(t,Oe,In,!1)),lt(t,a),(!(Je&2)||t!==Ye)&&(t===Ye&&(!(Je&2)&&(wr|=a),st===4&&zi(t,Oe,In,!1)),oi(t))}function D_(t,n,a){if(Je&6)throw Error(r(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||ns(t,n),h=l?WS(t,n):Ff(t,n,!0),d=l;do{if(h===0){ba&&!l&&zi(t,n,0,!1);break}else if(h===6)zi(t,n,0,!Ui);else{if(a=t.current.alternate,d&&!QS(a)){h=Ff(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var E=t;h=Yl;var A=E.current.memoizedState.isDehydrated;if(A&&(Ca(E,v).flags|=256),v=Ff(E,v,!1),v!==2){if(kf&&!A){E.errorRecoveryDisabledLanes|=d,wr|=d,h=4;break e}d=li,li=h,d!==null&&jf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(t,0),zi(t,n,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){zi(l,n,In,!Ui);break e}break;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=Pf+300-Yt(),10<d)){if(zi(l,n,In,!Ui),kn(l,0)!==0)break e;l.timeoutHandle=ty(M_.bind(null,l,a,li,Xu,Uf,n,In,wr,wa,Ui,2,-0,0),d);break e}M_(l,a,li,Xu,Uf,n,In,wr,wa,Ui,0,-0,0)}}break}while(!0);oi(t)}function jf(t){li===null?li=t:li.push.apply(li,t)}function M_(t,n,a,l,h,d,v,E,A,x,F,Q,j){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:Ob},S_(n),n=Mb(),n!==null)){t.cancelPendingCommit=n(H_.bind(null,t,a,l,h,v,E,A,1,Q,j)),zi(t,d,v,!x);return}H_(t,a,l,h,v,E,A,F,Q,j)}function QS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(t,n,a,l){n&=~Lf,n&=~wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Bt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ss(t,a,n)}function $u(){return Je&6?!0:(Ql(0),!1)}function Vf(){if(we!==null){if(Ke===0)var t=we.return;else t=we,Oi=Er=null,Kh(t),da=null,Il=0,t=we;for(;t!==null;)I_(t.alternate,t),t=t.return;we=null}}function Ca(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vf(),Ye=t,we=a=Is(t.current,null),Oe=n,Ke=0,cn=null,Ui=!1,ba=ns(t,n),kf=!1,wa=In=Lf=wr=Os=st=0,li=Yl=null,Uf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Bt(l),d=1<<h;n|=t[h],l&=~d}return Pi=n,Eu(),a}function x_(t,n){Te=null,b.H=ai,n===Rl?(n=Xg(),Ke=3):n===Gg?(n=Xg(),Ke=4):Ke=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,we===null&&(st=1,Bu(t,Sn(n,t.current)))}function k_(){var t=b.H;return b.H=ai,t===null?ai:t}function L_(){var t=b.A;return b.A=KS,t}function qf(){st=4,Ui||(Oe&4194176)!==Oe&&Cn.current!==null||(ba=!0),!(Os&134217727)&&!(wr&134217727)||Ye===null||zi(Ye,Oe,In,!1)}function Ff(t,n,a){var l=Je;Je|=2;var h=k_(),d=L_();(Ye!==t||Oe!==n)&&(Xu=null,Ca(t,n)),n=!1;var v=st;e:do try{if(Ke!==0&&we!==null){var E=we,A=cn;switch(Ke){case 8:Vf(),v=6;break e;case 3:case 2:case 6:Cn.current===null&&(n=!0);var x=Ke;if(Ke=0,cn=null,Aa(t,E,A,x),a&&ba){v=0;break e}break;default:x=Ke,Ke=0,cn=null,Aa(t,E,A,x)}}$S(),v=st;break}catch(F){x_(t,F)}while(!0);return n&&t.shellSuspendCounter++,Oi=Er=null,Je=l,b.H=h,b.A=d,we===null&&(Ye=null,Oe=0,Eu()),v}function $S(){for(;we!==null;)U_(we)}function WS(t,n){var a=Je;Je|=2;var l=k_(),h=L_();Ye!==t||Oe!==n?(Xu=null,Ku=Yt()+500,Ca(t,n)):ba=ns(t,n);e:do try{if(Ke!==0&&we!==null){n=we;var d=cn;t:switch(Ke){case 1:Ke=0,cn=null,Aa(t,n,d,1);break;case 2:if(Yg(d)){Ke=0,cn=null,P_(n);break}n=function(){Ke===2&&Ye===t&&(Ke=7),oi(t)},d.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Yg(d)?(Ke=0,cn=null,P_(n)):(Ke=0,cn=null,Aa(t,n,d,7));break;case 5:var v=null;switch(we.tag){case 26:v=we.memoizedState;case 5:case 27:var E=we;if(!v||fy(v)){Ke=0,cn=null;var A=E.sibling;if(A!==null)we=A;else{var x=E.return;x!==null?(we=x,Wu(x)):we=null}break t}}Ke=0,cn=null,Aa(t,n,d,5);break;case 6:Ke=0,cn=null,Aa(t,n,d,6);break;case 8:Vf(),st=6;break e;default:throw Error(r(462))}}ZS();break}catch(F){x_(t,F)}while(!0);return Oi=Er=null,b.H=l,b.A=h,Je=a,we!==null?0:(Ye=null,Oe=0,Eu(),st)}function ZS(){for(;we!==null&&!mh();)U_(we)}function U_(t){var n=s_(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Wu(t):we=n}function P_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Zm(a,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=Zm(a,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:Kh(n);default:I_(a,n),n=we=A_(n,Pi),n=s_(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Wu(t):we=n}function Aa(t,n,a,l){Oi=Er=null,Kh(n),da=null,Il=0;var h=n.return;try{if(BS(t,h,n,a,Oe)){st=1,Bu(t,Sn(a,t.current)),we=null;return}}catch(d){if(h!==null)throw we=h,d;st=1,Bu(t,Sn(a,t.current)),we=null;return}n.flags&32768?(ke||l===1?t=!0:ba||Oe&536870912?t=!1:(Ui=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),z_(n,t)):Wu(n)}function Wu(t){var n=t;do{if(n.flags&32768){z_(n,Ui);return}t=n.return;var a=GS(n.alternate,n,Pi);if(a!==null){we=a;return}if(n=n.sibling,n!==null){we=n;return}we=n=t}while(n!==null);st===0&&(st=5)}function z_(t,n){do{var a=YS(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);st=6,we=null}function H_(t,n,a,l,h,d,v,E,A,x){var F=b.T,Q=se.p;try{se.p=2,b.T=null,JS(t,n,a,l,Q,h,d,v,E,A,x)}finally{b.T=F,se.p=Q}}function JS(t,n,a,l,h,d,v,E){do Ra();while(Cr!==null);if(Je&6)throw Error(r(327));var A=t.finishedWork;if(l=t.finishedLanes,A===null)return null;if(t.finishedWork=null,t.finishedLanes=0,A===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var x=A.lanes|A.childLanes;if(x|=Mh,Jo(t,l,x,d,v,E),t===Ye&&(we=Ye=null,Oe=0),!(A.subtreeFlags&10256)&&!(A.flags&10256)||Qu||(Qu=!0,zf=x,Hf=a,ib(gi,function(){return Ra(),null})),a=(A.flags&15990)!==0,A.subtreeFlags&15990||a?(a=b.T,b.T=null,d=se.p,se.p=2,v=Je,Je|=4,VS(t,A),v_(A,t),bS(nd,t.containerInfo),uc=!!td,nd=td=null,t.current=A,g_(t,A.alternate,A),nl(),Je=v,se.p=d,b.T=a):t.current=A,Qu?(Qu=!1,Cr=t,Kl=l):B_(t,x),x=t.pendingLanes,x===0&&(Ds=null),sl(A.stateNode),oi(t),n!==null)for(h=t.onRecoverableError,A=0;A<n.length;A++)x=n[A],h(x.value,{componentStack:x.stack});return Kl&3&&Ra(),x=t.pendingLanes,l&4194218&&x&42?t===Bf?Xl++:(Xl=0,Bf=t):Xl=0,Ql(0),null}function B_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function Ra(){if(Cr!==null){var t=Cr,n=zf;zf=0;var a=eu(Kl),l=b.T,h=se.p;try{if(se.p=32>a?32:a,b.T=null,Cr===null)var d=!1;else{a=Hf,Hf=null;var v=Cr,E=Kl;if(Cr=null,Kl=0,Je&6)throw Error(r(331));var A=Je;if(Je|=4,w_(v.current),T_(v,v.current,E,a),Je=A,Ql(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(es,v)}catch{}d=!0}return d}finally{se.p=h,b.T=l,B_(t,n)}}return!1}function j_(t,n,a){n=Sn(a,n),n=of(t.stateNode,n,2),t=Cs(t,n,2),t!==null&&(lt(t,2),oi(t))}function Fe(t,n,a){if(t.tag===3)j_(t,t,a);else for(;n!==null;){if(n.tag===3){j_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=Sn(a,t),a=Fm(2),l=Cs(n,a,2),l!==null&&(Gm(a,l,n,t),lt(l,2),oi(l));break}}n=n.return}}function Gf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new XS;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(kf=!0,h.add(a),t=eb.bind(null,t,n,a),n.then(t,t))}function eb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ye===t&&(Oe&a)===a&&(st===4||st===3&&(Oe&62914560)===Oe&&300>Yt()-Pf?!(Je&2)&&Ca(t,0):Lf|=a,wa===Oe&&(wa=0)),oi(t)}function V_(t,n){n===0&&(n=is()),t=_s(t,n),t!==null&&(lt(t,n),oi(t))}function tb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),V_(t,a)}function nb(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),V_(t,a)}function ib(t,n){return Qs(t,n)}var Zu=null,Na=null,Yf=!1,Ju=!1,Kf=!1,Ar=0;function oi(t){t!==Na&&t.next===null&&(Na===null?Zu=Na=t:Na=Na.next=t),Ju=!0,Yf||(Yf=!0,rb(sb))}function Ql(t,n){if(!Kf&&Ju){Kf=!0;do for(var a=!1,l=Zu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,G_(l,d))}else d=Oe,d=kn(l,l===Ye?d:0),!(d&3)||ns(l,d)||(a=!0,G_(l,d));l=l.next}while(a);Kf=!1}}function sb(){Ju=Yf=!1;var t=0;Ar!==0&&(db()&&(t=Ar),Ar=0);for(var n=Yt(),a=null,l=Zu;l!==null;){var h=l.next,d=q_(l,n);d===0?(l.next=null,a===null?Zu=h:a.next=h,h===null&&(Na=a)):(a=l,(t!==0||d&3)&&(Ju=!0)),l=h}Ql(t)}function q_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Bt(d),E=1<<v,A=h[v];A===-1?(!(E&a)||E&l)&&(h[v]=al(E,n)):A<=n&&(t.expiredLanes|=E),d&=~E}if(n=Ye,a=Oe,a=kn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Ke===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Kr(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ns(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Kr(l),eu(a)){case 2:case 8:a=vt;break;case 32:a=gi;break;case 268435456:a=il;break;default:a=gi}return l=F_.bind(null,t),a=Qs(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Kr(l),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,n){var a=t.callbackNode;if(Ra()&&t.callbackNode!==a)return null;var l=Oe;return l=kn(t,t===Ye?l:0),l===0?null:(D_(t,l,n),q_(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?F_.bind(null,t):null)}function G_(t,n){if(Ra())return null;D_(t,n,!0)}function rb(t){gb(function(){Je&6?Qs(gt,t):t()})}function Xf(){return Ar===0&&(Ar=ll()),Ar}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zn(""+t)}function K_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ab(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Y_((h[Tt]||null).action),v=l.submitter;v&&(n=(n=v[Tt]||null)?Y_(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var E=new ea("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ar!==0){var A=v?K_(h,v):new FormData(h);nf(a,{pending:!0,data:A,method:h.method,action:d},null,A)}}else typeof d=="function"&&(E.preventDefault(),A=v?K_(h,v):new FormData(h),nf(a,{pending:!0,data:A,method:h.method,action:d},d,A))},currentTarget:h}]})}}for(var Qf=0;Qf<Hg.length;Qf++){var $f=Hg[Qf],lb=$f.toLowerCase(),ob=$f[0].toUpperCase()+$f.slice(1);Un(lb,"on"+ob)}Un(kg,"onAnimationEnd"),Un(Lg,"onAnimationIteration"),Un(Ug,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(CS,"onTransitionRun"),Un(AS,"onTransitionStart"),Un(RS,"onTransitionCancel"),Un(Pg,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function X_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],A=E.instance,x=E.currentTarget;if(E=E.listener,A!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(F){Hu(F)}h.currentTarget=null,d=A}else for(v=0;v<l.length;v++){if(E=l[v],A=E.instance,x=E.currentTarget,E=E.listener,A!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(F){Hu(F)}h.currentTarget=null,d=A}}}}function Ne(t,n){var a=n[Ws];a===void 0&&(a=n[Ws]=new Set);var l=t+"__bubble";a.has(l)||(Q_(n,t,2,!1),a.add(l))}function Wf(t,n,a){var l=0;n&&(l|=4),Q_(a,t,l,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[ec]){t[ec]=!0,ul.forEach(function(a){a!=="selectionchange"&&(ub.has(a)||Wf(a,!1,t),Wf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ec]||(n[ec]=!0,Wf("selectionchange",!1,n))}}function Q_(t,n,a,l){switch(yy(n)){case 2:var h=Lb;break;case 8:h=Ub;break;default:h=hd}a=h.bind(null,n,a,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Jf(t,n,a,l,h){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Ln(E),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){l=d=v;continue e}E=E.parentNode}}l=l.return}ru(function(){var x=d,F=Jr(a),Q=[];e:{var j=zg.get(t);if(j!==void 0){var q=ea,ae=t;switch(t){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":q=aa;break;case"focusin":ae="focus",q=ia;break;case"focusout":ae="blur",q=ia;break;case"beforeblur":case"afterblur":q=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=du;break;case kg:case Lg:case Ug:q=sa;break;case Pg:q=gu;break;case"scroll":case"scrollend":q=au;break;case"wheel":q=Xt;break;case"copy":case"cut":case"paste":q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Tl;break;case"toggle":case"beforetoggle":q=yu}var _e=(n&4)!==0,rt=!_e&&(t==="scroll"||t==="scrollend"),P=_e?j!==null?j+"Capture":null:j;_e=[];for(var D=x,B;D!==null;){var K=D;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||P===null||(K=nr(D,P),K!=null&&_e.push(Wl(D,K,B))),rt)break;D=D.return}0<_e.length&&(j=new q(j,ae,null,a,F),Q.push({event:j,listeners:_e}))}}if(!(n&7)){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==yn&&(ae=a.relatedTarget||a.fromElement)&&(Ln(ae)||ae[ls]))break e;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ae=a.relatedTarget||a.toElement,q=x,ae=ae?Ln(ae):null,ae!==null&&(rt=ce(ae),_e=ae.tag,ae!==rt||_e!==5&&_e!==27&&_e!==6)&&(ae=null)):(q=null,ae=x),q!==ae)){if(_e=En,K="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Tl,K="onPointerLeave",P="onPointerEnter",D="pointer"),rt=q==null?j:us(q),B=ae==null?j:us(ae),j=new _e(K,D+"leave",q,a,F),j.target=rt,j.relatedTarget=B,K=null,Ln(F)===x&&(_e=new _e(P,D+"enter",ae,a,F),_e.target=B,_e.relatedTarget=rt,K=_e),rt=K,q&&ae)t:{for(_e=q,P=ae,D=0,B=_e;B;B=Ia(B))D++;for(B=0,K=P;K;K=Ia(K))B++;for(;0<D-B;)_e=Ia(_e),D--;for(;0<B-D;)P=Ia(P),B--;for(;D--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=Ia(_e),P=Ia(P)}_e=null}else _e=null;q!==null&&$_(Q,j,q,_e,!1),ae!==null&&rt!==null&&$_(Q,rt,ae,_e,!0)}}e:{if(j=x?us(x):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var re=bg;else if(bi(j))if(wg)re=TS;else{re=vS;var Se=yS}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?x&&pl(x.elementType)&&(re=bg):re=ES;if(re&&(re=re(t,x))){Qt(Q,re,a,F);break e}Se&&Se(t,j,x),t==="focusout"&&x&&j.type==="number"&&x.memoizedProps.value!=null&&Zr(j,"number",j.value)}switch(Se=x?us(x):window,t){case"focusin":(bi(Se)||Se.contentEditable==="true")&&(la=Se,Ih=x,bl=null);break;case"focusout":bl=Ih=la=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Mg(Q,a,F);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Mg(Q,a,F)}var ue;if(u)e:{switch(t){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else $e?J(t,a)&&(he="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(T&&a.locale!=="ko"&&($e||he!=="onCompositionStart"?he==="onCompositionEnd"&&$e&&(ue=ml()):(Jn=F,gs="value"in Jn?Jn.value:Jn.textContent,$e=!0)),Se=tc(x,he),0<Se.length&&(he=new vl(he,t,null,a,F),Q.push({event:he,listeners:Se}),ue?he.data=ue:(ue=He(a),ue!==null&&(he.data=ue)))),(ue=y?Ie(t,a):bt(t,a))&&(he=tc(x,"onBeforeInput"),0<he.length&&(Se=new vl("onBeforeInput","beforeinput",null,a,F),Q.push({event:Se,listeners:he}),Se.data=ue)),ab(Q,t,x,a,F)}X_(Q,n)})}function Wl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function tc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=nr(t,a),h!=null&&l.unshift(Wl(t,h,d)),h=nr(t,n),h!=null&&l.push(Wl(t,h,d))),t=t.return}return l}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $_(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var E=a,A=E.alternate,x=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||x===null||(A=x,h?(x=nr(a,d),x!=null&&v.unshift(Wl(a,x,A))):h||(x=nr(a,d),x!=null&&v.push(Wl(a,x,A)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function W_(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(hb,"")}function Z_(t,n){return n=W_(n),W_(t)===n}function nc(){}function qe(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":fs(t,"class",l);break;case"tabIndex":fs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(t,a,l);break;case"style":su(t,l,d);break;case"data":if(n!=="object"){fs(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&qe(t,n,"name",h.name,h,null),qe(t,n,"formEncType",h.formEncType,h,null),qe(t,n,"formMethod",h.formMethod,h,null),qe(t,n,"formTarget",h.formTarget,h,null)):(qe(t,n,"encType",h.encType,h,null),qe(t,n,"method",h.method,h,null),qe(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=nc);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),hs(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sh.get(a)||a,hs(t,a,l))}}function ed(t,n,a,l,h,d){switch(a){case"style":su(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hs(t,a,l)}}}function xt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:qe(t,n,d,v,a,null)}}h&&qe(t,n,"srcSet",a.srcSet,a,null),l&&qe(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=d=v=h=null,A=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":A=F;break;case"defaultChecked":x=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:qe(t,n,l,F,a,null)}}er(t,d,E,A,x,v,h,!1),Js(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:qe(t,n,h,E,a,null)}n=d,a=v,t.multiple=!!l,n!=null?xe(t,!!l,n,!1):a!=null&&xe(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:qe(t,n,v,E,a,null)}ps(t,l,h,d),Js(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(t,n,A,l,a,null)}return;case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ne($l[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:qe(t,n,x,l,a,null)}return;default:if(pl(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&ed(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&qe(t,n,E,l,a,null))}function fb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,A=null,x=null,F=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=Q;default:l.hasOwnProperty(q)||qe(t,n,q,null,l,Q)}}for(var j in l){var q=l[j];if(Q=a[j],l.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Q&&qe(t,n,j,q,l,Q)}}ds(t,v,E,A,x,F,d,h);return;case"select":q=v=E=j=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":q=A;default:l.hasOwnProperty(d)||qe(t,n,d,null,l,A)}for(h in l)if(d=l[h],A=a[h],l.hasOwnProperty(h)&&(d!=null||A!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==A&&qe(t,n,h,d,l,A)}n=E,a=v,l=q,j!=null?xe(t,!!a,j,!1):!!l!=!!a&&(n!=null?xe(t,!!a,n,!0):xe(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(t,n,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&qe(t,n,v,h,l,d)}tr(t,j,q);return;case"option":for(var ae in a)if(j=a[ae],a.hasOwnProperty(ae)&&j!=null&&!l.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:qe(t,n,ae,null,l,j)}for(A in l)if(j=l[A],q=a[A],l.hasOwnProperty(A)&&j!==q&&(j!=null||q!=null))switch(A){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:qe(t,n,A,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)j=a[_e],a.hasOwnProperty(_e)&&j!=null&&!l.hasOwnProperty(_e)&&qe(t,n,_e,null,l,j);for(x in l)if(j=l[x],q=a[x],l.hasOwnProperty(x)&&j!==q&&(j!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:qe(t,n,x,j,l,q)}return;default:if(pl(n)){for(var rt in a)j=a[rt],a.hasOwnProperty(rt)&&j!==void 0&&!l.hasOwnProperty(rt)&&ed(t,n,rt,void 0,l,j);for(F in l)j=l[F],q=a[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||ed(t,n,F,j,l,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&qe(t,n,P,null,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j==null&&q==null||qe(t,n,Q,j,l,q)}var td=null,nd=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function J_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function id(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function db(){var t=window.event;return t&&t.type==="popstate"?t===sd?!1:(sd=t,!0):(sd=null,!1)}var ty=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(mb)}:ty;function mb(t){setTimeout(function(){throw t})}function rd(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),ro(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ro(n)}function ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ad(a),Zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _b(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[os])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function yb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function sy(t,n,a){switch(n=ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var On=new Map,ry=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Hi=se.d;se.d={f:vb,r:Eb,D:Tb,C:Sb,L:bb,m:wb,X:Ab,S:Cb,M:Rb};function vb(){var t=Hi.f(),n=$u();return t||n}function Eb(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?Mm(n):Hi.r(t)}var Oa=typeof document>"u"?null:document;function ay(t,n,a){var l=Oa;if(l&&typeof n=="string"&&n){var h=nt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ry.has(h)||(ry.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),xt(n,"link",t),We(n),l.head.appendChild(n)))}}function Tb(t){Hi.D(t),ay("dns-prefetch",t,null)}function Sb(t,n){Hi.C(t,n),ay("preconnect",t,n)}function bb(t,n,a){Hi.L(t,n,a);var l=Oa;if(l&&t&&n){var h='link[rel="preload"][as="'+nt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nt(a.imageSizes)+'"]')):h+='[href="'+nt(t)+'"]';var d=h;switch(n){case"style":d=Da(t);break;case"script":d=Ma(t)}On.has(d)||(t=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Zl(d))||n==="script"&&l.querySelector(Jl(d))||(n=l.createElement("link"),xt(n,"link",t),We(n),l.head.appendChild(n)))}}function wb(t,n){Hi.m(t,n);var a=Oa;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nt(l)+'"][href="'+nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(t)}if(!On.has(d)&&(t=I({rel:"modulepreload",href:t},n),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(d)))return}l=a.createElement("link"),xt(l,"link",t),We(l),a.head.appendChild(l)}}}function Cb(t,n,a){Hi.S(t,n,a);var l=Oa;if(l&&t){var h=cs(l).hoistableStyles,d=Da(t);n=n||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Zl(d)))E.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(d))&&ld(t,a);var A=v=l.createElement("link");We(A),xt(A,"link",t),A._p=new Promise(function(x,F){A.onload=x,A.onerror=F}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function Ab(t,n){Hi.X(t,n);var a=Oa;if(a&&t){var l=cs(a).hoistableScripts,h=Ma(t),d=l.get(h);d||(d=a.querySelector(Jl(h)),d||(t=I({src:t,async:!0},n),(n=On.get(h))&&od(t,n),d=a.createElement("script"),We(d),xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Rb(t,n){Hi.M(t,n);var a=Oa;if(a&&t){var l=cs(a).hoistableScripts,h=Ma(t),d=l.get(h);d||(d=a.querySelector(Jl(h)),d||(t=I({src:t,async:!0,type:"module"},n),(n=On.get(h))&&od(t,n),d=a.createElement("script"),We(d),xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ly(t,n,a,l){var h=(h=gn.current)?sc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Da(a.href),a=cs(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Da(a.href);var d=cs(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Zl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||Nb(h,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(a),a=cs(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Da(t){return'href="'+nt(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function oy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xt(n,"link",a),We(n),t.head.appendChild(n))}function Ma(t){return'[src="'+nt(t)+'"]'}function Jl(t){return"script[async]"+t}function uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nt(a.href)+'"]');if(l)return n.instance=l,We(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),xt(l,"style",h),rc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Da(a.href);var d=t.querySelector(Zl(h));if(d)return n.state.loading|=4,n.instance=d,We(d),d;l=oy(a),(h=On.get(h))&&ld(l,h),d=(t.ownerDocument||t).createElement("link"),We(d);var v=d;return v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),xt(d,"link",l),n.state.loading|=4,rc(d,a.precedence,t),n.instance=d;case"script":return d=Ma(a.src),(h=t.querySelector(Jl(d)))?(n.instance=h,We(h),h):(l=a,(h=On.get(d))&&(l=I({},a),od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),We(h),xt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,rc(l,a.precedence,t));return n.instance}function rc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ac=null;function cy(t,n,a){if(ac===null){var l=new Map,h=ac=new Map;h.set(a,l)}else h=ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[os]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Ib(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var eo=null;function Ob(){}function Db(t,n,a){if(eo===null)throw Error(r(475));var l=eo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Da(a.href),d=t.querySelector(Zl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,We(d);return}d=t.ownerDocument||t,a=oy(a),(h=On.get(h))&&ld(a,h),d=d.createElement("link"),We(d);var v=d;v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),xt(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=lc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Mb(){if(eo===null)throw Error(r(475));var t=eo;return t.stylesheets&&t.count===0&&ud(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function ud(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,n.forEach(xb,t),oc=null,lc.call(t))}function xb(t,n){if(!(n.state.loading&4)){var a=oc.get(t);if(a)var l=a.get(null);else{a=new Map,oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var to={$$typeof:L,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function kb(t,n,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function dy(t,n,a,l,h,d,v,E,A,x,F,Q){return t=new kb(t,n,a,v,E,A,x,Q),n=1,d===!0&&(n|=24),d=Nn(3,null,null,n),t.current=d,d.stateNode=t,n=Bh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Tf(d),t}function py(t){return t?(t=ca,t):ca}function gy(t,n,a,l,h,d){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cs(t,l,n),a!==null&&(qt(a,t,n),zl(a,t,n))}function my(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function cd(t,n){my(t,n),(t=t.alternate)&&my(t,n)}function _y(t){if(t.tag===13){var n=_s(t,67108864);n!==null&&qt(n,t,67108864),cd(t,67108864)}}var uc=!0;function Lb(t,n,a,l){var h=b.T;b.T=null;var d=se.p;try{se.p=2,hd(t,n,a,l)}finally{se.p=d,b.T=h}}function Ub(t,n,a,l){var h=b.T;b.T=null;var d=se.p;try{se.p=8,hd(t,n,a,l)}finally{se.p=d,b.T=h}}function hd(t,n,a,l){if(uc){var h=fd(l);if(h===null)Jf(t,n,l,cc,a),vy(t,l);else if(zb(h,t,n,a,l))l.stopPropagation();else if(vy(t,l),n&4&&-1<Pb.indexOf(t)){for(;h!==null;){var d=mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var A=1<<31-Bt(v);E.entanglements[1]|=A,v&=~A}oi(d),!(Je&6)&&(Ku=Yt()+500,Ql(0))}}break;case 13:E=_s(d,2),E!==null&&qt(E,d,2),$u(),cd(d,2)}if(d=fd(l),d===null&&Jf(t,n,l,cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jf(t,n,l,null,a)}}function fd(t){return t=Jr(t),dd(t)}var cc=null;function dd(t){if(cc=null,t=Ln(t),t!==null){var n=ce(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=ze(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return cc=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case gt:return 2;case vt:return 8;case gi:case Wo:return 32;case il:return 268435456;default:return 32}default:return 32}}var pd=!1,Ms=null,xs=null,ks=null,no=new Map,io=new Map,Ls=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vy(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function so(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=mi(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function zb(t,n,a,l,h){switch(n){case"focusin":return Ms=so(Ms,t,n,a,l,h),!0;case"dragenter":return xs=so(xs,t,n,a,l,h),!0;case"mouseover":return ks=so(ks,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return no.set(d,so(no.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,io.set(d,so(io.get(d)||null,t,n,a,l,h)),!0}return!1}function Ey(t){var n=Ln(t.target);if(n!==null){var a=ce(n);if(a!==null){if(n=a.tag,n===13){if(n=ze(a),n!==null){t.blockedOn=n,as(t.priority,function(){if(a.tag===13){var l=hn(),h=_s(a,l);h!==null&&qt(h,a,l),cd(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yn=l,a.target.dispatchEvent(l),yn=null}else return n=mi(a),n!==null&&_y(n),t.blockedOn=a,!1;n.shift()}return!0}function Ty(t,n,a){hc(t)&&a.delete(n)}function Hb(){pd=!1,Ms!==null&&hc(Ms)&&(Ms=null),xs!==null&&hc(xs)&&(xs=null),ks!==null&&hc(ks)&&(ks=null),no.forEach(Ty),io.forEach(Ty)}function fc(t,n){t.blockedOn===n&&(t.blockedOn=null,pd||(pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hb)))}var dc=null;function Sy(t){dc!==t&&(dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dc===t&&(dc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(dd(l||a)===null)continue;break}var d=mi(a);d!==null&&(t.splice(n,3),n-=3,nf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ro(t){function n(A){return fc(A,t)}Ms!==null&&fc(Ms,t),xs!==null&&fc(xs,t),ks!==null&&fc(ks,t),no.forEach(n),io.forEach(n);for(var a=0;a<Ls.length;a++){var l=Ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)Ey(a),a.blockedOn===null&&Ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||Sy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)E=v.formAction;else if(dd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sy(a)}}}function gd(t){this._internalRoot=t}pc.prototype.render=gd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=hn();gy(a,l,t,n,null,null)},pc.prototype.unmount=gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Ra(),gy(t.current,2,null,t,null,null),$u(),n[ls]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ls.length&&n!==0&&n<Ls[a].priority;a++);Ls.splice(a,0,t),a===0&&Ey(t)}};var by=e.version;if(by!=="19.0.0")throw Error(r(527,by,"19.0.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=W(n),t=t!==null?le(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{es=gc.inject(Bb),kt=gc}catch{}}return lo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Bm,d=jm,v=Vm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=dy(t,1,!1,null,null,a,l,h,d,v,E,null),t[ls]=n.current,Zf(t.nodeType===8?t.parentNode:t),new gd(n)},lo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Bm,v=jm,E=Vm,A=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),n=dy(t,1,!0,n,a??null,l,h,d,v,E,A,x),n.context=py(null),a=n.current,l=hn(),h=ws(l),h.callback=null,Cs(a,h,l),n.current.lanes=l,lt(n,l),oi(n),t[ls]=n.current,Zf(t),new pc(n)},lo.version="19.0.0",lo}var xy;function $b(){if(xy)return yd.exports;xy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yd.exports=Qb(),yd.exports}var Wb=$b(),oo={},ky;function Zb(){if(ky)return oo;ky=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.parse=f,oo.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,L){const U=new c,X=C.length;if(X<2)return U;const G=(L==null?void 0:L.decode)||S;let $=0;do{const te=C.indexOf("=",$);if(te===-1)break;const Z=C.indexOf(";",$),me=Z===-1?X:Z;if(te>me){$=C.lastIndexOf(";",te-1)+1;continue}const oe=p(C,$,te),Re=m(C,te,oe),k=C.slice(oe,Re);if(U[k]===void 0){let R=p(C,te+1,me),b=m(C,me,R);const I=G(C.slice(R,b));U[k]=I}$=me+1}while($<X);return U}function p(C,L,U){do{const X=C.charCodeAt(L);if(X!==32&&X!==9)return L}while(++L<U);return U}function m(C,L,U){for(;L>U;){const X=C.charCodeAt(--L);if(X!==32&&X!==9)return L+1}return U}function _(C,L,U){const X=(U==null?void 0:U.encode)||encodeURIComponent;if(!s.test(C))throw new TypeError(`argument name is invalid: ${C}`);const G=X(L);if(!e.test(G))throw new TypeError(`argument val is invalid: ${L}`);let $=C+"="+G;if(!U)return $;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);$+="; Max-Age="+U.maxAge}if(U.domain){if(!i.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);$+="; Domain="+U.domain}if(U.path){if(!r.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);$+="; Path="+U.path}if(U.expires){if(!w(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);$+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&($+="; HttpOnly"),U.secure&&($+="; Secure"),U.partitioned&&($+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return $}function S(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function w(C){return o.call(C)==="[object Date]"}return oo}Zb();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ly="popstate";function Jb(s={}){function e(r,o){let{pathname:c,search:f,hash:p}=r.location;return Vd("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Co(o)}return tw(e,i,null,s)}function et(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ci(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function Uy(s,e){return{usr:s.state,key:s.key,idx:e}}function Vd(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Xa(e):e,state:i,key:e&&e.key||r||ew()}}function Co({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Xa(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function tw(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,p="POP",m=null,_=S();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function S(){return(f.state||{idx:null}).idx}function w(){p="POP";let G=S(),$=G==null?null:G-_;_=G,m&&m({action:p,location:X.location,delta:$})}function C(G,$){p="PUSH";let te=Vd(X.location,G,$);_=S()+1;let Z=Uy(te,_),me=X.createHref(te);try{f.pushState(Z,"",me)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(me)}c&&m&&m({action:p,location:X.location,delta:1})}function L(G,$){p="REPLACE";let te=Vd(X.location,G,$);_=S();let Z=Uy(te,_),me=X.createHref(te);f.replaceState(Z,"",me),c&&m&&m({action:p,location:X.location,delta:0})}function U(G){let $=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof G=="string"?G:Co(G);return te=te.replace(/ $/,"%20"),et($,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,$)}let X={get action(){return p},get location(){return s(o,f)},listen(G){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ly,w),m=G,()=>{o.removeEventListener(Ly,w),m=null}},createHref(G){return e(o,G)},createURL:U,encodeLocation(G){let $=U(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:L,go(G){return f.go(G)}};return X}function _0(s,e,i="/"){return nw(s,e,i,!1)}function nw(s,e,i,r){let o=typeof e=="string"?Xa(e):e,c=Fs(o.pathname||"/",i);if(c==null)return null;let f=y0(s);iw(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let _=pw(c);p=fw(f[m],_,r)}return p}function y0(s,e=[],i=[],r=""){let o=(c,f,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};m.relativePath.startsWith("/")&&(et(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let _=Gi([r,m.relativePath]),S=i.concat(m);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),y0(c.children,e,S,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:cw(_,c.index),routesMeta:S})};return s.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))o(c,f);else for(let m of v0(c.path))o(c,f,m)}),e}function v0(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=v0(r.join("/")),p=[];return p.push(...f.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...f),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function iw(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:hw(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var sw=/^:[\w-]+$/,rw=3,aw=2,lw=1,ow=10,uw=-2,Py=s=>s==="*";function cw(s,e){let i=s.split("/"),r=i.length;return i.some(Py)&&(r+=uw),e&&(r+=aw),i.filter(o=>!Py(o)).reduce((o,c)=>o+(sw.test(c)?rw:c===""?lw:ow),r)}function hw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function fw(s,e,i=!1){let{routesMeta:r}=s,o={},c="/",f=[];for(let p=0;p<r.length;++p){let m=r[p],_=p===r.length-1,S=c==="/"?e:e.slice(c.length)||"/",w=Nc({path:m.relativePath,caseSensitive:m.caseSensitive,end:_},S),C=m.route;if(!w&&_&&i&&!r[r.length-1].route.index&&(w=Nc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},S)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Gi([c,w.pathname]),pathnameBase:yw(Gi([c,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(c=Gi([c,w.pathnameBase]))}return f}function Nc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=dw(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((_,{paramName:S,isOptional:w},C)=>{if(S==="*"){let U=p[C]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const L=p[C];return w&&!L?_[S]=void 0:_[S]=(L||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:s}}function dw(s,e=!1,i=!0){ci(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Fs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function gw(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?Xa(s):s;return{pathname:i?i.startsWith("/")?i:mw(i,e):e,search:vw(r),hash:Ew(o)}}function mw(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Sd(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _w(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function E0(s){let e=_w(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function T0(s,e,i,r=!1){let o;typeof s=="string"?o=Xa(s):(o={...s},et(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let c=s===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let w=e.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),w-=1;o.pathname=C.join("/")}p=w>=0?e[w]:"/"}let m=gw(o,p),_=f&&f!=="/"&&f.endsWith("/"),S=(c||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(_||S)&&(m.pathname+="/"),m}var Gi=s=>s.join("/").replace(/\/\/+/g,"/"),yw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),vw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Ew=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Tw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var Sw=["GET",...S0];new Set(Sw);var Qa=Y.createContext(null);Qa.displayName="DataRouter";var eh=Y.createContext(null);eh.displayName="DataRouterState";var b0=Y.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var bw=Y.createContext(new Map);bw.displayName="Fetchers";var ww=Y.createContext(null);ww.displayName="Await";var fi=Y.createContext(null);fi.displayName="Navigation";var Uo=Y.createContext(null);Uo.displayName="Location";var $i=Y.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var mp=Y.createContext(null);mp.displayName="RouteError";function Cw(s,{relative:e}={}){et(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=Y.useContext(fi),{hash:o,pathname:c,search:f}=zo(s,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:Gi([i,c])),r.createHref({pathname:p,search:f,hash:o})}function Po(){return Y.useContext(Uo)!=null}function Br(){return et(Po(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Uo).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(s){Y.useContext(fi).static||Y.useLayoutEffect(s)}function _p(){let{isDataRoute:s}=Y.useContext($i);return s?zw():Aw()}function Aw(){et(Po(),"useNavigate() may be used only in the context of a <Router> component.");let s=Y.useContext(Qa),{basename:e,navigator:i}=Y.useContext(fi),{matches:r}=Y.useContext($i),{pathname:o}=Br(),c=JSON.stringify(E0(r)),f=Y.useRef(!1);return C0(()=>{f.current=!0}),Y.useCallback((m,_={})=>{if(ci(f.current,w0),!f.current)return;if(typeof m=="number"){i.go(m);return}let S=T0(m,JSON.parse(c),o,_.relative==="path");s==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Gi([e,S.pathname])),(_.replace?i.replace:i.push)(S,_.state,_)},[e,i,c,o,s])}Y.createContext(null);function zo(s,{relative:e}={}){let{matches:i}=Y.useContext($i),{pathname:r}=Br(),o=JSON.stringify(E0(i));return Y.useMemo(()=>T0(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Rw(s,e){return A0(s,e)}function A0(s,e,i,r){var te;et(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Y.useContext(fi),{matches:f}=Y.useContext($i),p=f[f.length-1],m=p?p.params:{},_=p?p.pathname:"/",S=p?p.pathnameBase:"/",w=p&&p.route;{let Z=w&&w.path||"";R0(_,!w||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let C=Br(),L;if(e){let Z=typeof e=="string"?Xa(e):e;et(S==="/"||((te=Z.pathname)==null?void 0:te.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),L=Z}else L=C;let U=L.pathname||"/",X=U;if(S!=="/"){let Z=S.replace(/^\//,"").split("/");X="/"+U.replace(/^\//,"").split("/").slice(Z.length).join("/")}let G=!c&&i&&i.matches&&i.matches.length>0?i.matches:_0(s,{pathname:X});ci(w||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ci(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Mw(G&&G.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Gi([S,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?S:Gi([S,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,i,r);return e&&$?Y.createElement(Uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},$):$}function Nw(){let s=Pw(),e=Tw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:c},"ErrorBoundary")," or"," ",Y.createElement("code",{style:c},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:o},i):null,f)}var Iw=Y.createElement(Nw,null),Ow=class extends Y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?Y.createElement($i.Provider,{value:this.props.routeContext},Y.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dw({routeContext:s,match:e,children:i}){let r=Y.useContext(Qa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement($i.Provider,{value:s},i)}function Mw(s,e=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,c=i==null?void 0:i.errors;if(c!=null){let m=o.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);et(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(i)for(let m=0;m<o.length;m++){let _=o[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=m),_.route.id){let{loaderData:S,errors:w}=i,C=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||C){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,_,S)=>{let w,C=!1,L=null,U=null;i&&(w=c&&_.route.id?c[_.route.id]:void 0,L=_.route.errorElement||Iw,f&&(p<0&&S===0?(R0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,U=null):p===S&&(C=!0,U=_.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,S+1)),G=()=>{let $;return w?$=L:C?$=U:_.route.Component?$=Y.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=m,Y.createElement(Dw,{match:_,routeContext:{outlet:m,matches:X,isDataRoute:i!=null},children:$})};return i&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?Y.createElement(Ow,{location:i.location,revalidation:i.revalidation,component:L,error:w,children:G(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):G()},null)}function yp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(s){let e=Y.useContext(Qa);return et(e,yp(s)),e}function kw(s){let e=Y.useContext(eh);return et(e,yp(s)),e}function Lw(s){let e=Y.useContext($i);return et(e,yp(s)),e}function vp(s){let e=Lw(s),i=e.matches[e.matches.length-1];return et(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Uw(){return vp("useRouteId")}function Pw(){var r;let s=Y.useContext(mp),e=kw("useRouteError"),i=vp("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[i]}function zw(){let{router:s}=xw("useNavigate"),e=vp("useNavigate"),i=Y.useRef(!1);return C0(()=>{i.current=!0}),Y.useCallback(async(o,c={})=>{ci(i.current,w0),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var zy={};function R0(s,e,i){!e&&!zy[s]&&(zy[s]=!0,ci(!1,i))}Y.memo(Hw);function Hw({routes:s,future:e,state:i}){return A0(s,void 0,i,e)}function qd(s){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bw({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){et(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),p=Y.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Xa(i));let{pathname:m="/",search:_="",hash:S="",state:w=null,key:C="default"}=i,L=Y.useMemo(()=>{let U=Fs(m,f);return U==null?null:{location:{pathname:U,search:_,hash:S,state:w,key:C},navigationType:r}},[f,m,_,S,w,C,r]);return ci(L!=null,`<Router basename="${f}"> is not able to match the URL "${m}${_}${S}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Y.createElement(fi.Provider,{value:p},Y.createElement(Uo.Provider,{children:e,value:L}))}function jw({children:s,location:e}){return Rw(Fd(s),e)}function Fd(s,e=[]){let i=[];return Y.Children.forEach(s,(r,o)=>{if(!Y.isValidElement(r))return;let c=[...e,o];if(r.type===Y.Fragment){i.push.apply(i,Fd(r.props.children,c));return}et(r.type===qd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Fd(r.props.children,c)),i.push(f)}),i}var Tc="get",Sc="application/x-www-form-urlencoded";function th(s){return s!=null&&typeof s.tagName=="string"}function Vw(s){return th(s)&&s.tagName.toLowerCase()==="button"}function qw(s){return th(s)&&s.tagName.toLowerCase()==="form"}function Fw(s){return th(s)&&s.tagName.toLowerCase()==="input"}function Gw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Yw(s,e){return s.button===0&&(!e||e==="_self")&&!Gw(s)}var mc=null;function Kw(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var Xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(s){return s!=null&&!Xw.has(s)?(ci(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):s}function Qw(s,e){let i,r,o,c,f;if(qw(s)){let p=s.getAttribute("action");r=p?Fs(p,e):null,i=s.getAttribute("method")||Tc,o=bd(s.getAttribute("enctype"))||Sc,c=new FormData(s)}else if(Vw(s)||Fw(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(r=m?Fs(m,e):null,i=s.getAttribute("formmethod")||p.getAttribute("method")||Tc,o=bd(s.getAttribute("formenctype"))||bd(p.getAttribute("enctype"))||Sc,c=new FormData(p,s),!Kw()){let{name:_,type:S,value:w}=s;if(S==="image"){let C=_?`${_}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else _&&c.append(_,w)}}else{if(th(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Tc,r=null,o=Sc,f=s}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function $w(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ww(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Zw(s,e,i){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await $w(c,i);return f.links?f.links():[]}return[]}));return nC(r.flat(1).filter(Ww).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hy(s,e,i,r,o,c){let f=(m,_)=>i[_]?m.route.id!==i[_].route.id:!0,p=(m,_)=>{var S;return i[_].pathname!==m.pathname||((S=i[_].route.path)==null?void 0:S.endsWith("*"))&&i[_].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,_)=>f(m,_)||p(m,_)):c==="data"?e.filter((m,_)=>{var w;let S=r.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(f(m,_)||p(m,_))return!0;if(m.route.shouldRevalidate){let C=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Jw(s,e){return eC(s.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function eC(s){return[...new Set(s)]}function tC(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function nC(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(tC(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function iC(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sC(){let s=Y.useContext(Qa);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function rC(){let s=Y.useContext(eh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=Y.createContext(void 0);Tp.displayName="FrameworkContext";function N0(){let s=Y.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function aC(s,e){let i=Y.useContext(Tp),[r,o]=Y.useState(!1),[c,f]=Y.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:_,onMouseLeave:S,onTouchStart:w}=e,C=Y.useRef(null);Y.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let X=$=>{$.forEach(te=>{f(te.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[s]),Y.useEffect(()=>{if(r){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[r]);let L=()=>{o(!0)},U=()=>{o(!1),f(!1)};return i?s!=="intent"?[c,C,{}]:[c,C,{onFocus:uo(p,L),onBlur:uo(m,U),onMouseEnter:uo(_,L),onMouseLeave:uo(S,U),onTouchStart:uo(w,L)}]:[!1,C,{}]}function uo(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function lC({page:s,...e}){let{router:i}=sC(),r=Y.useMemo(()=>_0(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?Y.createElement(uC,{page:s,matches:r,...e}):null}function oC(s){let{manifest:e,routeModules:i}=N0(),[r,o]=Y.useState([]);return Y.useEffect(()=>{let c=!1;return Zw(s,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[s,e,i]),r}function uC({page:s,matches:e,...i}){let r=Br(),{manifest:o,routeModules:c}=N0(),{loaderData:f,matches:p}=rC(),m=Y.useMemo(()=>Hy(s,e,p,o,r,"data"),[s,e,p,o,r]),_=Y.useMemo(()=>Hy(s,e,p,o,r,"assets"),[s,e,p,o,r]),S=Y.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let L=new Set,U=!1;if(e.forEach(G=>{var te;let $=o.routes[G.route.id];!$||!$.hasLoader||(!m.some(Z=>Z.route.id===G.route.id)&&G.route.id in f&&((te=c[G.route.id])!=null&&te.shouldRevalidate)||$.hasClientLoader?U=!0:L.add(G.route.id))}),L.size===0)return[];let X=iC(s);return U&&L.size>0&&X.searchParams.set("_routes",e.filter(G=>L.has(G.route.id)).map(G=>G.route.id).join(",")),[X.pathname+X.search]},[f,r,o,m,e,s,c]),w=Y.useMemo(()=>Jw(_,o),[_,o]),C=oC(_);return Y.createElement(Y.Fragment,null,S.map(L=>Y.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),w.map(L=>Y.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),C.map(({key:L,link:U})=>Y.createElement("link",{key:L,...U})))}function cC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.1.5")}catch{}function hC({basename:s,children:e,window:i}){let r=Y.useRef();r.current==null&&(r.current=Jb({window:i,v5Compat:!0}));let o=r.current,[c,f]=Y.useState({action:o.action,location:o.location}),p=Y.useCallback(m=>{Y.startTransition(()=>f(m))},[f]);return Y.useLayoutEffect(()=>o.listen(p),[o,p]),Y.createElement(Bw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:p,target:m,to:_,preventScrollReset:S,viewTransition:w,...C},L){let{basename:U}=Y.useContext(fi),X=typeof _=="string"&&O0.test(_),G,$=!1;if(typeof _=="string"&&X&&(G=_,I0))try{let b=new URL(window.location.href),I=_.startsWith("//")?new URL(b.protocol+_):new URL(_),M=Fs(I.pathname,U);I.origin===b.origin&&M!=null?_=M+I.search+I.hash:$=!0}catch{ci(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Cw(_,{relative:o}),[Z,me,oe]=aC(r,C),Re=gC(_,{replace:f,state:p,target:m,preventScrollReset:S,relative:o,viewTransition:w});function k(b){e&&e(b),b.defaultPrevented||Re(b)}let R=Y.createElement("a",{...C,...oe,href:G||te,onClick:$||c?e:k,ref:cC(L,me),target:m,"data-discover":!X&&i==="render"?"true":void 0});return Z&&!X?Y.createElement(Y.Fragment,null,R,Y.createElement(lC,{page:te})):R});go.displayName="Link";var fC=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:p,children:m,..._},S){let w=zo(f,{relative:_.relative}),C=Br(),L=Y.useContext(eh),{navigator:U,basename:X}=Y.useContext(fi),G=L!=null&&EC(w)&&p===!0,$=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,te=C.pathname,Z=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(te=te.toLowerCase(),Z=Z?Z.toLowerCase():null,$=$.toLowerCase()),Z&&X&&(Z=Fs(Z,X)||Z);const me=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let oe=te===$||!o&&te.startsWith($)&&te.charAt(me)==="/",Re=Z!=null&&(Z===$||!o&&Z.startsWith($)&&Z.charAt($.length)==="/"),k={isActive:oe,isPending:Re,isTransitioning:G},R=oe?e:void 0,b;typeof r=="function"?b=r(k):b=[r,oe?"active":null,Re?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(k):c;return Y.createElement(go,{..._,"aria-current":R,className:b,ref:S,style:I,to:f,viewTransition:p},typeof m=="function"?m(k):m)});fC.displayName="NavLink";var dC=Y.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:f=Tc,action:p,onSubmit:m,relative:_,preventScrollReset:S,viewTransition:w,...C},L)=>{let U=yC(),X=vC(p,{relative:_}),G=f.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&O0.test(p),te=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let me=Z.nativeEvent.submitter,oe=(me==null?void 0:me.getAttribute("formmethod"))||f;U(me||Z.currentTarget,{fetcherKey:e,method:oe,navigate:i,replace:o,state:c,relative:_,preventScrollReset:S,viewTransition:w})};return Y.createElement("form",{ref:L,method:G,action:X,onSubmit:r?m:te,...C,"data-discover":!$&&s==="render"?"true":void 0})});dC.displayName="Form";function pC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(s){let e=Y.useContext(Qa);return et(e,pC(s)),e}function gC(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=_p(),m=Br(),_=zo(s,{relative:c});return Y.useCallback(S=>{if(Yw(S,e)){S.preventDefault();let w=i!==void 0?i:Co(m)===Co(_);p(s,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:f})}},[m,p,_,i,r,e,s,o,c,f])}var mC=0,_C=()=>`__${String(++mC)}__`;function yC(){let{router:s}=D0("useSubmit"),{basename:e}=Y.useContext(fi),i=Uw();return Y.useCallback(async(r,o={})=>{let{action:c,method:f,encType:p,formData:m,body:_}=Qw(r,e);if(o.navigate===!1){let S=o.fetcherKey||_C();await s.fetch(S,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function vC(s,{relative:e}={}){let{basename:i}=Y.useContext(fi),r=Y.useContext($i);et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...zo(s||".",{relative:e})},f=Br();if(s==null){c.search=f.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(S=>S==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let S=p.toString();c.search=S?`?${S}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Gi([i,c.pathname])),Co(c)}function EC(s,e={}){let i=Y.useContext(b0);et(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=D0("useViewTransitionState"),o=zo(s,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Fs(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=Fs(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Nc(o.pathname,f)!=null||Nc(o.pathname,c)!=null}new TextEncoder;var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(s,e){if(!s)throw $a(e)},$a=function(s){return new Error("Firebase Database ("+M0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},TC=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],p=s[i++],m=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,p=f?s[o+1]:0,m=o+2<s.length,_=m?s[o+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let C=(p&15)<<2|_>>6,L=_&63;m||(L=64,f||(C=64)),r.push(i[S],i[w],i[C],i[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(x0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):TC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new SC;const C=c<<2|p>>4;if(r.push(C),_!==64){const L=p<<4&240|_>>2;if(r.push(L),w!==64){const U=_<<6&192|w;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k0=function(s){const e=x0(s);return Sp.encodeByteArray(e,!0)},Ic=function(s){return k0(s).replace(/\./g,"")},Oc=function(s){try{return Sp.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(s){return L0(void 0,s)}function L0(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!wC(i)||(s[i]=L0(s[i],e[i]));return s}function wC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=()=>CC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof By>"u")return;const s=By.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Oc(s[1]);return e&&JSON.parse(e)},bp=()=>{try{return AC()||RC()||NC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U0=s=>{var e,i;return(i=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},P0=s=>{const e=U0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},z0=()=>{var s;return(s=bp())===null||s===void 0?void 0:s.config},H0=s=>{var e;return(e=bp())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ic(JSON.stringify(i)),Ic(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function IC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function V0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const s=Gt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function DC(){return M0.NODE_ADMIN===!0}function q0(){try{return typeof indexedDB=="object"}catch{return!1}}function F0(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}function MC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="FirebaseError";class Kn extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=xC,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}}class jr{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?kC(c,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Kn(o,p,r)}}function kC(s,e){return s.replace(LC,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const LC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(s){return JSON.parse(s)}function Ot(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(s){let e={},i={},r={},o="";try{const c=s.split(".");e=Ao(Oc(c[0])||""),i=Ao(Oc(c[1])||""),o=c[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},UC=function(s){const e=G0(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},PC=function(s){const e=G0(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Va(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Gd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Dc(s,e,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=e.call(i,s[o],o,s));return r}function Ro(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(jy(c)&&jy(f)){if(!Ro(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function jy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)r[w]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let w=0;w<16;w++)r[w]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let w=16;w<80;w++){const C=r[w-3]^r[w-8]^r[w-14]^r[w-16];r[w]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,S;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),S=1518500249):(_=c^f^p,S=1859775393):w<60?(_=c&f|p&(c|f),S=2400959708):(_=c^f^p,S=3395469782);const C=(o<<5|o>>>27)+_+m+S+r[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const c=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}else for(;o<i;)if(c[f]=e[o],++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function HC(s,e){const i=new BC(s,e);return i.subscribe.bind(i)}class BC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");jC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=wd),o.error===void 0&&(o.error=wd),o.complete===void 0&&(o.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function wd(){}function Y0(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,ee(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;o=65536+(c<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},nh=function(s){let e=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,FC=2,GC=4*60*60*1e3,YC=.5;function Vy(s,e=qC,i=FC){const r=e*Math.pow(i,s),o=Math.round(YC*r*(Math.random()-.5)*2);return Math.min(GC,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(s){return s&&s._delegate?s._delegate:s}class Mn{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new wp;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QC(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&f.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XC(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XC(s){return s===Rr?void 0:s}function QC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const WC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},ZC=Ue.INFO,JC={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},e1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=JC[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ho{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=e1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const t1=(s,e)=>e.some(i=>s instanceof i);let qy,Fy;function n1(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,Yd=new WeakMap,X0=new WeakMap,Cd=new WeakMap,Ap=new WeakMap;function s1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(js(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&K0.set(i,s)}).catch(()=>{}),Ap.set(e,s),e}function r1(s){if(Yd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Yd.set(s,e)}let Kd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Yd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||X0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return js(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function a1(s){Kd=s(Kd)}function l1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Ad(this),e,...i);return X0.set(r,e.sort?e.sort():[e]),js(r)}:i1().includes(s)?function(...e){return s.apply(Ad(this),e),js(K0.get(this))}:function(...e){return js(s.apply(Ad(this),e))}}function o1(s){return typeof s=="function"?l1(s):(s instanceof IDBTransaction&&r1(s),t1(s,n1())?new Proxy(s,Kd):s)}function js(s){if(s instanceof IDBRequest)return s1(s);if(Cd.has(s))return Cd.get(s);const e=o1(s);return e!==s&&(Cd.set(s,e),Ap.set(e,s)),e}const Ad=s=>Ap.get(s);function Q0(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),p=js(f);return r&&f.addEventListener("upgradeneeded",m=>{r(js(f.result),m.oldVersion,m.newVersion,js(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],Rd=new Map;function Gy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=c1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(i)))return;const c=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let _=m.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&m.done]))[0]};return Rd.set(e,c),c}a1(s=>({...s,get:(e,i,r)=>Gy(e,i)||s.get(e,i,r),has:(e,i)=>!!Gy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(f1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function f1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",Yy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Ho("@firebase/app"),d1="@firebase/app-compat",p1="@firebase/analytics-compat",g1="@firebase/analytics",m1="@firebase/app-check-compat",_1="@firebase/app-check",y1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",S1="@firebase/database-compat",b1="@firebase/functions",w1="@firebase/functions-compat",C1="@firebase/installations",A1="@firebase/installations-compat",R1="@firebase/messaging",N1="@firebase/messaging-compat",I1="@firebase/performance",O1="@firebase/performance-compat",D1="@firebase/remote-config",M1="@firebase/remote-config-compat",x1="@firebase/storage",k1="@firebase/storage-compat",L1="@firebase/firestore",U1="@firebase/vertexai",P1="@firebase/firestore-compat",z1="firebase",H1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",B1={[Xd]:"fire-core",[d1]:"fire-core-compat",[g1]:"fire-analytics",[p1]:"fire-analytics-compat",[_1]:"fire-app-check",[m1]:"fire-app-check-compat",[y1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[b1]:"fire-fn",[w1]:"fire-fn-compat",[C1]:"fire-iid",[A1]:"fire-iid-compat",[R1]:"fire-fcm",[N1]:"fire-fcm-compat",[I1]:"fire-perf",[O1]:"fire-perf-compat",[D1]:"fire-rc",[M1]:"fire-rc-compat",[x1]:"fire-gcs",[k1]:"fire-gcs-compat",[L1]:"fire-fst",[P1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,j1=new Map,$d=new Map;function Ky(s,e){try{s.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Yn(s){const e=s.name;if($d.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,s);for(const i of Mc.values())Ky(i,s);for(const i of j1.values())Ky(i,s);return!0}function Ks(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Dn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new jr("app","Firebase",V1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=H1;function $0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(i||(i=z0()),!i)throw Vs.create("no-options");const c=Mc.get(o);if(c){if(Ro(i,c.options)&&Ro(r,c.config))return c;throw Vs.create("duplicate-app",{appName:o})}const f=new $C(o);for(const m of $d.values())f.addComponent(m);const p=new q1(i,r,f);return Mc.set(o,p),p}function ih(s=Qd){const e=Mc.get(s);if(!e&&s===Qd&&z0())return $0();if(!e)throw Vs.create("no-app",{appName:s});return e}function tn(s,e,i){var r;let o=(r=B1[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(p.join(" "));return}Yn(new Mn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",G1=1,No="firebase-heartbeat-store";let Nd=null;function W0(){return Nd||(Nd=Q0(F1,G1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(s=>{throw Vs.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function Y1(s){try{const i=(await W0()).transaction(No),r=await i.objectStore(No).get(Z0(s));return await i.done,r}catch(e){if(e instanceof Kn)Ki.warn(e.message);else{const i=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(i.message)}}}async function Xy(s,e){try{const r=(await W0()).transaction(No,"readwrite");await r.objectStore(No).put(e,Z0(s)),await r.done}catch(i){if(i instanceof Kn)Ki.warn(i.message);else{const r=Vs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(r.message)}}}function Z0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,X1=30;class Q1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new W1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>X1){const f=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:r,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),c=Ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ki.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function $1(s,e=K1){const i=[];let r=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),$y(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$y(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q0()?F0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Y1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $y(s){return Ic(JSON.stringify({version:2,heartbeats:s})).length}function Z1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(s){Yn(new Mn("platform-logger",e=>new h1(e),"PRIVATE")),Yn(new Mn("heartbeat",e=>new Q1(e),"PRIVATE")),tn(Xd,Yy,s),tn(Xd,Yy,"esm2017"),tn("fire-js","")}J1("");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function b(){}b.prototype=R.prototype,k.D=R.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(I,M,H){for(var N=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)N[pt-2]=arguments[pt];return R.prototype[M].apply(I,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,b){b||(b=0);var I=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)I[M]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(M=0;16>M;++M)I[M]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=k.g[0],b=k.g[1],M=k.g[2];var H=k.g[3],N=R+(H^b&(M^H))+I[0]+3614090360&4294967295;R=b+(N<<7&4294967295|N>>>25),N=H+(M^R&(b^M))+I[1]+3905402710&4294967295,H=R+(N<<12&4294967295|N>>>20),N=M+(b^H&(R^b))+I[2]+606105819&4294967295,M=H+(N<<17&4294967295|N>>>15),N=b+(R^M&(H^R))+I[3]+3250441966&4294967295,b=M+(N<<22&4294967295|N>>>10),N=R+(H^b&(M^H))+I[4]+4118548399&4294967295,R=b+(N<<7&4294967295|N>>>25),N=H+(M^R&(b^M))+I[5]+1200080426&4294967295,H=R+(N<<12&4294967295|N>>>20),N=M+(b^H&(R^b))+I[6]+2821735955&4294967295,M=H+(N<<17&4294967295|N>>>15),N=b+(R^M&(H^R))+I[7]+4249261313&4294967295,b=M+(N<<22&4294967295|N>>>10),N=R+(H^b&(M^H))+I[8]+1770035416&4294967295,R=b+(N<<7&4294967295|N>>>25),N=H+(M^R&(b^M))+I[9]+2336552879&4294967295,H=R+(N<<12&4294967295|N>>>20),N=M+(b^H&(R^b))+I[10]+4294925233&4294967295,M=H+(N<<17&4294967295|N>>>15),N=b+(R^M&(H^R))+I[11]+2304563134&4294967295,b=M+(N<<22&4294967295|N>>>10),N=R+(H^b&(M^H))+I[12]+1804603682&4294967295,R=b+(N<<7&4294967295|N>>>25),N=H+(M^R&(b^M))+I[13]+4254626195&4294967295,H=R+(N<<12&4294967295|N>>>20),N=M+(b^H&(R^b))+I[14]+2792965006&4294967295,M=H+(N<<17&4294967295|N>>>15),N=b+(R^M&(H^R))+I[15]+1236535329&4294967295,b=M+(N<<22&4294967295|N>>>10),N=R+(M^H&(b^M))+I[1]+4129170786&4294967295,R=b+(N<<5&4294967295|N>>>27),N=H+(b^M&(R^b))+I[6]+3225465664&4294967295,H=R+(N<<9&4294967295|N>>>23),N=M+(R^b&(H^R))+I[11]+643717713&4294967295,M=H+(N<<14&4294967295|N>>>18),N=b+(H^R&(M^H))+I[0]+3921069994&4294967295,b=M+(N<<20&4294967295|N>>>12),N=R+(M^H&(b^M))+I[5]+3593408605&4294967295,R=b+(N<<5&4294967295|N>>>27),N=H+(b^M&(R^b))+I[10]+38016083&4294967295,H=R+(N<<9&4294967295|N>>>23),N=M+(R^b&(H^R))+I[15]+3634488961&4294967295,M=H+(N<<14&4294967295|N>>>18),N=b+(H^R&(M^H))+I[4]+3889429448&4294967295,b=M+(N<<20&4294967295|N>>>12),N=R+(M^H&(b^M))+I[9]+568446438&4294967295,R=b+(N<<5&4294967295|N>>>27),N=H+(b^M&(R^b))+I[14]+3275163606&4294967295,H=R+(N<<9&4294967295|N>>>23),N=M+(R^b&(H^R))+I[3]+4107603335&4294967295,M=H+(N<<14&4294967295|N>>>18),N=b+(H^R&(M^H))+I[8]+1163531501&4294967295,b=M+(N<<20&4294967295|N>>>12),N=R+(M^H&(b^M))+I[13]+2850285829&4294967295,R=b+(N<<5&4294967295|N>>>27),N=H+(b^M&(R^b))+I[2]+4243563512&4294967295,H=R+(N<<9&4294967295|N>>>23),N=M+(R^b&(H^R))+I[7]+1735328473&4294967295,M=H+(N<<14&4294967295|N>>>18),N=b+(H^R&(M^H))+I[12]+2368359562&4294967295,b=M+(N<<20&4294967295|N>>>12),N=R+(b^M^H)+I[5]+4294588738&4294967295,R=b+(N<<4&4294967295|N>>>28),N=H+(R^b^M)+I[8]+2272392833&4294967295,H=R+(N<<11&4294967295|N>>>21),N=M+(H^R^b)+I[11]+1839030562&4294967295,M=H+(N<<16&4294967295|N>>>16),N=b+(M^H^R)+I[14]+4259657740&4294967295,b=M+(N<<23&4294967295|N>>>9),N=R+(b^M^H)+I[1]+2763975236&4294967295,R=b+(N<<4&4294967295|N>>>28),N=H+(R^b^M)+I[4]+1272893353&4294967295,H=R+(N<<11&4294967295|N>>>21),N=M+(H^R^b)+I[7]+4139469664&4294967295,M=H+(N<<16&4294967295|N>>>16),N=b+(M^H^R)+I[10]+3200236656&4294967295,b=M+(N<<23&4294967295|N>>>9),N=R+(b^M^H)+I[13]+681279174&4294967295,R=b+(N<<4&4294967295|N>>>28),N=H+(R^b^M)+I[0]+3936430074&4294967295,H=R+(N<<11&4294967295|N>>>21),N=M+(H^R^b)+I[3]+3572445317&4294967295,M=H+(N<<16&4294967295|N>>>16),N=b+(M^H^R)+I[6]+76029189&4294967295,b=M+(N<<23&4294967295|N>>>9),N=R+(b^M^H)+I[9]+3654602809&4294967295,R=b+(N<<4&4294967295|N>>>28),N=H+(R^b^M)+I[12]+3873151461&4294967295,H=R+(N<<11&4294967295|N>>>21),N=M+(H^R^b)+I[15]+530742520&4294967295,M=H+(N<<16&4294967295|N>>>16),N=b+(M^H^R)+I[2]+3299628645&4294967295,b=M+(N<<23&4294967295|N>>>9),N=R+(M^(b|~H))+I[0]+4096336452&4294967295,R=b+(N<<6&4294967295|N>>>26),N=H+(b^(R|~M))+I[7]+1126891415&4294967295,H=R+(N<<10&4294967295|N>>>22),N=M+(R^(H|~b))+I[14]+2878612391&4294967295,M=H+(N<<15&4294967295|N>>>17),N=b+(H^(M|~R))+I[5]+4237533241&4294967295,b=M+(N<<21&4294967295|N>>>11),N=R+(M^(b|~H))+I[12]+1700485571&4294967295,R=b+(N<<6&4294967295|N>>>26),N=H+(b^(R|~M))+I[3]+2399980690&4294967295,H=R+(N<<10&4294967295|N>>>22),N=M+(R^(H|~b))+I[10]+4293915773&4294967295,M=H+(N<<15&4294967295|N>>>17),N=b+(H^(M|~R))+I[1]+2240044497&4294967295,b=M+(N<<21&4294967295|N>>>11),N=R+(M^(b|~H))+I[8]+1873313359&4294967295,R=b+(N<<6&4294967295|N>>>26),N=H+(b^(R|~M))+I[15]+4264355552&4294967295,H=R+(N<<10&4294967295|N>>>22),N=M+(R^(H|~b))+I[6]+2734768916&4294967295,M=H+(N<<15&4294967295|N>>>17),N=b+(H^(M|~R))+I[13]+1309151649&4294967295,b=M+(N<<21&4294967295|N>>>11),N=R+(M^(b|~H))+I[4]+4149444226&4294967295,R=b+(N<<6&4294967295|N>>>26),N=H+(b^(R|~M))+I[11]+3174756917&4294967295,H=R+(N<<10&4294967295|N>>>22),N=M+(R^(H|~b))+I[2]+718787259&4294967295,M=H+(N<<15&4294967295|N>>>17),N=b+(H^(M|~R))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var b=R-this.blockSize,I=this.B,M=this.h,H=0;H<R;){if(M==0)for(;H<=b;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<R;)if(I[M++]=k.charCodeAt(H++),M==this.blockSize){o(this,I),M=0;break}}else for(;H<R;)if(I[M++]=k[H++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var b=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=b&255,b/=256;for(this.u(k),k=Array(16),R=b=0;4>R;++R)for(var I=0;32>I;I+=8)k[b++]=this.g[R]>>>I&255;return k};function c(k,R){var b=p;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=R(k)}function f(k,R){this.h=R;for(var b=[],I=!0,M=k.length-1;0<=M;M--){var H=k[M]|0;I&&H==R||(b[M]=H,I=!1)}this.g=b}var p={};function m(k){return-128<=k&&128>k?c(k,function(R){return new f([R|0],0>R?-1:0)}):new f([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return G(_(-k));for(var R=[],b=1,I=0;k>=b;I++)R[I]=k/b|0,b*=4294967296;return new f(R,0)}function S(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return G(S(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(R,8)),I=w,M=0;M<k.length;M+=8){var H=Math.min(8,k.length-M),N=parseInt(k.substring(M,M+H),R);8>H?(H=_(Math.pow(R,H)),I=I.j(H).add(_(N))):(I=I.j(b),I=I.add(_(N)))}return I}var w=m(0),C=m(1),L=m(16777216);s=f.prototype,s.m=function(){if(X(this))return-G(this).m();for(var k=0,R=1,b=0;b<this.g.length;b++){var I=this.i(b);k+=(0<=I?I:4294967296+I)*R,R*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U(this))return"0";if(X(this))return"-"+G(this).toString(k);for(var R=_(Math.pow(k,6)),b=this,I="";;){var M=me(b,R).g;b=$(b,M.j(R));var H=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=M,U(b))return H+I;for(;6>H.length;)H="0"+H;I=H+I}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function U(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function X(k){return k.h==-1}s.l=function(k){return k=$(this,k),X(k)?-1:U(k)?0:1};function G(k){for(var R=k.g.length,b=[],I=0;I<R;I++)b[I]=~k.g[I];return new f(b,~k.h).add(C)}s.abs=function(){return X(this)?G(this):this},s.add=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],I=0,M=0;M<=R;M++){var H=I+(this.i(M)&65535)+(k.i(M)&65535),N=(H>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);I=N>>>16,H&=65535,N&=65535,b[M]=N<<16|H}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(k,R){return k.add(G(R))}s.j=function(k){if(U(this)||U(k))return w;if(X(this))return X(k)?G(this).j(G(k)):G(G(this).j(k));if(X(k))return G(this.j(G(k)));if(0>this.l(L)&&0>k.l(L))return _(this.m()*k.m());for(var R=this.g.length+k.g.length,b=[],I=0;I<2*R;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<k.g.length;M++){var H=this.i(I)>>>16,N=this.i(I)&65535,pt=k.i(M)>>>16,ut=k.i(M)&65535;b[2*I+2*M]+=N*ut,te(b,2*I+2*M),b[2*I+2*M+1]+=H*ut,te(b,2*I+2*M+1),b[2*I+2*M+1]+=N*pt,te(b,2*I+2*M+1),b[2*I+2*M+2]+=H*pt,te(b,2*I+2*M+2)}for(I=0;I<R;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=R;I<2*R;I++)b[I]=0;return new f(b,0)};function te(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function Z(k,R){this.g=k,this.h=R}function me(k,R){if(U(R))throw Error("division by zero");if(U(k))return new Z(w,w);if(X(k))return R=me(G(k),R),new Z(G(R.g),G(R.h));if(X(R))return R=me(k,G(R)),new Z(G(R.g),R.h);if(30<k.g.length){if(X(k)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=R;0>=I.l(k);)b=oe(b),I=oe(I);var M=Re(b,1),H=Re(I,1);for(I=Re(I,2),b=Re(b,2);!U(I);){var N=H.add(I);0>=N.l(k)&&(M=M.add(b),H=N),I=Re(I,1),b=Re(b,1)}return R=$(k,M.j(R)),new Z(M,R)}for(M=w;0<=k.l(R);){for(b=Math.max(1,Math.floor(k.m()/R.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),H=_(b),N=H.j(R);X(N)||0<N.l(k);)b-=I,H=_(b),N=H.j(R);U(H)&&(H=C),M=M.add(H),k=$(k,N)}return new Z(M,k)}s.A=function(k){return me(this,k).h},s.and=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)&k.i(I);return new f(b,this.h&k.h)},s.or=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)|k.i(I);return new f(b,this.h|k.h)},s.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)^k.i(I);return new f(b,this.h^k.h)};function oe(k){for(var R=k.g.length+1,b=[],I=0;I<R;I++)b[I]=k.i(I)<<1|k.i(I-1)>>>31;return new f(b,k.h)}function Re(k,R){var b=R>>5;R%=32;for(var I=k.g.length-b,M=[],H=0;H<I;H++)M[H]=0<R?k.i(H+b)>>>R|k.i(H+b+1)<<32-R:k.i(H+b);return new f(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=S,J0=f}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in y))break e;y=y[z]}u=u[u.length-1],T=y[u],g=g(T),g!=T&&g!=null&&e(y,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var y=0,T=!1,z={next:function(){if(!T&&y<u.length){var V=y++;return{value:g(V,u[V]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function _(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function S(u,g,y){return u.call.apply(u.bind,arguments)}function w(u,g,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function C(u,g,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:w,C.apply(null,arguments)}function L(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function U(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,z,V){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return g.prototype[z].apply(T,J)}}function X(u){const g=u.length;if(0<g){const y=Array(g);for(let T=0;T<g;T++)y[T]=u[T];return y}return[]}function G(u,g){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(m(T)){const z=u.length||0,V=T.length||0;u.length=z+V;for(let J=0;J<V;J++)u[z+J]=T[J]}else u.push(T)}}class ${constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function me(u){return me[" "](u),u}me[" "]=function(){};var oe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Re(u,g,y){for(const T in u)g.call(y,u[T],T,u)}function k(u,g){for(const y in u)g.call(void 0,u[y],y,u)}function R(u){const g={};for(const y in u)g[y]=u[y];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let y,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(y in T)u[y]=T[y];for(let V=0;V<b.length;V++)y=b[V],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var g=1;u=u.split(":");const y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function H(u){p.setTimeout(()=>{throw u},0)}function N(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pt{constructor(){this.h=this.g=null}add(g,y){const T=ut.get();T.set(g,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new $(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ce=!1,ze=new pt,O=()=>{const u=p.Promise.resolve(void 0);de=()=>{u.then(W)}};var W=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){H(y)}var g=ut;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ce=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,g),p.removeEventListener("test",y,g)}catch{}return u}();function Ee(u,g){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(oe){e:{try{me(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ye[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}U(Ee,ie);var ye={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),Me=0;function tt(u,g,y,T,z){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!T,this.ha=z,this.key=++Me,this.da=this.fa=!1}function Be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ht(u){this.src=u,this.g={},this.h=0}Ht.prototype.add=function(u,g,y,T,z){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var J=gn(u,g,T,z);return-1<J?(g=u[J],y||(g.fa=!1)):(g=new tt(g,this.src,V,!!T,z),g.fa=y,u.push(g)),g};function di(u,g){var y=g.type;if(y in u.g){var T=u.g[y],z=Array.prototype.indexOf.call(T,g,void 0),V;(V=0<=z)&&Array.prototype.splice.call(T,z,1),V&&(Be(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function gn(u,g,y,T){for(var z=0;z<u.length;++z){var V=u[z];if(!V.da&&V.listener==g&&V.capture==!!y&&V.ha==T)return z}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Ji={};function pi(u,g,y,T,z){if(Array.isArray(g)){for(var V=0;V<g.length;V++)pi(u,g[V],y,T,z);return null}return y=$o(y),u&&u[ct]?u.K(g,y,_(T)?!!T.capture:!1,z):tl(u,g,y,!1,T,z)}function tl(u,g,y,T,z,V){if(!g)throw Error("Invalid event type");var J=_(z)?!!z.capture:!!z,He=nl(u);if(He||(u[Zi]=He=new Ht(u)),y=He.add(g,y,T,J,V),y.proxy)return y;if(T=Gr(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)se||(z=J),z===void 0&&(z=!1),u.addEventListener(g.toString(),T,z);else if(u.attachEvent)u.attachEvent(Kr(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gr(){function u(y){return g.call(u.src,u.listener,y)}const g=mh;return u}function Yr(u,g,y,T,z){if(Array.isArray(g))for(var V=0;V<g.length;V++)Yr(u,g[V],y,T,z);else T=_(T)?!!T.capture:!!T,y=$o(y),u&&u[ct]?(u=u.i,g=String(g).toString(),g in u.g&&(V=u.g[g],y=gn(V,y,T,z),-1<y&&(Be(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete u.g[g],u.h--)))):u&&(u=nl(u))&&(g=u.g[g.toString()],u=-1,g&&(u=gn(g,y,T,z)),(y=-1<u?g[u]:null)&&Qs(y))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ct])di(g.i,u);else{var y=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(y,T,u.capture):g.detachEvent?g.detachEvent(Kr(y),T):g.addListener&&g.removeListener&&g.removeListener(T),(y=nl(g))?(di(y,u),y.h==0&&(y.src=null,g[Zi]=null)):Be(u)}}}function Kr(u){return u in Ji?Ji[u]:Ji[u]="on"+u}function mh(u,g){if(u.da)u=!0;else{g=new Ee(g,this);var y=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=y.call(T,g)}return u}function nl(u){return u=u[Zi],u instanceof Ht?u:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(u){return typeof u=="function"?u:(u[Yt]||(u[Yt]=function(g){return u.handleEvent(g)}),u[Yt])}function gt(){le.call(this),this.i=new Ht(this),this.M=this,this.F=null}U(gt,le),gt.prototype[ct]=!0,gt.prototype.removeEventListener=function(u,g,y,T){Yr(this,u,g,y,T)};function vt(u,g){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new ie(g,u);else if(g instanceof ie)g.target=g.target||u;else{var z=g;g=new ie(T,u),I(g,z)}if(z=!0,y)for(var V=y.length-1;0<=V;V--){var J=g.g=y[V];z=gi(J,T,!0,g)&&z}if(J=g.g=u,z=gi(J,T,!0,g)&&z,z=gi(J,T,!1,g)&&z,y)for(V=0;V<y.length;V++)J=g.g=y[V],z=gi(J,T,!1,g)&&z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],T=0;T<y.length;T++)Be(y[T]);delete u.g[g],u.h--}}this.F=null},gt.prototype.K=function(u,g,y,T){return this.i.add(String(u),g,!1,y,T)},gt.prototype.L=function(u,g,y,T){return this.i.add(String(u),g,!0,y,T)};function gi(u,g,y,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,V=0;V<g.length;++V){var J=g[V];if(J&&!J.da&&J.capture==y){var He=J.listener,$e=J.ha||J.src;J.fa&&di(u.i,J),z=He.call($e,T)!==!1&&z}}return z&&!T.defaultPrevented}function Wo(u,g,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function il(u){u.g=Wo(()=>{u.g=null,u.i&&(u.i=!1,il(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class _h extends le{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:il(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){le.call(this),this.h=u,this.g={}}U($s,le);var es=[];function kt(u){Re(u.g,function(g,y){this.g.hasOwnProperty(y)&&Qs(g)},u),u.g={}}$s.prototype.N=function(){$s.aa.N.call(this),kt(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sl=p.JSON.stringify,Xn=p.JSON.parse,Bt=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function rl(){}rl.prototype.h=null;function Zo(u){return u.h||(u.h=u.i())}function yh(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ts(){ie.call(this,"d")}U(ts,ie);function xn(){ie.call(this,"c")}U(xn,ie);var kn={},ns=null;function al(){return ns=ns||new gt}kn.La="serverreachability";function ll(u){ie.call(this,kn.La,u)}U(ll,ie);function is(u){const g=al();vt(g,new ll(g))}kn.STAT_EVENT="statevent";function Xr(u,g){ie.call(this,kn.STAT_EVENT,u),this.stat=g}U(Xr,ie);function lt(u){const g=al();vt(g,new Xr(g,u))}kn.Ma="timingevent";function Jo(u,g){ie.call(this,kn.Ma,u),this.size=g}U(Jo,ie);function ss(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function eu(u,g,y,T,z,V){u.info(function(){if(u.g)if(V)for(var J="",He=V.split("&"),$e=0;$e<He.length;$e++){var Ie=He[$e].split("=");if(1<Ie.length){var bt=Ie[0];Ie=Ie[1];var wt=bt.split("_");J=2<=wt.length&&wt[1]=="type"?J+(bt+"="+Ie+"&"):J+(bt+"=redacted&")}}else J=null;else J=V;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+g+`
`+y+`
`+J})}function tu(u,g,y,T,z,V,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+g+`
`+y+`
`+V+" "+J})}function as(u,g,y,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Et(u,y)+(T?" "+T:"")})}function $n(u,g){u.info(function(){return"TIMEOUT: "+g})}rs.prototype.info=function(){};function Et(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var V=z[0];if(V!="noop"&&V!="stop"&&V!="close")for(var J=1;J<z.length;J++)z[J]=""}}}}return sl(y)}catch{return g}}var Tt={NO_ERROR:0,TIMEOUT:8},ls={},Ws;function Qr(){}U(Qr,rl),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Ws=new Qr;function Wn(u,g,y,T){this.j=u,this.i=g,this.l=y,this.R=T||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ol}function ol(){this.i=null,this.g="",this.h=!1}var os={},Zs={};function Ln(u,g,y){u.L=1,u.v=tr(nt(g)),u.m=y,u.P=!0,mi(u,null)}function mi(u,g){u.F=Date.now(),We(u),u.A=nt(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vi(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ol,u.g=gu(u.j,y?g:null,!u.m),0<u.O&&(u.M=new _h(C(u.Y,u,u.g),u.O)),g=u.U,y=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(es[0]=z.toString()),z=es);for(var V=0;V<z.length;V++){var J=pi(y,z[V],T||g.handleEvent,!1,g.h||g);if(!J)break;g.g[J.key]=J}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),is(),eu(u.i,u.u,u.A,u.l,u.R,u.m)}Wn.prototype.ca=function(u){u=u.target;const g=this.M;g&&En(u)==3?g.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)e:{const wt=En(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||wt!=4||g==7||(g==8||0>=bi?is(3):is(2)),$r(this);var y=this.g.Z();this.X=y;t:if(us(this)){var T=lu(this.g);u="";var z=T.length,V=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),rn(this);var J="";break t}this.h.i=new p.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(V&&g==z-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,tu(this.i,this.u,this.A,this.l,this.R,wt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var He,$e=this.g;if((He=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(He)){var Ie=He;break t}}Ie=null}if(y=Ie)as(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,y);else{this.o=!1,this.s=3,lt(12),Kt(this),rn(this);break e}}if(this.P){y=!0;let Qt;for(;!this.J&&this.C<J.length;)if(Qt=cs(this,J),Qt==Zs){wt==4&&(this.s=4,lt(14),y=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==os){this.s=4,lt(15),as(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else as(this.i,this.l,Qt,null),an(this,Qt);if(us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||J.length!=0||this.h.h||(this.s=1,lt(16),y=!1),this.o=this.o&&y,!y)as(this.i,this.l,J,"[Invalid Chunked Response]"),Kt(this),rn(this);else if(0<J.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),or(bt),bt.M=!0,lt(11))}}else as(this.i,this.l,J,null),an(this,J);wt==4&&Kt(this),this.o&&!this.J&&(wt==4?fu(this.j,this):(this.o=!1,We(this)))}else wh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Kt(this),rn(this)}}}catch{}finally{}};function us(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cs(u,g){var y=u.C,T=g.indexOf(`
`,y);return T==-1?Zs:(y=Number(g.substring(y,T)),isNaN(y)?os:(T+=1,T+y>g.length?Zs:(g=g.slice(T,T+y),u.C=T+y,g)))}Wn.prototype.cancel=function(){this.J=!0,Kt(this)};function We(u){u.S=Date.now()+u.I,ul(u,u.I)}function ul(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ss(C(u.ba,u),g)}function $r(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($n(this.i,this.A),this.L!=2&&(is(),lt(17)),Kt(this),this.s=2,rn(this)):ul(this,this.S-u)};function rn(u){u.j.G==0||u.J||fu(u.j,u)}function Kt(u){$r(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,kt(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function an(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||hs(y.h,u))){if(!u.K&&hs(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)aa(y),sa(y);else break e;El(y),lt(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ss(C(y.Za,y),6e3));if(1>=nu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&aa(y),!te(g))for(z=y.Da.g.parse(g),g=0;g<z.length;g++){let Ie=z[g];if(y.T=Ie[0],Ie=Ie[1],y.G==2)if(Ie[0]=="c"){y.K=Ie[1],y.ia=Ie[2];const bt=Ie[3];bt!=null&&(y.la=bt,y.j.info("VER="+y.la));const wt=Ie[4];wt!=null&&(y.Aa=wt,y.j.info("SVER="+y.Aa));const bi=Ie[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Qt=u.g;if(Qt){const ii=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var V=T.h;V.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(fs(V,V.h),V.h=null))}if(T.D){const wi=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;wi&&(T.ya=wi,xe(T.I,T.D,wi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=pu(T,T.J?T.ia:null,T.W),J.K){mn(T.h,J);var He=J,$e=T.L;$e&&(He.I=$e),He.B&&($r(He),We(He)),T.g=J}else cu(T);0<y.i.length&&ra(y)}else Ie[0]!="stop"&&Ie[0]!="close"||Si(y,7);else y.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Si(y,7):yl(y):Ie[0]!="noop"&&y.l&&y.l.ta(Ie),y.v=0)}}is(4)}catch{}}var vh=class{constructor(u,g){this.g=u,this.map=g}};function cl(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nu(u){return u.h?1:u.g?u.g.size:0}function hs(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function fs(u,g){u.g?u.g.add(g):u.h=g}function mn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}cl.prototype.cancel=function(){if(this.i=jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const y of u.g.values())g=g.concat(y.D);return g}return X(u.i)}function iu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var g=[],y=u.length,T=0;T<y;T++)g.push(u[T]);return g}g=[],y=0;for(T in u)g[y++]=u[T];return g}function Eh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(const T in u)g[y++]=T;return g}}}function Js(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=Eh(u),T=iu(u),z=T.length,V=0;V<z;V++)g.call(void 0,T[V],y&&y[V],u)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),z=null;if(0<=T){var V=u[y].substring(0,T);z=u[y].substring(T+1)}else V=u[y];g(V,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,ds(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var g=u.i,y=new Zn;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Zr(this,y),this.m=u.m}else u&&(g=String(u).match(fl))?(this.h=!1,ds(this,g[1]||"",!0),this.o=ps(g[2]||""),this.g=ps(g[3]||"",!0),er(this,g[4]),this.l=ps(g[5]||"",!0),Zr(this,g[6]||"",!0),this.m=ps(g[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}_i.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_n(g,dl,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_n(g,dl,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(_n(y,y.charAt(0)=="/"?pl:su,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",_n(y,bh)),u.join("")};function nt(u){return new _i(u)}function ds(u,g,y){u.j=y?ps(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Zr(u,g,y){g instanceof Zn?(u.i=g,gl(u.i,u.h)):(y||(g=_n(g,Sh)),u.i=new Zn(g,u.h))}function xe(u,g,y){u.i.set(g,y)}function tr(u){return xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ps(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _n(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,Th),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Th(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var dl=/[#\/\?@]/g,su=/[#\?:]/g,pl=/[#\?]/g,Sh=/[#\?@]/g,bh=/#/g;function Zn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}s=Zn.prototype,s.add=function(u,g){yn(this),this.i=null,u=Ei(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function Jr(u,g){yn(u),g=Ei(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function yi(u,g){return yn(u),g=Ei(u,g),u.g.has(g)}s.forEach=function(u,g){yn(this),this.g.forEach(function(y,T){y.forEach(function(z){u.call(g,z,T,this)},this)},this)},s.na=function(){yn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let T=0;T<g.length;T++){const z=u[T];for(let V=0;V<z.length;V++)y.push(g[T])}return y},s.V=function(u){yn(this);let g=[];if(typeof u=="string")yi(this,u)&&(g=g.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},s.set=function(u,g){return yn(this),this.i=null,u=Ei(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function vi(u,g,y){Jr(u,g),0<y.length&&(u.i=null,u.g.set(Ei(u,g),X(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var T=g[y];const V=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var z=V;J[T]!==""&&(z+="="+encodeURIComponent(String(J[T]))),u.push(z)}}return this.i=u.join("&")};function Ei(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function gl(u,g){g&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(y,T){var z=T.toLowerCase();T!=z&&(Jr(this,T),vi(this,z,y))},u)),u.j=g}function ru(u,g){const y=new rs;if(p.Image){const T=new Image;T.onload=L(vn,y,"TestLoadImage: loaded",!0,g,T),T.onerror=L(vn,y,"TestLoadImage: error",!1,g,T),T.onabort=L(vn,y,"TestLoadImage: abort",!1,g,T),T.ontimeout=L(vn,y,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function nr(u,g){const y=new rs,T=new AbortController,z=setTimeout(()=>{T.abort(),vn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(V=>{clearTimeout(z),V.ok?vn(y,"TestPingServer: ok",!0,g):vn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),vn(y,"TestPingServer: error",!1,g)})}function vn(u,g,y,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(y)}catch{}}function ir(){this.g=new Bt}function Jn(u,g,y){const T=y||"";try{Js(u,function(z,V){let J=z;_(z)&&(J=sl(z)),g.push(T+V+"="+encodeURIComponent(J))})}catch(z){throw g.push(T+"type="+encodeURIComponent("_badmap")),z}}function gs(u){this.l=u.Ub||null,this.j=u.eb||!1}U(gs,rl),gs.prototype.g=function(){return new Ti(this.l,this.j)},gs.prototype.i=function(u){return function(){return u}}({});function Ti(u,g){gt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ti,gt),s=Ti.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ei(this):ti(this),this.readyState==3&&ml(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},s.Qa=function(u){this.g&&(this.response=u,ei(this))},s.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ti(u)}s.setRequestHeader=function(u,g){this.u.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _l(u){let g="";return Re(u,function(y,T){g+=T,g+=":",g+=y,g+=`\r
`}),g}function St(u,g,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=_l(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):xe(u,g,y))}function je(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(je,gt);var ea=/^https?$/i,sr=["POST","PUT"];s=je.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,g,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ws.g(),this.v=this.o?Zo(this.o):Zo(Ws),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(V){au(this,V);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)y.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const V of T.keys())y.set(V,T.get(V));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(sr,g,void 0))||T||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of y)this.g.setRequestHeader(V,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rr(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){au(this,V)}};function au(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ta(u),ni(u)}function ta(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),je.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},s.bb=function(){na(this)};function na(u){if(u.h&&typeof f<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)Wo(u.Ea,0,u);else if(vt(u,"readystatechange"),En(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var T;if(T=J===0){var z=String(u.D).match(fl)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!ea.test(z?z.toLowerCase():"")}y=T}if(y)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var V=2<En(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",ta(u)}}finally{ni(u)}}}}function ni(u,g){if(u.g){rr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||vt(u,"ready");try{y.onreadystatechange=T}catch{}}}function rr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Xn(g)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(u){const g={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var y=M(u[T]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=g[z]||[];g[z]=V,V.push(y)}k(g,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function ia(u){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,u),this.cb=ar("retryDelaySeedMs",1e4,u),this.Wa=ar("forwardChannelMaxRetries",2,u),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new cl(u&&u.concurrentRequestLimit),this.Da=new ir,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ia.prototype,s.la=8,s.G=1,s.connect=function(u,g,y,T){lt(0),this.W=u,this.H=g||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),ra(this)};function yl(u){if(ou(u),u.G==3){var g=u.U++,y=nt(u.I);if(xe(y,"SID",u.K),xe(y,"RID",g),xe(y,"TYPE","terminate"),lr(u,y),g=new Wn(u,u.j,g),g.L=2,g.v=tr(nt(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=g.v,y=!0),y||(g.g=gu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}du(u)}function sa(u){u.g&&(or(u),u.g.cancel(),u.g=null)}function ou(u){sa(u),u.u&&(p.clearTimeout(u.u),u.u=null),aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ra(u){if(!hl(u.h)&&!u.s){u.s=!0;var g=u.Ga;de||O(),ce||(de(),ce=!0),ze.add(g,u),u.B=0}}function Ch(u,g){return nu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ss(C(u.Ga,u,g),Tl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Wn(this,this.j,u);let V=this.o;if(this.S&&(V?(V=R(V),I(V,this.S)):V=this.S),this.m!==null||this.O||(z.H=V,V=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=uu(this,z,g),y=nt(this.I),xe(y,"RID",u),xe(y,"CVER",22),this.D&&xe(y,"X-HTTP-Session-Id",this.D),lr(this,y),V&&(this.O?g="headers="+encodeURIComponent(String(_l(V)))+"&"+g:this.m&&St(y,this.m,V)),fs(this.h,z),this.Ua&&xe(y,"TYPE","init"),this.P?(xe(y,"$req",g),xe(y,"SID","null"),z.T=!0,Ln(z,y,null)):Ln(z,y,g),this.G=2}}else this.G==3&&(u?vl(this,u):this.i.length==0||hl(this.h)||vl(this))};function vl(u,g){var y;g?y=g.l:y=u.U++;const T=nt(u.I);xe(T,"SID",u.K),xe(T,"RID",y),xe(T,"AID",u.T),lr(u,T),u.m&&u.o&&St(T,u.m,u.o),y=new Wn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=uu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fs(u.h,y),Ln(y,T,g)}function lr(u,g){u.H&&Re(u.H,function(y,T){xe(g,T,y)}),u.l&&Js({},function(y,T){xe(g,T,y)})}function uu(u,g,y){y=Math.min(u.i.length,y);var T=u.l?C(u.l.Na,u.l,u):null;e:{var z=u.i;let V=-1;for(;;){const J=["count="+y];V==-1?0<y?(V=z[0].g,J.push("ofs="+V)):V=0:J.push("ofs="+V);let He=!0;for(let $e=0;$e<y;$e++){let Ie=z[$e].g;const bt=z[$e].map;if(Ie-=V,0>Ie)V=Math.max(0,z[$e].g-100),He=!1;else try{Jn(bt,J,"req"+Ie+"_")}catch{T&&T(bt)}}if(He){T=J.join("&");break e}}}return u=u.i.splice(0,y),g.D=u,T}function cu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;de||O(),ce||(de(),ce=!0),ze.add(g,u),u.v=0}}function El(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ss(C(u.Fa,u),Tl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ss(C(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),sa(this),hu(this))};function or(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function hu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=nt(u.qa);xe(g,"RID","rpc"),xe(g,"SID",u.K),xe(g,"AID",u.T),xe(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&xe(g,"TO",u.ja),xe(g,"TYPE","xmlhttp"),lr(u,g),u.m&&u.o&&St(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=tr(nt(g)),y.m=null,y.P=!0,mi(y,u)}s.Za=function(){this.C!=null&&(this.C=null,sa(this),El(this),lt(19))};function aa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function fu(u,g){var y=null;if(u.g==g){aa(u),or(u),u.g=null;var T=2}else if(hs(u.h,g))y=g.D,mn(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;T=al(),vt(T,new Jo(T,y)),ra(u)}else cu(u);else if(z=g.s,z==3||z==0&&0<g.X||!(T==1&&Ch(u,g)||T==2&&El(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),z){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Tl(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function Si(u,g){if(u.j.info("Error code "+g),g==2){var y=C(u.fb,u),T=u.Xa;const z=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ds(T,"https"),tr(T),z?ru(T.toString(),y):nr(T.toString(),y)}else lt(2);u.G=0,u.l&&u.l.sa(g),du(u),ou(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function du(u){if(u.G=0,u.ka=[],u.l){const g=jt(u.h);(g.length!=0||u.i.length!=0)&&(G(u.ka,g),G(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function pu(u,g,y){var T=y instanceof _i?nt(y):new _i(y);if(T.g!="")g&&(T.g=g+"."+T.g),er(T,T.s);else{var z=p.location;T=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var V=new _i(null);T&&ds(V,T),g&&(V.g=g),z&&er(V,z),y&&(V.l=y),T=V}return y=u.D,g=u.ya,y&&g&&xe(T,y,g),xe(T,"VER",u.la),lr(u,T),T}function gu(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new je(new gs({eb:y})):new je(u.pa),g.Ha(u.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Xt(u,g){gt.call(this),this.g=new ia(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!te(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ms(this)}U(Xt,gt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){yl(this.g)},Xt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=sl(u),u=y);g.i.push(new vh(g.Ya++,u)),g.G==3&&ra(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,Xt.aa.N.call(this)};function _u(u){ts.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const y in g){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}U(_u,ts);function yu(){xn.call(this),this.status=1}U(yu,xn);function ms(u){this.g=u}U(ms,mu),ms.prototype.ua=function(){vt(this.g,"a")},ms.prototype.ta=function(u){vt(this.g,new _u(u))},ms.prototype.sa=function(u){vt(this.g,new yu)},ms.prototype.ra=function(){vt(this.g,"b")},Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,ls.COMPLETE="complete",yh.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",Jy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Ho("@firebase/firestore");function jn(s,...e){if(qa.logLevel<=Ue.DEBUG){const i=e.map(Rp);qa.debug(`Firestore (${Bo}): ${s}`,...i)}}function eE(s,...e){if(qa.logLevel<=Ue.ERROR){const i=e.map(Rp);qa.error(`Firestore (${Bo}): ${s}`,...i)}}function eA(s,...e){if(qa.logLevel<=Ue.WARN){const i=e.map(Rp);qa.warn(`Firestore (${Bo}): ${s}`,...i)}}function Rp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(s="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+s;throw eE(e),new Error(e)}function mo(s,e){s||Np()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Zt extends Kn{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ft.UNAUTHENTICATED))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){mo(this.o===void 0);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let c=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _o,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=c;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{jn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(jn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _o)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(jn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mo(typeof r.accessToken=="string"),new tE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mo(e===null||typeof e=="string"),new Ft(e)}}class sA{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rA{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new sA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){mo(this.o===void 0);const r=c=>{c.error!=null&&jn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,jn("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{jn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):jn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ev(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(mo(typeof i.token=="string"),this.R=i.token,new ev(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lA(s){return s.name==="IndexedDbTransactionError"}const Wd="(default)";class xc{constructor(e,i){this.projectId=e,this.database=i||Wd}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv,De;(De=tv||(tv={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new J0([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=1048576;function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=r,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-r);o>0&&jn("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const f=Date.now()+r,p=new Ip(e,i,f,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Zt(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var nv,iv;(iv=nv||(nv={}))._a="default",iv.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function fA(s,e,i,r){if(e===!0&&r===!0)throw new Zt(Wt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function dA(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Np()}function pA(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Zt(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dA(s);throw new Zt(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firestore.googleapis.com",rv=!0;class av{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Zt(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nE,this.ssl=rv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:rv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uA)throw new Zt(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Zt(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Zt(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Zt(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iE{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zt(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Zt(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tA;switch(r.type){case"firstParty":return new rA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Zt(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=sv.get(i);r&&(jn("ComponentProvider","Removing Datastore"),sv.delete(i),r.terminate())}(this),Promise.resolve()}}function gA(s,e,i,r={}){var o;const c=(s=pA(s,iE))._getSettings(),f=`${e}:${i}`;if(c.host!==nE&&c.host!==f&&eA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),r.mockUserToken){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Ft.MOCK_USER;else{p=B0(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Zt(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ft(_)}s._authCredentials=new nA(new tE(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="AsyncQueue";class ov{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cA(this,"async_queue_retry"),this.Su=()=>{const r=Id();r&&jn(lv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new _o;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lA(e))throw e;jn(lv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(r);throw eE("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(e,i,r){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Ip.createAndSchedule(this,e,i,r,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Np()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class mA extends iE{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new ov,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ov(e),this._firestoreClient=void 0,await e}}}function _A(s,e){const i=typeof s=="object"?s:ih(),r=typeof s=="string"?s:Wd,o=Ks(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=P0("firestore");c&&gA(o,...c)}return o}(function(e,i=!0){(function(o){Bo=o})(Vr),Yn(new Mn("firestore",(r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),p=new mA(new iA(r.getProvider("auth-internal")),new aA(f,r.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Zt(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(_.options.projectId,S)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),tn(Zy,Jy,e),tn(Zy,Jy,"esm2017")})();var yA="firebase",vA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(yA,vA,"app");const sE="@firebase/installations",Op="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=1e4,aE=`w:${Op}`,lE="FIS_v2",EA="https://firebaseinstallations.googleapis.com/v1",TA=60*60*1e3,SA="installations",bA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xr=new jr(SA,bA,wA);function oE(s){return s instanceof Kn&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE({projectId:s}){return`${EA}/projects/${s}/installations`}function cE(s){return{token:s.token,requestStatus:2,expiresIn:AA(s.expiresIn),creationTime:Date.now()}}async function hE(s,e){const r=(await e.json()).error;return xr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function CA(s,{refreshToken:e}){const i=fE(s);return i.append("Authorization",RA(e)),i}async function dE(s){const e=await s();return e.status>=500&&e.status<600?s():e}function AA(s){return Number(s.replace("s","000"))}function RA(s){return`${lE} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=uE(s),o=fE(s),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={fid:i,authVersion:lE,appId:s.appId,sdkVersion:aE},p={method:"POST",headers:o,body:JSON.stringify(f)},m=await dE(()=>fetch(r,p));if(m.ok){const _=await m.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:cE(_.authToken)}}else throw await hE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^[cdef][\w-]{21}$/,Zd="";function DA(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=MA(s);return OA.test(i)?i:Zd}catch{return Zd}}function MA(s){return IA(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function mE(s,e){const i=sh(s);_E(i,e),xA(i,e)}function _E(s,e){const i=gE.get(s);if(i)for(const r of i)r(e)}function xA(s,e){const i=kA();i&&i.postMessage({key:s,fid:e}),LA()}let Ir=null;function kA(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=s=>{_E(s.data.key,s.data.fid)}),Ir}function LA(){gE.size===0&&Ir&&(Ir.close(),Ir=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebase-installations-database",PA=1,kr="firebase-installations-store";let Od=null;function Dp(){return Od||(Od=Q0(UA,PA,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(kr)}}})),Od}async function kc(s,e){const i=sh(s),o=(await Dp()).transaction(kr,"readwrite"),c=o.objectStore(kr),f=await c.get(i);return await c.put(e,i),await o.done,(!f||f.fid!==e.fid)&&mE(s,e.fid),e}async function yE(s){const e=sh(s),r=(await Dp()).transaction(kr,"readwrite");await r.objectStore(kr).delete(e),await r.done}async function rh(s,e){const i=sh(s),o=(await Dp()).transaction(kr,"readwrite"),c=o.objectStore(kr),f=await c.get(i),p=e(f);return p===void 0?await c.delete(i):await c.put(p,i),await o.done,p&&(!f||f.fid!==p.fid)&&mE(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(s){let e;const i=await rh(s.appConfig,r=>{const o=zA(r),c=HA(s,o);return e=c.registrationPromise,c.installationEntry});return i.fid===Zd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function zA(s){const e=s||{fid:DA(),registrationStatus:0};return vE(e)}function HA(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(xr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BA(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jA(s)}:{installationEntry:e}}async function BA(s,e){try{const i=await NA(s,e);return kc(s.appConfig,i)}catch(i){throw oE(i)&&i.customData.serverCode===409?await yE(s.appConfig):await kc(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function jA(s){let e=await uv(s.appConfig);for(;e.registrationStatus===1;)await pE(100),e=await uv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Mp(s);return r||i}return e}function uv(s){return rh(s,e=>{if(!e)throw xr.create("installation-not-found");return vE(e)})}function vE(s){return VA(s)?{fid:s.fid,registrationStatus:0}:s}function VA(s){return s.registrationStatus===1&&s.registrationTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA({appConfig:s,heartbeatServiceProvider:e},i){const r=FA(s,i),o=CA(s,i),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={installation:{sdkVersion:aE,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},m=await dE(()=>fetch(r,p));if(m.ok){const _=await m.json();return cE(_)}else throw await hE("Generate Auth Token",m)}function FA(s,{fid:e}){return`${uE(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(s,e=!1){let i;const r=await rh(s.appConfig,c=>{if(!EE(c))throw xr.create("not-registered");const f=c.authToken;if(!e&&KA(f))return c;if(f.requestStatus===1)return i=GA(s,e),c;{if(!navigator.onLine)throw xr.create("app-offline");const p=QA(c);return i=YA(s,p),p}});return i?await i:r.authToken}async function GA(s,e){let i=await cv(s.appConfig);for(;i.authToken.requestStatus===1;)await pE(100),i=await cv(s.appConfig);const r=i.authToken;return r.requestStatus===0?xp(s,e):r}function cv(s){return rh(s,e=>{if(!EE(e))throw xr.create("not-registered");const i=e.authToken;return $A(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YA(s,e){try{const i=await qA(s,e),r=Object.assign(Object.assign({},e),{authToken:i});return await kc(s.appConfig,r),i}catch(i){if(oE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await yE(s.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kc(s.appConfig,r)}throw i}}function EE(s){return s!==void 0&&s.registrationStatus===2}function KA(s){return s.requestStatus===2&&!XA(s)}function XA(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+TA}function QA(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function $A(s){return s.requestStatus===1&&s.requestTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(s){const e=s,{installationEntry:i,registrationPromise:r}=await Mp(e);return r?r.catch(console.error):xp(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(s,e=!1){const i=s;return await JA(i),(await xp(i,e)).token}async function JA(s){const{registrationPromise:e}=await Mp(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(s){if(!s||!s.options)throw Dd("App Configuration");if(!s.name)throw Dd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw Dd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Dd(s){return xr.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="installations",tR="installations-internal",nR=s=>{const e=s.getProvider("app").getImmediate(),i=eR(e),r=Ks(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iR=s=>{const e=s.getProvider("app").getImmediate(),i=Ks(e,TE).getImmediate();return{getId:()=>WA(i),getToken:o=>ZA(i,o)}};function sR(){Yn(new Mn(TE,nR,"PUBLIC")),Yn(new Mn(tR,iR,"PRIVATE"))}sR();tn(sE,Op);tn(sE,Op,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="analytics",rR="firebase_id",aR="origin",lR=60*1e3,oR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new Ho("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new jr("analytics","Analytics",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(s){if(!s.startsWith(kp)){const e=fn.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(e.message),""}return s}function SE(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function hR(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function fR(s,e){const i=hR("firebase-js-sdk-policy",{createScriptURL:cR}),r=document.createElement("script"),o=`${kp}?l=${s}&id=${e}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function dR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function pR(s,e,i,r,o,c){const f=r[o];try{if(f)await e[f];else{const m=(await SE(i)).find(_=>_.measurementId===o);m&&await e[m.appId]}}catch(p){nn.error(p)}s("config",o,c)}async function gR(s,e,i,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await SE(i);for(const m of f){const _=p.find(w=>w.measurementId===m),S=_&&e[_.appId];if(S)c.push(S);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){nn.error(c)}}function mR(s,e,i,r){async function o(c,...f){try{if(c==="event"){const[p,m]=f;await gR(s,e,i,p,m)}else if(c==="config"){const[p,m]=f;await pR(s,e,i,r,p,m)}else if(c==="consent"){const[p,m]=f;s("consent",p,m)}else if(c==="get"){const[p,m,_]=f;s("get",p,m,_)}else if(c==="set"){const[p]=f;s("set",p)}else s(c,...f)}catch(p){nn.error(p)}}return o}function _R(s,e,i,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=mR(c,s,e,i),{gtagCore:c,wrappedGtag:window[o]}}function yR(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(kp)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=30,ER=1e3;class TR{constructor(e={},i=ER){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bE=new TR;function SR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function bR(s){var e;const{appId:i,apiKey:r}=s,o={method:"GET",headers:SR(r)},c=oR.replace("{app-id}",i),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let p="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:p})}return f.json()}async function wR(s,e=bE,i){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw fn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw fn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new RR;return setTimeout(async()=>{p.abort()},lR),wE({appId:r,apiKey:o,measurementId:c},f,p,e)}async function wE(s,{throttleEndTimeMillis:e,backoffCount:i},r,o=bE){var c;const{appId:f,measurementId:p}=s;try{await CR(r,e)}catch(m){if(p)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:p};throw m}try{const m=await bR(s);return o.deleteThrottleMetadata(f),m}catch(m){const _=m;if(!AR(_)){if(o.deleteThrottleMetadata(f),p)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:f,measurementId:p};throw m}const S=Number((c=_==null?void 0:_.customData)===null||c===void 0?void 0:c.httpStatus)===503?Vy(i,o.intervalMillis,vR):Vy(i,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+S,backoffCount:i+1};return o.setThrottleMetadata(f,w),nn.debug(`Calling attemptFetch again in ${S} millis`),wE(s,w,r,o)}}function CR(s,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(c),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AR(s){if(!(s instanceof Kn)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class RR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NR(s,e,i,r,o){if(o&&o.global){s("event",i,r);return}else{const c=await e,f=Object.assign(Object.assign({},r),{send_to:c});s("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(){if(q0())try{await F0()}catch(s){return nn.warn(fn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return nn.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OR(s,e,i,r,o,c,f){var p;const m=wR(s);m.then(L=>{i[L.measurementId]=L.appId,s.options.measurementId&&L.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>nn.error(L)),e.push(m);const _=IR().then(L=>{if(L)return r.getId()}),[S,w]=await Promise.all([m,_]);yR(c)||fR(c,S.measurementId),o("js",new Date);const C=(p=f==null?void 0:f.config)!==null&&p!==void 0?p:{};return C[aR]="firebase",C.update=!0,w!=null&&(C[rR]=w),o("config",S.measurementId,C),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.app=e}_delete(){return delete yo[this.app.options.appId],Promise.resolve()}}let yo={},hv=[];const fv={};let Md="dataLayer",MR="gtag",dv,CE,pv=!1;function xR(){const s=[];if(j0()&&s.push("This is a browser extension environment."),MC()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=fn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function kR(s,e,i){xR();const r=s.options.appId;if(!r)throw fn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(yo[r]!=null)throw fn.create("already-exists",{id:r});if(!pv){dR(Md);const{wrappedGtag:c,gtagCore:f}=_R(yo,hv,fv,Md,MR);CE=c,dv=f,pv=!0}return yo[r]=OR(s,hv,fv,e,dv,Md,i),new DR(s)}function LR(s=ih()){s=pn(s);const e=Ks(s,Lc);return e.isInitialized()?e.getImmediate():UR(s)}function UR(s,e={}){const i=Ks(s,Lc);if(i.isInitialized()){const o=i.getImmediate();if(Ro(e,i.getOptions()))return o;throw fn.create("already-initialized")}return i.initialize({options:e})}function PR(s,e,i,r){s=pn(s),NR(CE,yo[s.app.options.appId],e,i,r).catch(o=>nn.error(o))}const gv="@firebase/analytics",mv="0.10.11";function zR(){Yn(new Mn(Lc,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return kR(r,o,i)},"PUBLIC")),Yn(new Mn("analytics-internal",s,"PRIVATE")),tn(gv,mv),tn(gv,mv,"esm2017");function s(e){try{const i=e.getProvider(Lc).getImmediate();return{logEvent:(r,o,c)=>PR(i,r,o,c)}}catch(i){throw fn.create("interop-component-reg-failed",{reason:i})}}}zR();function Lp(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=AE,RE=new jr("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Ho("@firebase/auth");function BR(s,...e){Uc.logLevel<=Ue.WARN&&Uc.warn(`Auth (${Vr}): ${s}`,...e)}function bc(s,...e){Uc.logLevel<=Ue.ERROR&&Uc.error(`Auth (${Vr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(s,...e){throw Pp(s,...e)}function Fn(s,...e){return Pp(s,...e)}function Up(s,e,i){const r=Object.assign(Object.assign({},HR()),{[e]:i});return new jr("auth","Firebase",r).create(e,{appName:s.name})}function Mr(s){return Up(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jR(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(s,"argument-error"),Up(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return RE.create(s,...e)}function ge(s,e,...i){if(!s)throw Pp(e,...i)}function ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw bc(e),new Error(e)}function Xi(s,e){s||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function VR(){return _v()==="http:"||_v()==="https:"}function _v(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VR()||j0()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xi(i>e,"Short delay should be less than long delay!"),this.isMobile=Cp()||V0()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(s,e){Xi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new jo(3e4,6e4);function Hp(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Za(s,e,i,r,o={}){return IE(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const p=Wa(Object.assign({key:s.config.apiKey},f)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:m},c);return IC()||(_.referrerPolicy="no-referrer"),NE.fetch()(OE(s,s.config.apiHost,i,p),_)})}async function IE(s,e,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},GR),e);try{const o=new XR(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw yc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[m,_]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(s,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw yc(s,"email-already-in-use",f);if(m==="USER_DISABLED")throw yc(s,"user-disabled",f);const S=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Up(s,S,_);hi(s,S)}}catch(o){if(o instanceof Kn)throw o;hi(s,"network-request-failed",{message:String(o)})}}async function KR(s,e,i,r,o={}){const c=await Za(s,e,i,r,o);return"mfaPendingCredential"in c&&hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}function OE(s,e,i,r){const o=`${e}${i}?${r}`;return s.config.emulator?zp(s.config,o):`${s.config.apiScheme}://${o}`}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),YR.get())})}}function yc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Fn(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(s,e){return Za(s,"POST","/v1/accounts:delete",e)}async function DE(s,e){return Za(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $R(s,e=!1){const i=pn(s),r=await i.getIdToken(e),o=Bp(r);ge(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:vo(xd(o.auth_time)),issuedAtTime:vo(xd(o.iat)),expirationTime:vo(xd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function xd(s){return Number(s)*1e3}function Bp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Oc(i);return o?JSON.parse(o):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function yv(s){const e=Bp(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Kn&&WR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function WR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(s){var e;const i=s.auth,r=await s.getIdToken(),o=await Io(s,DE(i,{idToken:r}));ge(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?ME(c.providerUserInfo):[],p=eN(s.providerData,f),m=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(p!=null&&p.length),S=m?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new ep(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(s,w)}async function JR(s){const e=pn(s);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ME(s){return s.map(e=>{var{providerId:i}=e,r=Lp(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(s,e){const i=await IE(s,{},async()=>{const r=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=OE(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",NE.fetch()(f,{method:"POST",headers:p,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nN(s,e){return Za(s,"POST","/v2/accounts:revokeToken",Hp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=yv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await tN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,f=new Ua;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,c=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new ep(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await Io(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return $R(this,e)}reload(){return JR(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Io(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,c,f,p,m,_,S;const w=(r=i.displayName)!==null&&r!==void 0?r:void 0,C=(o=i.email)!==null&&o!==void 0?o:void 0,L=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,U=(f=i.photoURL)!==null&&f!==void 0?f:void 0,X=(p=i.tenantId)!==null&&p!==void 0?p:void 0,G=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,$=(_=i.createdAt)!==null&&_!==void 0?_:void 0,te=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:Z,emailVerified:me,isAnonymous:oe,providerData:Re,stsTokenManager:k}=i;ge(Z&&k,e,"internal-error");const R=Ua.fromJSON(this.name,k);ge(typeof Z=="string",e,"internal-error"),Ps(w,e.name),Ps(C,e.name),ge(typeof me=="boolean",e,"internal-error"),ge(typeof oe=="boolean",e,"internal-error"),Ps(L,e.name),Ps(U,e.name),Ps(X,e.name),Ps(G,e.name),Ps($,e.name),Ps(te,e.name);const b=new Vi({uid:Z,auth:e,email:C,emailVerified:me,displayName:w,isAnonymous:oe,photoURL:U,phoneNumber:L,tenantId:X,stsTokenManager:R,createdAt:$,lastLoginAt:te});return Re&&Array.isArray(Re)&&(b.providerData=Re.map(I=>Object.assign({},I))),G&&(b._redirectEventId=G),b}static async _fromIdTokenResponse(e,i,r=!1){const o=new Ua;o.updateFromServerResponse(i);const c=new Vi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Pc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?ME(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ua;p.updateFromIdToken(r);const m=new Vi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,_),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function qi(s){Xi(s instanceof Function,"Expected a class definition");let e=vv.get(s);return e?(Xi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,vv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}xE.type="NONE";const Ev=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s,e,i){return`firebase:${s}:${e}:${i}`}class Pa{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,c),this.fullPersistenceKey=wc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Pa(qi(Ev),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||qi(Ev);const f=wc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const S=await _._get(f);if(S){const w=Vi._fromJSON(e,S);_!==c&&(p=w),c=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Pa(c,e,r):(c=m[0],p&&await c._set(f,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Pa(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HE(e))return"Blackberry";if(BE(e))return"Webos";if(LE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kE(s=Gt()){return/firefox\//i.test(s)}function LE(s=Gt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(s=Gt()){return/crios\//i.test(s)}function PE(s=Gt()){return/iemobile/i.test(s)}function zE(s=Gt()){return/android/i.test(s)}function HE(s=Gt()){return/blackberry/i.test(s)}function BE(s=Gt()){return/webos/i.test(s)}function jp(s=Gt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function iN(s=Gt()){var e;return jp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sN(){return OC()&&document.documentMode===10}function jE(s=Gt()){return jp(s)||zE(s)||BE(s)||HE(s)||/windows phone/i.test(s)||PE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(s,e=[]){let i;switch(s){case"Browser":i=Tv(Gt());break;case"Worker":i=`${Tv(Gt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Vr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((f,p)=>{try{const m=e(c);f(m)}catch(m){p(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(s,e={}){return Za(s,"GET","/v2/passwordPolicy",Hp(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=6;class oN{constructor(e){var i,r,o,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:lN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,c,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(i=m.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new rN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=qi(i)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await DE(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Dn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Mr(this));const i=e?pn(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aN(this),i=new oN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await nN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&qi(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,r,o);return()=>{f=!0,m()}}else{const m=e.addObserver(i);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&BR(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ah(s){return pn(s)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HC(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(s){Vp=s}function hN(s){return Vp.loadJS(s)}function fN(){return Vp.gapiScript}function dN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(s,e){const i=Ks(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ro(c,e??{}))return o;hi(o,"already-initialized")}return i.initialize({options:e})}function gN(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(qi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mN(s,e,i){const r=ah(s);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=qE(e),{host:f,port:p}=_N(e),m=p===null?"":`:${p}`;r.config.emulator={url:`${c}//${f}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),yN()}function qE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _N(s){const e=qE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:bv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:bv(f)}}}function bv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function yN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,i){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,e){return KR(s,"POST","/v1/accounts:signInWithIdp",Hp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="http://localhost";class Lr extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,c=Lp(i,["providerId","signInMethod"]);if(!r||!o)return null;const f=new Lr(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return za(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,za(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,za(e,i)}buildRequest(){const e={requestUri:vN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wa(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Vo{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Lr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Bi.credential(i,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Vo{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Vo{constructor(){super("twitter.com")}static credential(e,i){return Lr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Bs.credential(i,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Vi._fromIdTokenResponse(e,r,o),f=wv(r);return new Fa({user:c,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=wv(r);return new Fa({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function wv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Kn{constructor(e,i,r,o){var c;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new zc(e,i,r,o)}}function GE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(s,c,e,r):c})}async function EN(s,e,i=!1){const r=await Io(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Fa._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(s,e,i=!1){const{auth:r}=s;if(Dn(r.app))return Promise.reject(Mr(r));const o="reauthenticate";try{const c=await Io(s,GE(r,o,e,s),i);ge(c.idToken,r,"internal-error");const f=Bp(c.idToken);ge(f,r,"internal-error");const{sub:p}=f;return ge(s.uid===p,r,"user-mismatch"),Fa._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(s,e,i=!1){if(Dn(s.app))return Promise.reject(Mr(s));const r="signIn",o=await GE(s,r,e),c=await Fa._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function bN(s,e,i,r){return pn(s).onIdTokenChanged(e,i,r)}function wN(s,e,i){return pn(s).beforeAuthStateChanged(e,i)}function CN(s){return pn(s).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e3,RN=10;class KE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);sN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RN):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const NN=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}XE.type="SESSION";const QE=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async _=>_(i.origin,c)),m=await IN(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,m)=>{const _=Fp("",20);o.port1.start();const S=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(S),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function DN(s){ui().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function MN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function kN(){return $E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",LN=1,Bc="firebaseLocalStorage",ZE="fbase_key";class qo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(s,e){return s.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function UN(){const s=indexedDB.deleteDatabase(WE);return new qo(s).toPromise()}function tp(){const s=indexedDB.open(WE,LN);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Bc,{keyPath:ZE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await UN(),e(await tp()))})})}async function Cv(s,e,i){const r=oh(s,!0).put({[ZE]:e,value:i});return new qo(r).toPromise()}async function PN(s,e){const i=oh(s,!1).get(e),r=await new qo(i).toPromise();return r===void 0?null:r.value}function Av(s,e){const i=oh(s,!0).delete(e);return new qo(i).toPromise()}const zN=800,HN=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>HN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await MN(),!this.activeServiceWorker)return;this.sender=new ON(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await Cv(e,Hc,"1"),await Av(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>PN(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=oh(o,!1).getAll();return new qo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const BN=JE;new jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s,e){return e?qi(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function jN(s){return SN(s.auth,new Gp(s),s.bypassAuthState)}function VN(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),TN(i,new Gp(s),s.bypassAuthState)}async function qN(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),EN(i,new Gp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jN;case"linkViaPopup":case"linkViaRedirect":return qN;case"reauthViaPopup":case"reauthViaRedirect":return VN;default:hi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new jo(2e3,1e4);async function GN(s,e,i){if(Dn(s.app))return Promise.reject(Fn(s,"operation-not-supported-in-this-environment"));const r=ah(s);jR(s,e,qp);const o=eT(r,i);return new Or(r,"signInViaPopup",e,o).executeNotNull()}class Or extends tT{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FN.get())};e()}}Or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",Cc=new Map;class KN extends tT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await XN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XN(s,e){const i=WN(e),r=$N(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function QN(s,e){Cc.set(s._key(),e)}function $N(s){return qi(s._redirectPersistence)}function WN(s){return wc(YN,s.config.apiKey,s.name)}async function ZN(s,e,i=!1){if(Dn(s.app))return Promise.reject(Mr(s));const r=ah(s),o=eT(r,e),f=await new KN(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=10*60*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!nT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Fn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function nT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(s,e={}){return Za(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function r2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await n2(s);for(const i of e)try{if(a2(i))return}catch{}hi(s,"unauthorized-domain")}function a2(s){const e=Jd(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!s2.test(i))return!1;if(i2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new jo(3e4,6e4);function Nv(){const s=ui().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function o2(s){return new Promise((e,i)=>{var r,o,c;function f(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),i(Fn(s,"network-request-failed"))},timeout:l2.get()})}if(!((o=(r=ui().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)f();else{const p=dN("iframefcb");return ui()[p]=()=>{gapi.load?f():i(Fn(s,"network-request-failed"))},hN(`${fN()}?onload=${p}`).catch(m=>i(m))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function u2(s){return Ac=Ac||o2(s),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new jo(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?zp(e,f2):`https://${s.config.authDomain}/${h2}`,r={apiKey:e.apiKey,appName:s.name,v:Vr},o=p2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Wa(r).slice(1)}`}async function m2(s){const e=await u2(s),i=ui().gapi;return ge(i,s,"internal-error"),e.open({where:document.body,url:g2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Fn(s,"network-request-failed"),p=ui().setTimeout(()=>{c(f)},c2.get());function m(){ui().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,v2=600,E2="_blank",T2="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(s,e,i,r=y2,o=v2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m=Object.assign(Object.assign({},_2),{width:r.toString(),height:o.toString(),top:c,left:f}),_=Gt().toLowerCase();i&&(p=UE(_)?E2:i),kE(_)&&(e=e||T2,m.scrollbars="yes");const S=Object.entries(m).reduce((C,[L,U])=>`${C}${L}=${U},`,"");if(iN(_)&&p!=="_self")return b2(e||"",p),new Iv(null);const w=window.open(e||"",p,S);ge(w,s,"popup-blocked");try{w.focus()}catch{}return new Iv(w)}function b2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__/auth/handler",C2="emulator/auth/handler",A2=encodeURIComponent("fac");async function Ov(s,e,i,r,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Vr,eventId:o};if(e instanceof qp){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Gd(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))f[S]=w}if(e instanceof Vo){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(f.scopes=S.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const m=await s._getAppCheckToken(),_=m?`#${A2}=${encodeURIComponent(m)}`:"";return`${R2(s)}?${Wa(p).slice(1)}${_}`}function R2({config:s}){return s.emulator?zp(s,C2):`https://${s.authDomain}/${w2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=ZN,this._overrideRedirectResult=QN}async _openPopup(e,i,r,o){var c;Xi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Ov(e,i,r,Jd(),o);return S2(e,f,Fp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Ov(e,i,r,Jd(),o);return DN(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Xi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await m2(e),r=new e2(e);return i.register("authEvent",o=>(ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(kd,{type:kd},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[kd];f!==void 0&&i(!!f),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=r2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jE()||LE()||jp()}}const I2=N2;var Dv="@firebase/auth",Mv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(s){Yn(new Mn("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VE(s)},_=new uN(r,o,c,m);return gN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Yn(new Mn("auth-internal",e=>{const i=ah(e.getProvider("auth").getImmediate());return(r=>new O2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(Dv,Mv,D2(s)),tn(Dv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=5*60,k2=H0("authIdTokenMaxAge")||x2;let xv=null;const L2=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>k2)return;const o=i==null?void 0:i.token;xv!==o&&(xv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yp(s=ih()){const e=Ks(s,"auth");if(e.isInitialized())return e.getImmediate();const i=pN(s,{popupRedirectResolver:I2,persistence:[BN,NN,QE]}),r=H0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=L2(c.toString());wN(i,f,()=>f(i.currentUser)),bN(i,p=>f(p))}}const o=U0("auth");return o&&mN(i,`http://${o}`),i}function U2(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}cN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Fn("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",U2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");const P2={apiKey:"AIzaSyDk7mEkayeHxrKerk0hOOCsxmztdYh9uck",authDomain:"final-web-app-5880c.firebaseapp.com",projectId:"final-web-app-5880c",storageBucket:"final-web-app-5880c.firebasestorage.app",messagingSenderId:"725331159486",appId:"1:725331159486:web:3ac104befd96704203b1ef",measurementId:"G-P0380Q8BWN"},Kp=$0(P2);_A(Kp);LR(Kp);Yp(Kp);const z2=async s=>{const e=Yp(),i=new Bi;try{const o=(await GN(e,i)).user;console.log("User signed in: ",o),s("/home")}catch(r){console.error("Error signing in with Google: ",r)}},H2=()=>{const s=_p(),e=()=>{z2(s)};return fe.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:fe.jsxs("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[fe.jsxs("div",{className:"text-center mb-8",children:[fe.jsx("h1",{className:"text-2xl font-bold mb-2",children:"ระบบจัดการห้องเรียนสำหรับอาจารย์"}),fe.jsx("p",{className:"text-gray-600",children:"กรุณาเข้าสู่ระบบเพื่อใช้งาน"})]}),fe.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[fe.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-6 h-6 mr-2"}),fe.jsx("span",{children:"เข้าสู่ระบบด้วย Google"})]})]})})};var kv={};const Lv="@firebase/database",Uv="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iT="";function B2(s){iT=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ot(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ao(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Wi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new j2(e)}}catch{}return new V2},Dr=sT("localStorage"),q2=sT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Ho("@firebase/database"),F2=function(){let s=1;return function(){return s++}}(),rT=function(s){const e=VC(s),i=new zC;i.update(e);const r=i.digest();return Sp.encodeByteArray(r)},Fo=function(...s){let e="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fo.apply(null,r):typeof r=="object"?e+=Ot(r):e+=r,e+=" "}return e};let Eo=null,Pv=!0;const G2=function(s,e){ee(!0,"Can't turn on custom loggers persistently."),Ha.logLevel=Ue.VERBOSE,Eo=Ha.log.bind(Ha)},Pt=function(...s){if(Pv===!0&&(Pv=!1,Eo===null&&q2.get("logging_enabled")===!0&&G2()),Eo){const e=Fo.apply(null,s);Eo(e)}},Go=function(s){return function(...e){Pt(s,...e)}},np=function(...s){const e="FIREBASE INTERNAL ERROR: "+Fo(...s);Ha.error(e)},Qi=function(...s){const e=`FIREBASE FATAL ERROR: ${Fo(...s)}`;throw Ha.error(e),new Error(e)},dn=function(...s){const e="FIREBASE WARNING: "+Fo(...s);Ha.warn(e)},Y2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},aT=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},K2=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ga="[MIN_NAME]",Ur="[MAX_NAME]",Ja=function(s,e){if(s===e)return 0;if(s===Ga||e===Ur)return-1;if(e===Ga||s===Ur)return 1;{const i=zv(s),r=zv(e);return i!==null?r!==null?i-r===0?s.length-e.length:i-r:-1:r!==null?1:s<e?-1:1}},X2=function(s,e){return s===e?0:s<e?-1:1},co=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Ot(e))},Xp=function(s){if(typeof s!="object"||s===null)return Ot(s);const e=[];for(const r in s)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=Ot(e[r]),i+=":",i+=Xp(s[e[r]]);return i+="}",i},lT=function(s,e){const i=s.length;if(i<=e)return[s];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+e));return r};function sn(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const oT=function(s){ee(!aT(s),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,c,f,p,m;s===0?(c=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(s)/Math.LN2),r),c=p+r,f=Math.round(s*Math.pow(2,i-p)-Math.pow(2,i))):(c=0,f=Math.round(s/Math.pow(2,1-r-i))));const _=[];for(m=i;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(o?1:0),_.reverse();const S=_.join("");let w="";for(m=0;m<64;m+=8){let C=parseInt(S.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),w=w+C}return w.toLowerCase()},Q2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function W2(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+e._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const Z2=new RegExp("^-?(0*)\\d{1,10}$"),J2=-2147483648,eI=2147483647,zv=function(s){if(Z2.test(s)){const e=Number(s);if(e>=J2&&e<=eI)return e}return null},Yo=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw dn("Exception was thrown by user callback.",i),e},Math.floor(0))}},tI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},To=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dn(e)}}class Rc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="5",uT="v",cT="s",hT="r",fT="f",dT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pT="ls",gT="p",ip="ac",mT="websocket",_T="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,i,r,o,c=!1,f="",p=!1,m=!1){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function sI(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function vT(s,e,i){ee(typeof e=="string","typeof type must == string"),ee(typeof i=="object","typeof params must == object");let r;if(e===mT)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===_T)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sI(s)&&(i.ns=s.namespace);const o=[];return sn(i,(c,f)=>{o.push(c+"="+f)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.counters_={}}incrementCounter(e,i=1){Wi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return bC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={},Ud={};function $p(s){const e=s.toString();return Ld[e]||(Ld[e]=new rI),Ld[e]}function aI(s,e){const i=s.toString();return Ud[i]||(Ud[i]=e()),Ud[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Yo(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="start",oI="close",uI="pLPCommand",cI="pRTLPCB",ET="id",TT="pw",ST="ser",hI="cb",fI="seg",dI="ts",pI="d",gI="dframe",bT=1870,wT=30,mI=bT-wT,_I=25e3,yI=3e4;class ka{constructor(e,i,r,o,c,f,p){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Go(e),this.stats_=$p(i),this.urlFn=m=>(this.appCheckToken&&(m[ip]=this.appCheckToken),vT(i,_T,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new lI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yI)),K2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wp((...c)=>{const[f,p,m,_,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Hv)this.id=p,this.password=m;else if(f===oI)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[Hv]="t",r[ST]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uT]=Qp,this.transportSessionId&&(r[cT]=this.transportSessionId),this.lastSessionId&&(r[pT]=this.lastSessionId),this.applicationId&&(r[gT]=this.applicationId),this.appCheckToken&&(r[ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&dT.test(location.hostname)&&(r[hT]=fT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ka.forceAllow_=!0}static forceDisallow(){ka.forceDisallow_=!0}static isAvailable(){return ka.forceAllow_?!0:!ka.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Q2()&&!$2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ot(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=k0(i),o=lT(r,mI);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[gI]="t",r[ET]=e,r[TT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ot(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Wp{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F2(),window[uI+this.uniqueCallbackIdentifier]=e,window[cI+this.uniqueCallbackIdentifier]=i,this.myIFrame=Wp.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Pt("frame writing exception"),p.stack&&Pt(p.stack),Pt(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ET]=this.myID,e[TT]=this.myPW,e[ST]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wT+r.length<=bT;){const f=this.pendingSegs.shift();r=r+"&"+fI+o+"="+f.seg+"&"+dI+o+"="+f.ts+"&"+pI+o+"="+f.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(_I)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=16384,EI=45e3;let jc=null;typeof MozWebSocket<"u"?jc=MozWebSocket:typeof WebSocket<"u"&&(jc=WebSocket);class Bn{constructor(e,i,r,o,c,f,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Go(this.connId),this.stats_=$p(i),this.connURL=Bn.connectionURL_(i,f,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const f={};return f[uT]=Qp,typeof location<"u"&&location.hostname&&dT.test(location.hostname)&&(f[hT]=fT),i&&(f[cT]=i),r&&(f[pT]=r),o&&(f[ip]=o),c&&(f[gT]=c),vT(e,mT,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dr.set("previous_websocket_failure",!0);try{let r;DC(),this.mySock=new jc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jc!==null&&!Bn.forceDisallow_}static previouslyFailed(){return Dr.isInMemoryStorage||Dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ao(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=Ot(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=lT(i,vI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(EI))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static get ALL_TRANSPORTS(){return[ka,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Bn&&Bn.isAvailable();let r=i&&!Bn.previouslyFailed();if(e.webSocketOnly&&(i||dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const o=this.transports_=[];for(const c of Oo.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Oo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=6e4,SI=5e3,bI=10*1024,wI=100*1024,Pd="t",Bv="d",CI="s",jv="r",AI="e",Vv="o",qv="a",Fv="n",Gv="p",RI="h";class NI{constructor(e,i,r,o,c,f,p,m,_,S){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Go("c:"+this.id+":"),this.transportManager_=new Oo(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=To(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pd in e){const i=e[Pd];i===qv?this.upgradeIfSecondaryHealthy_():i===jv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Vv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=co("t",e),r=co("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=co("t",e),r=co("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=co(Pd,e);if(Bv in e){const r=e[Bv];if(i===RI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Fv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===CI?this.onConnectionShutdown_(r):i===jv?this.onReset_(r):i===AI?np("Server Error: "+r):i===Vv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):np("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Qp!==r&&dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),To(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(TI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):To(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){ee(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends AT{static getInstance(){return new Vc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=32,Kv=768;class Ge{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Pe(){return new Ge("")}function Ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Gs(s){return s.pieces_.length-s.pieceNum_}function Xe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Ge(s.pieces_,e)}function RT(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function II(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function NT(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function IT(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Ge(e,0)}function yt(s,e){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(e instanceof Ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Ge(i,0)}function Ae(s){return s.pieceNum_>=s.pieces_.length}function Jt(s,e){const i=Ce(s),r=Ce(e);if(i===null)return e;if(i===r)return Jt(Xe(s),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function Zp(s,e){if(Gs(s)!==Gs(e))return!1;for(let i=s.pieceNum_,r=e.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==e.pieces_[r])return!1;return!0}function Vn(s,e){let i=s.pieceNum_,r=e.pieceNum_;if(Gs(s)>Gs(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class OI{constructor(e,i){this.errorPrefix_=i,this.parts_=NT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nh(this.parts_[r]);OT(this)}}function DI(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=nh(e),OT(s)}function MI(s){const e=s.parts_.pop();s.byteLength_-=nh(e),s.parts_.length>0&&(s.byteLength_-=1)}function OT(s){if(s.byteLength_>Kv)throw new Error(s.errorPrefix_+"has a key path longer than "+Kv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Yv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yv+") or object contains a cycle "+Nr(s))}function Nr(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends AT{static getInstance(){return new Jp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=1e3,xI=60*5*1e3,Xv=30*1e3,kI=1.3,LI=3e4,UI="server_kill",Qv=3;class Yi extends CT{constructor(e,i,r,o,c,f,p,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=Yi.nextPersistentConnectionId_++,this.log_=Go("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ho,this.maxReconnectDelay_=xI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(Ot(c)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new wp,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},f="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;Yi.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(_,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Wi(e,"w")){const r=Va(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=UC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,f=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},f="n";o&&(c.q=r,c.t=o),this.sendRequest(f,c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const f={p:i,d:r};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ot(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):np("Unrecognized action received from server: "+Ot(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LI&&(this.reconnectDelay_=ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Yi.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,r())},_=function(w){ee(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,C]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);f?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=C&&C.token,p=new NI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,L=>{dn(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(UI)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&dn(w),m())}}}interrupt(e){Pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gd(this.interruptReasons_)&&(this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(c=>Xp(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Ge(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qv&&(this.reconnectDelay_=Xv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+iT.replace(/\./g,"-")]=1,Cp()?e["framework.cordova"]=1:V0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vc.getInstance().currentlyOnline();return Gd(this.interruptReasons_)&&e}}Yi.nextPersistentConnectionId_=0;Yi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new be(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new be(Ga,e),o=new be(Ga,i);return this.compare(r,o)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class DT extends uh{static get __EMPTY_NODE(){return vc}static set __EMPTY_NODE(e){vc=e}compare(e,i){return Ja(e.name,i.name)}isDefinedOn(e){throw $a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return be.MIN}maxPost(){return new be(Ur,vc)}makePost(e,i){return ee(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,vc)}toString(){return".key"}}const Ba=new DT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??It.RED,this.left=o??en.EMPTY_NODE,this.right=c??en.EMPTY_NODE}copy(e,i,r,o,c){return new It(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class PI{copy(e,i,r,o,c){return this}insert(e,i,r){return new It(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,i=en.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new en(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ec(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Ec(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Ec(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Ec(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new PI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(s,e){return Ja(s.name,e.name)}function eg(s,e){return Ja(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp;function HI(s){sp=s}const MT=function(s){return typeof s=="number"?"number:"+oT(s):"string:"+s},xT=function(s){if(s.isLeafNode()){const e=s.val();ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wi(e,".sv"),"Priority must be a string or number.")}else ee(s===sp||s.isEmpty(),"priority of unexpected type.");ee(s===sp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v;class Nt{static set __childrenNodeConstructor(e){$v=e}static get __childrenNodeConstructor(){return $v}constructor(e,i=Nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Ce(e)===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Ce(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(ee(r!==".priority"||Gs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MT(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=oT(this.value_):e+=this.value_,this.lazyHash_=rT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nt.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=Nt.VALUE_TYPE_ORDER.indexOf(i),c=Nt.VALUE_TYPE_ORDER.indexOf(r);return ee(o>=0,"Unknown leaf type: "+i),ee(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT,LT;function BI(s){kT=s}function jI(s){LT=s}class VI extends uh{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),c=r.compareTo(o);return c===0?Ja(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Ur,new Nt("[PRIORITY-POST]",LT))}makePost(e,i){const r=kT(e);return new be(i,new Nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const at=new VI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=Math.log(2);class FI{constructor(e){const i=c=>parseInt(Math.log(c)/qI,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qc=function(s,e,i,r){s.sort(e);const o=function(m,_){const S=_-m;let w,C;if(S===0)return null;if(S===1)return w=s[m],C=i?i(w):w,new It(C,w.node,It.BLACK,null,null);{const L=parseInt(S/2,10)+m,U=o(m,L),X=o(L+1,_);return w=s[L],C=i?i(w):w,new It(C,w.node,It.BLACK,U,X)}},c=function(m){let _=null,S=null,w=s.length;const C=function(U,X){const G=w-U,$=w;w-=U;const te=o(G+1,$),Z=s[G],me=i?i(Z):Z;L(new It(me,Z.node,X,null,te))},L=function(U){_?(_.left=U,_=U):(S=U,_=U)};for(let U=0;U<m.count;++U){const X=m.nextBitIsOne(),G=Math.pow(2,m.count-(U+1));X?C(G,It.BLACK):(C(G,It.BLACK),C(G,It.RED))}return S},f=new FI(s.length),p=c(f);return new en(r||e,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const xa={};class Fi{static get Default(){return ee(xa&&at,"ChildrenNode.ts has not been loaded"),zd=zd||new Fi({".priority":xa},{".priority":at}),zd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Va(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof en?i:null}hasIndex(e){return Wi(this.indexSet_,e.toString())}addIndex(e,i){ee(e!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=i.getIterator(be.Wrap);let f=c.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=c.getNext();let p;o?p=qc(r,e.getCompare()):p=xa;const m=e.toString(),_=Object.assign({},this.indexSet_);_[m]=e;const S=Object.assign({},this.indexes_);return S[m]=p,new Fi(S,_)}addToIndexes(e,i){const r=Dc(this.indexes_,(o,c)=>{const f=Va(this.indexSet_,c);if(ee(f,"Missing index implementation for "+c),o===xa)if(f.isDefinedOn(e.node)){const p=[],m=i.getIterator(be.Wrap);let _=m.getNext();for(;_;)_.name!==e.name&&p.push(_),_=m.getNext();return p.push(e),qc(p,f.getCompare())}else return xa;else{const p=i.get(e.name);let m=o;return p&&(m=m.remove(new be(e.name,p))),m.insert(e,e.node)}});return new Fi(r,this.indexSet_)}removeFromIndexes(e,i){const r=Dc(this.indexes_,o=>{if(o===xa)return o;{const c=i.get(e.name);return c?o.remove(new be(e.name,c)):o}});return new Fi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class pe{static get EMPTY_NODE(){return fo||(fo=new pe(new en(eg),null,Fi.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xT(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fo}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?fo:i}}getChild(e){const i=Ce(e);return i===null?this:this.getImmediateChild(i).getChild(Xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(ee(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new be(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?fo:this.priorityNode_;return new pe(o,f,c)}}updateChild(e,i){const r=Ce(e);if(r===null)return i;{ee(Ce(e)!==".priority"||Gs(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Xe(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(at,(f,p)=>{i[f]=p.val(e),r++,c&&pe.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):c=!1}),!e&&c&&o<2*r){const f=[];for(const p in i)f[p]=i[p];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+MT(this.getPriority().val())+":"),this.forEachChild(at,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":rT(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new be(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new be(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new be(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,be.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ko?-1:0}withIndex(e){if(e===Ba||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(at),o=i.getIterator(at);let c=r.getNext(),f=o.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=r.getNext(),f=o.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===Ba?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GI extends pe{constructor(){super(new en(eg),pe.EMPTY_NODE,Fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const Ko=new GI;Object.defineProperties(be,{MIN:{value:new be(Ga,pe.EMPTY_NODE)},MAX:{value:new be(Ur,Ko)}});DT.__EMPTY_NODE=pe.EMPTY_NODE;Nt.__childrenNodeConstructor=pe;HI(Ko);jI(Ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=!0;function zt(s,e=null){if(s===null)return pe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Nt(i,zt(e))}if(!(s instanceof Array)&&YI){const i=[];let r=!1;if(sn(s,(f,p)=>{if(f.substring(0,1)!=="."){const m=zt(p);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new be(f,m)))}}),i.length===0)return pe.EMPTY_NODE;const c=qc(i,zI,f=>f.name,eg);if(r){const f=qc(i,at.getCompare());return new pe(c,zt(e),new Fi({".priority":f},{".priority":at}))}else return new pe(c,zt(e),Fi.Default)}else{let i=pe.EMPTY_NODE;return sn(s,(r,o)=>{if(Wi(s,r)&&r.substring(0,1)!=="."){const c=zt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(r,c))}}),i.updatePriority(zt(e))}}BI(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends uh{constructor(e){super(),this.indexPath_=e,ee(!Ae(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),c=r.compareTo(o);return c===0?Ja(e.name,i.name):c}makePost(e,i){const r=zt(e),o=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(i,o)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Ko);return new be(Ur,e)}toString(){return NT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends uh{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Ja(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,i){const r=zt(e);return new be(i,r)}toString(){return".value"}}const QI=new XI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s){return{type:"value",snapshotNode:s}}function Ya(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Do(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Mo(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function $I(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.index_=e}updateChild(e,i,r,o,c,f){ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(i);return p.getChild(o).equals(r.getChild(o))&&p.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(Do(i,p)):ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Ya(i,r)):f.trackChildChange(Mo(i,r,p))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(at,(o,c)=>{i.hasChild(o)||r.trackChildChange(Do(o,c))}),i.isLeafNode()||i.forEachChild(at,(o,c)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(c)||r.trackChildChange(Mo(o,c,f))}else r.trackChildChange(Ya(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.indexedFilter_=new tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xo.getStartPost_(e),this.endPost_=xo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,c,f){return this.matches(new be(i,r))||(r=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,c,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=pe.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(pe.EMPTY_NODE);const c=this;return i.forEachChild(at,(f,p)=>{c.matches(new be(f,p))||(o=o.updateImmediateChild(f,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new xo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,c,f){return this.rangedFilter_.matches(new be(i,r))||(r=pe.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,c,f):this.fullLimitUpdateChild_(e,i,r,c,f)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=pe.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))o=o.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(pe.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:o=o.updateImmediateChild(p.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(C,L)=>w(L,C)}else f=this.index_.getCompare();const p=e;ee(p.numChildren()===this.limit_,"");const m=new be(i,r),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(m);if(p.hasChild(i)){const w=p.getImmediateChild(i);let C=o.getChildAfterChild(this.index_,_,this.reverse_);for(;C!=null&&(C.name===i||p.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const L=C==null?1:f(C,m);if(S&&!r.isEmpty()&&L>=0)return c!=null&&c.trackChildChange(Mo(i,r,w)),p.updateImmediateChild(i,r);{c!=null&&c.trackChildChange(Do(i,w));const X=p.updateImmediateChild(i,pe.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(c!=null&&c.trackChildChange(Ya(C.name,C.node)),X.updateImmediateChild(C.name,C.node)):X}}else return r.isEmpty()?e:S&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Do(_.name,_.node)),c.trackChildChange(Ya(i,r))),p.updateImmediateChild(i,r).updateImmediateChild(_.name,pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ga}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new ng;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ZI(s){return s.loadsAllData()?new tg(s.getIndex()):s.hasLimit()?new WI(s):new xo(s)}function Wv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===at?i="$priority":s.index_===QI?i="$value":s.index_===Ba?i="$key":(ee(s.index_ instanceof KI,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Ot(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";e[r]=Ot(s.indexStartValue_),s.startNameSet_&&(e[r]+=","+Ot(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";e[r]=Ot(s.indexEndValue_),s.endNameSet_&&(e[r]+=","+Ot(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Zv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==at&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends CT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Go("p:rest:"),this.listens_={}}listen(e,i,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const f=Fc.getListenId_(e,r),p={};this.listens_[f]=p;const m=Wv(e._queryParams);this.restRequest_(c+".json",m,(_,S)=>{let w=S;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,r),Va(this.listens_,f)===p){let C;_?_===401?C="permission_denied":C="rest_error:"+_:C="ok",o(C,null)}})}unlisten(e,i){const r=Fc.getListenId_(e,i);delete this.listens_[r]}get(e){const i=Wv(e._queryParams),r=e._path.toString(),o=new wp;return this.restRequest_(r+".json",i,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wa(i);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Ao(p.responseText)}catch{dn("Failed to parse JSON response for "+f+": "+p.responseText)}r(null,m)}else p.status!==401&&p.status!==404&&dn("Got unsuccessful REST response for "+f+" Status: "+p.status),r(p.status);r=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){return{value:null,children:new Map}}function PT(s,e,i){if(Ae(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const r=Ce(e);s.children.has(r)||s.children.set(r,Gc());const o=s.children.get(r);e=Xe(e),PT(o,e,i)}}function rp(s,e,i){s.value!==null?i(e,s.value):eO(s,(r,o)=>{const c=new Ge(e.toString()+"/"+r);rp(o,c,i)})}function eO(s,e){s.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&sn(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=10*1e3,nO=30*1e3,iO=5*60*1e3;class sO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new tO(e);const r=Jv+(nO-Jv)*Math.random();To(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;sn(e,(o,c)=>{c>0&&Wi(this.statsToReport_,o)&&(i[o]=c,r=!0)}),r&&this.server_.reportStats(i),To(this.reportStats_.bind(this),Math.floor(Math.random()*2*iO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qn||(qn={}));function zT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ig(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sg(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=qn.ACK_USER_WRITE,this.source=zT()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ge(e));return new Yc(Pe(),i,this.revert)}}else return ee(Ce(this.path)===e,"operationForChild called for unrelated child."),new Yc(Xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.source=e,this.path=i,this.type=qn.LISTEN_COMPLETE}operationForChild(e){return Ae(this.path)?new ko(this.source,Pe()):new ko(this.source,Xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=qn.OVERWRITE}operationForChild(e){return Ae(this.path)?new Pr(this.source,Pe(),this.snap.getImmediateChild(e)):new Pr(this.source,Xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=qn.MERGE}operationForChild(e){if(Ae(this.path)){const i=this.children.subtree(new Ge(e));return i.isEmpty()?null:i.value?new Pr(this.source,Pe(),i.value):new Lo(this.source,Pe(),i)}else return ee(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lo(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const i=Ce(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aO(s,e,i,r){const o=[],c=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push($I(f.childName,f.snapshotNode))}),po(s,o,"child_removed",e,r,i),po(s,o,"child_added",e,r,i),po(s,o,"child_moved",c,r,i),po(s,o,"child_changed",e,r,i),po(s,o,"value",e,r,i),o}function po(s,e,i,r,o,c){const f=r.filter(p=>p.type===i);f.sort((p,m)=>oO(s,p,m)),f.forEach(p=>{const m=lO(s,p,c);o.forEach(_=>{_.respondsTo(p.type)&&e.push(_.createEvent(m,s.query_))})})}function lO(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function oO(s,e,i){if(e.childName==null||i.childName==null)throw $a("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),o=new be(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s,e){return{eventCache:s,serverCache:e}}function So(s,e,i,r){return ch(new zr(e,i,r),s.serverCache)}function HT(s,e,i,r){return ch(s.eventCache,new zr(e,i,r))}function ap(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Hr(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;const uO=()=>(Hd||(Hd=new en(X2)),Hd);class Qe{static fromObject(e){let i=new Qe(null);return sn(e,(r,o)=>{i=i.set(new Ge(r),o)}),i}constructor(e,i=uO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Pe(),value:this.value};if(Ae(e))return null;{const r=Ce(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Xe(e),i);return c!=null?{path:yt(new Ge(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const i=Ce(e),r=this.children.get(i);return r!==null?r.subtree(Xe(e)):new Qe(null)}}set(e,i){if(Ae(e))return new Qe(i,this.children);{const r=Ce(e),c=(this.children.get(r)||new Qe(null)).set(Xe(e),i),f=this.children.insert(r,c);return new Qe(this.value,f)}}remove(e){if(Ae(e))return this.children.isEmpty()?new Qe(null):new Qe(null,this.children);{const i=Ce(e),r=this.children.get(i);if(r){const o=r.remove(Xe(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Qe(null):new Qe(this.value,c)}else return this}}get(e){if(Ae(e))return this.value;{const i=Ce(e),r=this.children.get(i);return r?r.get(Xe(e)):null}}setTree(e,i){if(Ae(e))return i;{const r=Ce(e),c=(this.children.get(r)||new Qe(null)).setTree(Xe(e),i);let f;return c.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,c),new Qe(this.value,f)}}fold(e){return this.fold_(Pe(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(yt(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Pe(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(Ae(e))return null;{const c=Ce(e),f=this.children.get(c);return f?f.findOnPath_(Xe(e),yt(i,c),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Pe(),i)}foreachOnPath_(e,i,r){if(Ae(e))return this;{this.value&&r(i,this.value);const o=Ce(e),c=this.children.get(o);return c?c.foreachOnPath_(Xe(e),yt(i,o),r):new Qe(null)}}foreach(e){this.foreach_(Pe(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(yt(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.writeTree_=e}static empty(){return new Gn(new Qe(null))}}function bo(s,e,i){if(Ae(e))return new Gn(new Qe(i));{const r=s.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const f=Jt(o,e);return c=c.updateChild(f,i),new Gn(s.writeTree_.set(o,c))}else{const o=new Qe(i),c=s.writeTree_.setTree(e,o);return new Gn(c)}}}function e0(s,e,i){let r=s;return sn(i,(o,c)=>{r=bo(r,yt(e,o),c)}),r}function t0(s,e){if(Ae(e))return Gn.empty();{const i=s.writeTree_.setTree(e,new Qe(null));return new Gn(i)}}function lp(s,e){return qr(s,e)!=null}function qr(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Jt(i.path,e)):null}function n0(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(at,(r,o)=>{e.push(new be(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new be(r,o.value))}),e}function qs(s,e){if(Ae(e))return s;{const i=qr(s,e);return i!=null?new Gn(new Qe(i)):new Gn(s.writeTree_.subtree(e))}}function op(s){return s.writeTree_.isEmpty()}function Ka(s,e){return BT(Pe(),s.writeTree_,e)}function BT(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(ee(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):i=BT(yt(s,o),c,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(yt(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(s,e){return FT(e,s)}function cO(s,e,i,r,o){ee(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=bo(s.visibleWrites,e,i)),s.lastWriteId=r}function hO(s,e){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===e)return r}return null}function fO(s,e){const i=s.allWrites.findIndex(p=>p.writeId===e);ee(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,c=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const p=s.allWrites[f];p.visible&&(f>=i&&dO(p,r.path)?o=!1:Vn(r.path,p.path)&&(c=!0)),f--}if(o){if(c)return pO(s),!0;if(r.snap)s.visibleWrites=t0(s.visibleWrites,r.path);else{const p=r.children;sn(p,m=>{s.visibleWrites=t0(s.visibleWrites,yt(r.path,m))})}return!0}else return!1}function dO(s,e){if(s.snap)return Vn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Vn(yt(s.path,i),e))return!0;return!1}function pO(s){s.visibleWrites=jT(s.allWrites,gO,Pe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function gO(s){return s.visible}function jT(s,e,i){let r=Gn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const f=c.path;let p;if(c.snap)Vn(i,f)?(p=Jt(i,f),r=bo(r,p,c.snap)):Vn(f,i)&&(p=Jt(f,i),r=bo(r,Pe(),c.snap.getChild(p)));else if(c.children){if(Vn(i,f))p=Jt(i,f),r=e0(r,p,c.children);else if(Vn(f,i))if(p=Jt(f,i),Ae(p))r=e0(r,Pe(),c.children);else{const m=Va(c.children,Ce(p));if(m){const _=m.getChild(Xe(p));r=bo(r,Pe(),_)}}}else throw $a("WriteRecord should have .snap or .children")}}return r}function VT(s,e,i,r,o){if(!r&&!o){const c=qr(s.visibleWrites,e);if(c!=null)return c;{const f=qs(s.visibleWrites,e);if(op(f))return i;if(i==null&&!lp(f,Pe()))return null;{const p=i||pe.EMPTY_NODE;return Ka(f,p)}}}else{const c=qs(s.visibleWrites,e);if(!o&&op(c))return i;if(!o&&i==null&&!lp(c,Pe()))return null;{const f=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&(Vn(_.path,e)||Vn(e,_.path))},p=jT(s.allWrites,f,e),m=i||pe.EMPTY_NODE;return Ka(p,m)}}}function mO(s,e,i){let r=pe.EMPTY_NODE;const o=qr(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(at,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(i){const c=qs(s.visibleWrites,e);return i.forEachChild(at,(f,p)=>{const m=Ka(qs(c,new Ge(f)),p);r=r.updateImmediateChild(f,m)}),n0(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const c=qs(s.visibleWrites,e);return n0(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function _O(s,e,i,r,o){ee(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=yt(e,i);if(lp(s.visibleWrites,c))return null;{const f=qs(s.visibleWrites,c);return op(f)?o.getChild(i):Ka(f,o.getChild(i))}}function yO(s,e,i,r){const o=yt(e,i),c=qr(s.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(i)){const f=qs(s.visibleWrites,o);return Ka(f,r.getNode().getImmediateChild(i))}else return null}function vO(s,e){return qr(s.visibleWrites,e)}function EO(s,e,i,r,o,c,f){let p;const m=qs(s.visibleWrites,e),_=qr(m,Pe());if(_!=null)p=_;else if(i!=null)p=Ka(m,i);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const S=[],w=f.getCompare(),C=c?p.getReverseIteratorFrom(r,f):p.getIteratorFrom(r,f);let L=C.getNext();for(;L&&S.length<o;)w(L,r)!==0&&S.push(L),L=C.getNext();return S}else return[]}function TO(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}function Kc(s,e,i,r){return VT(s.writeTree,s.treePath,e,i,r)}function ag(s,e){return mO(s.writeTree,s.treePath,e)}function i0(s,e,i,r){return _O(s.writeTree,s.treePath,e,i,r)}function Xc(s,e){return vO(s.writeTree,yt(s.treePath,e))}function SO(s,e,i,r,o,c){return EO(s.writeTree,s.treePath,e,i,r,o,c)}function lg(s,e,i){return yO(s.writeTree,s.treePath,e,i)}function qT(s,e){return FT(yt(s.treePath,e),s.writeTree)}function FT(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;ee(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),ee(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(r,Mo(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(r,Do(r,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(r,Ya(r,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(r,Mo(r,e.snapshotNode,o.oldSnap));else throw $a("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const GT=new wO;class og{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lg(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hr(this.viewCache_),c=SO(this.writes_,o,i,1,r,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(s){return{filter:s}}function AO(s,e){ee(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function RO(s,e,i,r,o){const c=new bO;let f,p;if(i.type===qn.OVERWRITE){const _=i;_.source.fromUser?f=up(s,e,_.path,_.snap,r,o,c):(ee(_.source.fromServer,"Unknown source."),p=_.source.tagged||e.serverCache.isFiltered()&&!Ae(_.path),f=Qc(s,e,_.path,_.snap,r,o,p,c))}else if(i.type===qn.MERGE){const _=i;_.source.fromUser?f=IO(s,e,_.path,_.children,r,o,c):(ee(_.source.fromServer,"Unknown source."),p=_.source.tagged||e.serverCache.isFiltered(),f=cp(s,e,_.path,_.children,r,o,p,c))}else if(i.type===qn.ACK_USER_WRITE){const _=i;_.revert?f=MO(s,e,_.path,r,o,c):f=OO(s,e,_.path,_.affectedTree,r,o,c)}else if(i.type===qn.LISTEN_COMPLETE)f=DO(s,e,i.path,r,c);else throw $a("Unknown operation type: "+i.type);const m=c.getChanges();return NO(e,f,m),{viewCache:f,changes:m}}function NO(s,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=ap(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&i.push(UT(ap(e)))}}function YT(s,e,i,r,o,c){const f=e.eventCache;if(Xc(r,i)!=null)return e;{let p,m;if(Ae(i))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Hr(e),S=_ instanceof pe?_:pe.EMPTY_NODE,w=ag(r,S);p=s.filter.updateFullNode(e.eventCache.getNode(),w,c)}else{const _=Kc(r,Hr(e));p=s.filter.updateFullNode(e.eventCache.getNode(),_,c)}else{const _=Ce(i);if(_===".priority"){ee(Gs(i)===1,"Can't have a priority with additional path components");const S=f.getNode();m=e.serverCache.getNode();const w=i0(r,i,S,m);w!=null?p=s.filter.updatePriority(S,w):p=f.getNode()}else{const S=Xe(i);let w;if(f.isCompleteForChild(_)){m=e.serverCache.getNode();const C=i0(r,i,f.getNode(),m);C!=null?w=f.getNode().getImmediateChild(_).updateChild(S,C):w=f.getNode().getImmediateChild(_)}else w=lg(r,_,e.serverCache);w!=null?p=s.filter.updateChild(f.getNode(),_,w,S,o,c):p=f.getNode()}}return So(e,p,f.isFullyInitialized()||Ae(i),s.filter.filtersNodes())}}function Qc(s,e,i,r,o,c,f,p){const m=e.serverCache;let _;const S=f?s.filter:s.filter.getIndexedFilter();if(Ae(i))_=S.updateFullNode(m.getNode(),r,null);else if(S.filtersNodes()&&!m.isFiltered()){const L=m.getNode().updateChild(i,r);_=S.updateFullNode(m.getNode(),L,null)}else{const L=Ce(i);if(!m.isCompleteForPath(i)&&Gs(i)>1)return e;const U=Xe(i),G=m.getNode().getImmediateChild(L).updateChild(U,r);L===".priority"?_=S.updatePriority(m.getNode(),G):_=S.updateChild(m.getNode(),L,G,U,GT,null)}const w=HT(e,_,m.isFullyInitialized()||Ae(i),S.filtersNodes()),C=new og(o,w,c);return YT(s,w,i,o,C,p)}function up(s,e,i,r,o,c,f){const p=e.eventCache;let m,_;const S=new og(o,e,c);if(Ae(i))_=s.filter.updateFullNode(e.eventCache.getNode(),r,f),m=So(e,_,!0,s.filter.filtersNodes());else{const w=Ce(i);if(w===".priority")_=s.filter.updatePriority(e.eventCache.getNode(),r),m=So(e,_,p.isFullyInitialized(),p.isFiltered());else{const C=Xe(i),L=p.getNode().getImmediateChild(w);let U;if(Ae(C))U=r;else{const X=S.getCompleteChild(w);X!=null?RT(C)===".priority"&&X.getChild(IT(C)).isEmpty()?U=X:U=X.updateChild(C,r):U=pe.EMPTY_NODE}if(L.equals(U))m=e;else{const X=s.filter.updateChild(p.getNode(),w,U,C,S,f);m=So(e,X,p.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function s0(s,e){return s.eventCache.isCompleteForChild(e)}function IO(s,e,i,r,o,c,f){let p=e;return r.foreach((m,_)=>{const S=yt(i,m);s0(e,Ce(S))&&(p=up(s,p,S,_,o,c,f))}),r.foreach((m,_)=>{const S=yt(i,m);s0(e,Ce(S))||(p=up(s,p,S,_,o,c,f))}),p}function r0(s,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function cp(s,e,i,r,o,c,f,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,_;Ae(i)?_=r:_=new Qe(null).setTree(i,r);const S=e.serverCache.getNode();return _.children.inorderTraversal((w,C)=>{if(S.hasChild(w)){const L=e.serverCache.getNode().getImmediateChild(w),U=r0(s,L,C);m=Qc(s,m,new Ge(w),U,o,c,f,p)}}),_.children.inorderTraversal((w,C)=>{const L=!e.serverCache.isCompleteForChild(w)&&C.value===null;if(!S.hasChild(w)&&!L){const U=e.serverCache.getNode().getImmediateChild(w),X=r0(s,U,C);m=Qc(s,m,new Ge(w),X,o,c,f,p)}}),m}function OO(s,e,i,r,o,c,f){if(Xc(o,i)!=null)return e;const p=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(Ae(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Qc(s,e,i,m.getNode().getChild(i),o,c,p,f);if(Ae(i)){let _=new Qe(null);return m.getNode().forEachChild(Ba,(S,w)=>{_=_.set(new Ge(S),w)}),cp(s,e,i,_,o,c,p,f)}else return e}else{let _=new Qe(null);return r.foreach((S,w)=>{const C=yt(i,S);m.isCompleteForPath(C)&&(_=_.set(S,m.getNode().getChild(C)))}),cp(s,e,i,_,o,c,p,f)}}function DO(s,e,i,r,o){const c=e.serverCache,f=HT(e,c.getNode(),c.isFullyInitialized()||Ae(i),c.isFiltered());return YT(s,f,i,r,GT,o)}function MO(s,e,i,r,o,c){let f;if(Xc(r,i)!=null)return e;{const p=new og(r,e,o),m=e.eventCache.getNode();let _;if(Ae(i)||Ce(i)===".priority"){let S;if(e.serverCache.isFullyInitialized())S=Kc(r,Hr(e));else{const w=e.serverCache.getNode();ee(w instanceof pe,"serverChildren would be complete if leaf node"),S=ag(r,w)}S=S,_=s.filter.updateFullNode(m,S,c)}else{const S=Ce(i);let w=lg(r,S,e.serverCache);w==null&&e.serverCache.isCompleteForChild(S)&&(w=m.getImmediateChild(S)),w!=null?_=s.filter.updateChild(m,S,w,Xe(i),p,c):e.eventCache.getNode().hasChild(S)?_=s.filter.updateChild(m,S,pe.EMPTY_NODE,Xe(i),p,c):_=m,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Kc(r,Hr(e)),f.isLeafNode()&&(_=s.filter.updateFullNode(_,f,c)))}return f=e.serverCache.isFullyInitialized()||Xc(r,Pe())!=null,So(e,_,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new tg(r.getIndex()),c=ZI(r);this.processor_=CO(c);const f=i.serverCache,p=i.eventCache,m=o.updateFullNode(pe.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(pe.EMPTY_NODE,p.getNode(),null),S=new zr(m,f.isFullyInitialized(),o.filtersNodes()),w=new zr(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=ch(w,S),this.eventGenerator_=new rO(this.query_)}get query(){return this.query_}}function kO(s){return s.viewCache_.serverCache.getNode()}function LO(s,e){const i=Hr(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Ae(e)&&!i.getImmediateChild(Ce(e)).isEmpty())?i.getChild(e):null}function a0(s){return s.eventRegistrations_.length===0}function UO(s,e){s.eventRegistrations_.push(e)}function l0(s,e,i){const r=[];if(i){ee(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(i,o);f&&r.push(f)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const f=s.eventRegistrations_[c];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function o0(s,e,i,r){e.type===qn.MERGE&&e.source.queryId!==null&&(ee(Hr(s.viewCache_),"We should always have a full cache before handling merges"),ee(ap(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=RO(s.processor_,o,e,i,r);return AO(s.processor_,c.viewCache),ee(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,KT(s,c.changes,c.viewCache.eventCache.getNode(),null)}function PO(s,e){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(at,(c,f)=>{r.push(Ya(c,f))}),i.isFullyInitialized()&&r.push(UT(i.getNode())),KT(s,r,i.getNode(),e)}function KT(s,e,i,r){const o=r?[r]:s.eventRegistrations_;return aO(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;class zO{constructor(){this.views=new Map}}function HO(s){ee(!$c,"__referenceConstructor has already been defined"),$c=s}function BO(){return ee($c,"Reference.ts has not been loaded"),$c}function jO(s){return s.views.size===0}function ug(s,e,i,r){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return ee(c!=null,"SyncTree gave us an op for an invalid query."),o0(c,e,i,r)}else{let c=[];for(const f of s.views.values())c=c.concat(o0(f,e,i,r));return c}}function VO(s,e,i,r,o){const c=e._queryIdentifier,f=s.views.get(c);if(!f){let p=Kc(i,o?r:null),m=!1;p?m=!0:r instanceof pe?(p=ag(i,r),m=!1):(p=pe.EMPTY_NODE,m=!1);const _=ch(new zr(p,m,!1),new zr(r,o,!1));return new xO(e,_)}return f}function qO(s,e,i,r,o,c){const f=VO(s,e,r,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),UO(f,i),PO(f,i)}function FO(s,e,i,r){const o=e._queryIdentifier,c=[];let f=[];const p=Ys(s);if(o==="default")for(const[m,_]of s.views.entries())f=f.concat(l0(_,i,r)),a0(_)&&(s.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=s.views.get(o);m&&(f=f.concat(l0(m,i,r)),a0(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Ys(s)&&c.push(new(BO())(e._repo,e._path)),{removed:c,events:f}}function XT(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ja(s,e){let i=null;for(const r of s.views.values())i=i||LO(r,e);return i}function QT(s,e){if(e._queryParams.loadsAllData())return hh(s);{const r=e._queryIdentifier;return s.views.get(r)}}function $T(s,e){return QT(s,e)!=null}function Ys(s){return hh(s)!=null}function hh(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;function GO(s){ee(!Wc,"__referenceConstructor has already been defined"),Wc=s}function YO(){return ee(Wc,"Reference.ts has not been loaded"),Wc}let KO=1;class u0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=TO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function XO(s,e,i,r,o){return cO(s.pendingWriteTree_,e,i,r,o),o?Xo(s,new Pr(zT(),e,i)):[]}function La(s,e,i=!1){const r=hO(s.pendingWriteTree_,e);if(fO(s.pendingWriteTree_,e)){let c=new Qe(null);return r.snap!=null?c=c.set(Pe(),!0):sn(r.children,f=>{c=c.set(new Ge(f),!0)}),Xo(s,new Yc(r.path,c,i))}else return[]}function fh(s,e,i){return Xo(s,new Pr(ig(),e,i))}function QO(s,e,i){const r=Qe.fromObject(i);return Xo(s,new Lo(ig(),e,r))}function $O(s,e){return Xo(s,new ko(ig(),e))}function WO(s,e,i){const r=cg(s,i);if(r){const o=hg(r),c=o.path,f=o.queryId,p=Jt(c,e),m=new ko(sg(f),p);return fg(s,c,m)}else return[]}function hp(s,e,i,r,o=!1){const c=e._path,f=s.syncPointTree_.get(c);let p=[];if(f&&(e._queryIdentifier==="default"||$T(f,e))){const m=FO(f,e,i,r);jO(f)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!o){const S=_.findIndex(C=>C._queryParams.loadsAllData())!==-1,w=s.syncPointTree_.findOnPath(c,(C,L)=>Ys(L));if(S&&!w){const C=s.syncPointTree_.subtree(c);if(!C.isEmpty()){const L=eD(C);for(let U=0;U<L.length;++U){const X=L[U],G=X.query,$=eS(s,X);s.listenProvider_.startListening(wo(G),Zc(s,G),$.hashFn,$.onComplete)}}}!w&&_.length>0&&!r&&(S?s.listenProvider_.stopListening(wo(e),null):_.forEach(C=>{const L=s.queryToTagMap.get(dh(C));s.listenProvider_.stopListening(wo(C),L)}))}tD(s,_)}return p}function ZO(s,e,i,r){const o=cg(s,r);if(o!=null){const c=hg(o),f=c.path,p=c.queryId,m=Jt(f,e),_=new Pr(sg(p),m,i);return fg(s,f,_)}else return[]}function JO(s,e,i,r){const o=cg(s,r);if(o){const c=hg(o),f=c.path,p=c.queryId,m=Jt(f,e),_=Qe.fromObject(i),S=new Lo(sg(p),m,_);return fg(s,f,S)}else return[]}function c0(s,e,i,r=!1){const o=e._path;let c=null,f=!1;s.syncPointTree_.foreachOnPath(o,(C,L)=>{const U=Jt(C,o);c=c||ja(L,U),f=f||Ys(L)});let p=s.syncPointTree_.get(o);p?(f=f||Ys(p),c=c||ja(p,Pe())):(p=new zO,s.syncPointTree_=s.syncPointTree_.set(o,p));let m;c!=null?m=!0:(m=!1,c=pe.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((L,U)=>{const X=ja(U,Pe());X&&(c=c.updateImmediateChild(L,X))}));const _=$T(p,e);if(!_&&!e._queryParams.loadsAllData()){const C=dh(e);ee(!s.queryToTagMap.has(C),"View does not exist, but we have a tag");const L=nD();s.queryToTagMap.set(C,L),s.tagToQueryMap.set(L,C)}const S=rg(s.pendingWriteTree_,o);let w=qO(p,e,i,S,c,m);if(!_&&!f&&!r){const C=QT(p,e);w=w.concat(iD(s,e,C))}return w}function WT(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(f,p)=>{const m=Jt(f,e),_=ja(p,m);if(_)return _});return VT(o,e,c,i,!0)}function Xo(s,e){return ZT(e,s.syncPointTree_,null,rg(s.pendingWriteTree_,Pe()))}function ZT(s,e,i,r){if(Ae(s.path))return JT(s,e,i,r);{const o=e.get(Pe());i==null&&o!=null&&(i=ja(o,Pe()));let c=[];const f=Ce(s.path),p=s.operationForChild(f),m=e.children.get(f);if(m&&p){const _=i?i.getImmediateChild(f):null,S=qT(r,f);c=c.concat(ZT(p,m,_,S))}return o&&(c=c.concat(ug(o,s,r,i))),c}}function JT(s,e,i,r){const o=e.get(Pe());i==null&&o!=null&&(i=ja(o,Pe()));let c=[];return e.children.inorderTraversal((f,p)=>{const m=i?i.getImmediateChild(f):null,_=qT(r,f),S=s.operationForChild(f);S&&(c=c.concat(JT(S,p,m,_)))}),o&&(c=c.concat(ug(o,s,r,i))),c}function eS(s,e){const i=e.query,r=Zc(s,i);return{hashFn:()=>(kO(e)||pe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?WO(s,i._path,r):$O(s,i._path);{const c=W2(o,i);return hp(s,i,null,c)}}}}function Zc(s,e){const i=dh(e);return s.queryToTagMap.get(i)}function dh(s){return s._path.toString()+"$"+s._queryIdentifier}function cg(s,e){return s.tagToQueryMap.get(e)}function hg(s){const e=s.indexOf("$");return ee(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Ge(s.substr(0,e))}}function fg(s,e,i){const r=s.syncPointTree_.get(e);ee(r,"Missing sync point for query tag that we're tracking");const o=rg(s.pendingWriteTree_,e);return ug(r,i,o,null)}function eD(s){return s.fold((e,i,r)=>{if(i&&Ys(i))return[hh(i)];{let o=[];return i&&(o=XT(i)),sn(r,(c,f)=>{o=o.concat(f)}),o}})}function wo(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(YO())(s._repo,s._path):s}function tD(s,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=dh(r),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function nD(){return KO++}function iD(s,e,i){const r=e._path,o=Zc(s,e),c=eS(s,i),f=s.listenProvider_.startListening(wo(e),o,c.hashFn,c.onComplete),p=s.syncPointTree_.subtree(r);if(o)ee(!Ys(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,S,w)=>{if(!Ae(_)&&S&&Ys(S))return[hh(S).query];{let C=[];return S&&(C=C.concat(XT(S).map(L=>L.query))),sn(w,(L,U)=>{C=C.concat(U)}),C}});for(let _=0;_<m.length;++_){const S=m[_];s.listenProvider_.stopListening(wo(S),Zc(s,S))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new dg(i)}node(){return this.node_}}class pg{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=yt(this.path_,e);return new pg(this.syncTree_,i)}node(){return WT(this.syncTree_,this.path_)}}const sD=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},h0=function(s,e,i){if(!s||typeof s!="object")return s;if(ee(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return rD(s[".sv"],e,i);if(typeof s[".sv"]=="object")return aD(s[".sv"],e);ee(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},rD=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:ee(!1,"Unexpected server value: "+s)}},aD=function(s,e,i){s.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&ee(!1,"Unexpected increment value: "+r);const o=e.node();if(ee(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},lD=function(s,e,i,r){return gg(e,new pg(i,s),r)},oD=function(s,e,i){return gg(s,new dg(e),i)};function gg(s,e,i){const r=s.getPriority().val(),o=h0(r,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const f=s,p=h0(f.getValue(),e,i);return p!==f.getValue()||o!==f.getPriority().val()?new Nt(p,zt(o)):s}else{const f=s;return c=f,o!==f.getPriority().val()&&(c=c.updatePriority(new Nt(o))),f.forEachChild(at,(p,m)=>{const _=gg(m,e.getImmediateChild(p),i);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function _g(s,e){let i=e instanceof Ge?e:new Ge(e),r=s,o=Ce(i);for(;o!==null;){const c=Va(r.node.children,o)||{children:{},childCount:0};r=new mg(o,r,c),i=Xe(i),o=Ce(i)}return r}function el(s){return s.node.value}function tS(s,e){s.node.value=e,fp(s)}function nS(s){return s.node.childCount>0}function uD(s){return el(s)===void 0&&!nS(s)}function ph(s,e){sn(s.node.children,(i,r)=>{e(new mg(i,s,r))})}function iS(s,e,i,r){i&&e(s),ph(s,o=>{iS(o,e,!0)})}function cD(s,e,i){let r=s.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Qo(s){return new Ge(s.parent===null?s.name:Qo(s.parent)+"/"+s.name)}function fp(s){s.parent!==null&&hD(s.parent,s.name,s)}function hD(s,e,i){const r=uD(i),o=Wi(s.node.children,e);r&&o?(delete s.node.children[e],s.node.childCount--,fp(s)):!r&&!o&&(s.node.children[e]=i.node,s.node.childCount++,fp(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/[\[\].#$\/\u0000-\u001F\u007F]/,dD=/[\[\].#$\u0000-\u001F\u007F]/,Bd=10*1024*1024,sS=function(s){return typeof s=="string"&&s.length!==0&&!fD.test(s)},rS=function(s){return typeof s=="string"&&s.length!==0&&!dD.test(s)},pD=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),rS(s)},aS=function(s,e,i){const r=i instanceof Ge?new OI(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+Nr(r));if(typeof e=="function")throw new Error(s+"contains a function "+Nr(r)+" with contents = "+e.toString());if(aT(e))throw new Error(s+"contains "+e.toString()+" "+Nr(r));if(typeof e=="string"&&e.length>Bd/3&&nh(e)>Bd)throw new Error(s+"contains a string greater than "+Bd+" utf8 bytes "+Nr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(sn(e,(f,p)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!sS(f)))throw new Error(s+" contains an invalid key ("+f+") "+Nr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DI(r,f),aS(s,p,r),MI(r)}),o&&c)throw new Error(s+' contains ".value" child '+Nr(r)+" in addition to actual children.")}},lS=function(s,e,i,r){if(!rS(i))throw new Error(Y0(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gD=function(s,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lS(s,e,i)},mD=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!pD(i))throw new Error(Y0(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oS(s,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();i!==null&&!Zp(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function uS(s,e,i){oS(s,i),cS(s,r=>Zp(r,e))}function Fr(s,e,i){oS(s,i),cS(s,r=>Vn(r,e)||Vn(e,r))}function cS(s,e){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const c=o.path;e(c)?(yD(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function yD(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const r=i.getEventRunner();Eo&&Pt("event: "+i.toString()),Yo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="repo_interrupt",ED=25;class TD{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _D,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gc(),this.transactionQueueTree_=new mg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SD(s,e,i){if(s.stats_=$p(s.repoInfo_),s.forceRestClient_||tI())s.server_=new Fc(s.repoInfo_,(r,o,c,f)=>{f0(s,r,o,c,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>d0(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Yi(s.repoInfo_,e,(r,o,c,f)=>{f0(s,r,o,c,f)},r=>{d0(s,r)},r=>{wD(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=aI(s.repoInfo_,()=>new sO(s.stats_,s.server_)),s.infoData_=new JI,s.infoSyncTree_=new u0({startListening:(r,o,c,f)=>{let p=[];const m=s.infoData_.getNode(r._path);return m.isEmpty()||(p=fh(s.infoSyncTree_,r._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),yg(s,"connected",!1),s.serverSyncTree_=new u0({startListening:(r,o,c,f)=>(s.server_.listen(r,c,o,(p,m)=>{const _=f(p,m);Fr(s.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function bD(s){const i=s.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function hS(s){return sD({timestamp:bD(s)})}function f0(s,e,i,r,o){s.dataUpdateCount++;const c=new Ge(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(r){const m=Dc(i,_=>zt(_));f=JO(s.serverSyncTree_,c,m,o)}else{const m=zt(i);f=ZO(s.serverSyncTree_,c,m,o)}else if(r){const m=Dc(i,_=>zt(_));f=QO(s.serverSyncTree_,c,m)}else{const m=zt(i);f=fh(s.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Eg(s,c)),Fr(s.eventQueue_,p,f)}function d0(s,e){yg(s,"connected",e),e===!1&&AD(s)}function wD(s,e){sn(e,(i,r)=>{yg(s,i,r)})}function yg(s,e,i){const r=new Ge("/.info/"+e),o=zt(i);s.infoData_.updateSnapshot(r,o);const c=fh(s.infoSyncTree_,r,o);Fr(s.eventQueue_,r,c)}function CD(s){return s.nextWriteId_++}function AD(s){fS(s,"onDisconnectEvents");const e=hS(s),i=Gc();rp(s.onDisconnect_,Pe(),(o,c)=>{const f=lD(o,c,s.serverSyncTree_,e);PT(i,o,f)});let r=[];rp(i,Pe(),(o,c)=>{r=r.concat(fh(s.serverSyncTree_,o,c));const f=MD(s,o);Eg(s,f)}),s.onDisconnect_=Gc(),Fr(s.eventQueue_,Pe(),r)}function RD(s,e,i){let r;Ce(e._path)===".info"?r=c0(s.infoSyncTree_,e,i):r=c0(s.serverSyncTree_,e,i),uS(s.eventQueue_,e._path,r)}function ND(s,e,i){let r;Ce(e._path)===".info"?r=hp(s.infoSyncTree_,e,i):r=hp(s.serverSyncTree_,e,i),uS(s.eventQueue_,e._path,r)}function ID(s){s.persistentConnection_&&s.persistentConnection_.interrupt(vD)}function fS(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Pt(i,...e)}function dS(s,e,i){return WT(s.serverSyncTree_,e,i)||pe.EMPTY_NODE}function vg(s,e=s.transactionQueueTree_){if(e||gh(s,e),el(e)){const i=gS(s,e);ee(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&OD(s,Qo(e),i)}else nS(e)&&ph(e,i=>{vg(s,i)})}function OD(s,e,i){const r=i.map(_=>_.currentWriteId),o=dS(s,e,r);let c=o;const f=o.hash();for(let _=0;_<i.length;_++){const S=i[_];ee(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const w=Jt(e,S.path);c=c.updateChild(w,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=e;s.server_.put(m.toString(),p,_=>{fS(s,"transaction put response",{path:m.toString(),status:_});let S=[];if(_==="ok"){const w=[];for(let C=0;C<i.length;C++)i[C].status=2,S=S.concat(La(s.serverSyncTree_,i[C].currentWriteId)),i[C].onComplete&&w.push(()=>i[C].onComplete(null,!0,i[C].currentOutputSnapshotResolved)),i[C].unwatcher();gh(s,_g(s.transactionQueueTree_,e)),vg(s,s.transactionQueueTree_),Fr(s.eventQueue_,e,S);for(let C=0;C<w.length;C++)Yo(w[C])}else{if(_==="datastale")for(let w=0;w<i.length;w++)i[w].status===3?i[w].status=4:i[w].status=0;else{dn("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<i.length;w++)i[w].status=4,i[w].abortReason=_}Eg(s,e)}},f)}function Eg(s,e){const i=pS(s,e),r=Qo(i),o=gS(s,i);return DD(s,o,r),r}function DD(s,e,i){if(e.length===0)return;const r=[];let o=[];const f=e.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const m=e[p],_=Jt(i,m.path);let S=!1,w;if(ee(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,w=m.abortReason,o=o.concat(La(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=ED)S=!0,w="maxretry",o=o.concat(La(s.serverSyncTree_,m.currentWriteId,!0));else{const C=dS(s,m.path,f);m.currentInputSnapshot=C;const L=e[p].update(C.val());if(L!==void 0){aS("transaction failed: Data returned ",L,m.path);let U=zt(L);typeof L=="object"&&L!=null&&Wi(L,".priority")||(U=U.updatePriority(C.getPriority()));const G=m.currentWriteId,$=hS(s),te=oD(U,C,$);m.currentOutputSnapshotRaw=U,m.currentOutputSnapshotResolved=te,m.currentWriteId=CD(s),f.splice(f.indexOf(G),1),o=o.concat(XO(s.serverSyncTree_,m.path,te,m.currentWriteId,m.applyLocally)),o=o.concat(La(s.serverSyncTree_,G,!0))}else S=!0,w="nodata",o=o.concat(La(s.serverSyncTree_,m.currentWriteId,!0))}Fr(s.eventQueue_,i,o),o=[],S&&(e[p].status=2,function(C){setTimeout(C,Math.floor(0))}(e[p].unwatcher),e[p].onComplete&&(w==="nodata"?r.push(()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot)):r.push(()=>e[p].onComplete(new Error(w),!1,null))))}gh(s,s.transactionQueueTree_);for(let p=0;p<r.length;p++)Yo(r[p]);vg(s,s.transactionQueueTree_)}function pS(s,e){let i,r=s.transactionQueueTree_;for(i=Ce(e);i!==null&&el(r)===void 0;)r=_g(r,i),e=Xe(e),i=Ce(e);return r}function gS(s,e){const i=[];return mS(s,e,i),i.sort((r,o)=>r.order-o.order),i}function mS(s,e,i){const r=el(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);ph(e,o=>{mS(s,o,i)})}function gh(s,e){const i=el(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,tS(e,i.length>0?i:void 0)}ph(e,r=>{gh(s,r)})}function MD(s,e){const i=Qo(pS(s,e)),r=_g(s.transactionQueueTree_,e);return cD(r,o=>{jd(s,o)}),jd(s,r),iS(r,o=>{jd(s,o)}),i}function jd(s,e){const i=el(e);if(i){const r=[];let o=[],c=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(ee(c===f-1,"All SENT items should be at beginning of queue."),c=f,i[f].status=3,i[f].abortReason="set"):(ee(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(La(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?tS(e,void 0):i.length=c+1,Fr(s.eventQueue_,Qo(e),o);for(let f=0;f<r.length;f++)Yo(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(s){let e="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function kD(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dn(`Invalid query segment '${i}' in query '${s}'`)}return e}const p0=function(s,e){const i=LD(s),r=i.namespace;i.domain==="firebase.com"&&Qi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Y2();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new yT(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Ge(i.pathString)}},LD=function(s){let e="",i="",r="",o="",c="",f=!0,p="https",m=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(p=s.substring(0,_-1),s=s.substring(_+2));let S=s.indexOf("/");S===-1&&(S=s.length);let w=s.indexOf("?");w===-1&&(w=s.length),e=s.substring(0,Math.min(S,w)),S<w&&(o=xD(s.substring(S,w)));const C=kD(s.substring(Math.min(s.length,w)));_=e.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(e.substring(_+1),10)):_=e.length;const L=e.slice(0,_);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const U=e.indexOf(".");r=e.substring(0,U).toLowerCase(),i=e.substring(U+1),c=r}"ns"in C&&(c=C.ns)}return{host:e,port:m,domain:i,subdomain:r,secure:f,scheme:p,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class PD{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return Ae(this._path)?null:RT(this._path)}get ref(){return new Xs(this._repo,this._path)}get _queryIdentifier(){const e=Zv(this._queryParams),i=Xp(e);return i==="{}"?"default":i}get _queryObject(){return Zv(this._queryParams)}isEqual(e){if(e=pn(e),!(e instanceof Tg))return!1;const i=this._repo===e._repo,r=Zp(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+II(this._path)}}class Xs extends Tg{constructor(e,i){super(e,i,new ng,!1)}get parent(){const e=IT(this._path);return e===null?null:new Xs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Jc{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ge(e),r=dp(this.ref,e);return new Jc(this._node.getChild(i),r,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Jc(o,dp(this.ref,r),at)))}hasChild(e){const i=new Ge(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function g0(s,e){return s=pn(s),s._checkNotDeleted("ref"),e!==void 0?dp(s._root,e):s._root}function dp(s,e){return s=pn(s),Ce(s._path)===null?gD("child","path",e):lS("child","path",e),new Xs(s._repo,yt(s._path,e))}class Sg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new UD("value",this,new Jc(e.snapshotNode,new Xs(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new PD(this,e,i):null}matches(e){return e instanceof Sg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HD(s,e,i,r,o){const c=new zD(i,void 0),f=new Sg(c);return RD(s._repo,s,f),()=>ND(s._repo,s,f)}function m0(s,e,i,r){return HD(s,"value",e)}HO(Xs);GO(Xs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="FIREBASE_DATABASE_EMULATOR_HOST",pp={};let jD=!1;function VD(s,e,i,r){s.repoInfo_=new yT(`${e}:${i}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),r&&(s.authTokenProvider_=r)}function qD(s,e,i,r,o){let c=r||s.options.databaseURL;c===void 0&&(s.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=p0(c,o),p=f.repoInfo,m;typeof process<"u"&&kv&&(m=kv[BD]),m?(c=`http://${m}?ns=${p.namespace}`,f=p0(c,o),p=f.repoInfo):f.repoInfo.secure;const _=new iI(s.name,s.options,e);mD("Invalid Firebase Database URL",f),Ae(f.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const S=GD(p,s,_,new nI(s,i));return new YD(S,s)}function FD(s,e){const i=pp[e];(!i||i[s.key]!==s)&&Qi(`Database ${e}(${s.repoInfo_}) has already been deleted.`),ID(s),delete i[s.key]}function GD(s,e,i,r){let o=pp[e.name];o||(o={},pp[e.name]=o);let c=o[s.toURLString()];return c&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new TD(s,jD,i,r),o[s.toURLString()]=c,c}class YD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xs(this._repo,Pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qi("Cannot call "+e+" on a deleted database.")}}function KD(s=ih(),e){const i=Ks(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=P0("database");r&&XD(i,...r)}return i}function XD(s,e,i,r={}){s=pn(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Qi("Cannot call useEmulator() after instance has already been initialized.");const o=s._repoInternal;let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Rc(Rc.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:B0(r.mockUserToken,s.app.options.projectId);c=new Rc(f)}VD(o,e,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(s){B2(Vr),Yn(new Mn("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return qD(r,o,c,i)},"PUBLIC").setMultipleInstances(!0)),tn(Lv,Uv,s),tn(Lv,Uv,"esm2017")}Yi.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Yi.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};QD();const $D=()=>{const s=_p(),e=Yp(),i=KD(),[r,o]=Y.useState([]),[c,f]=Y.useState(null),[p,m]=Y.useState(!1);Y.useEffect(()=>{const C=e.currentUser;if(C){f(C);const L=g0(i,`/users/${C.uid}/classroom`);m0(L,U=>{const X=U.val();if(X){const G=[];Object.keys(X).forEach($=>{if(X[$].status===1){const te=g0(i,`/classroom/${$}`);m0(te,Z=>{const me=Z.val();me&&(G.push({id:$,...me}),o(oe=>[...oe,...G]))})}})}})}else s("/")},[e,i,s]);const _=()=>{m(!0)},S=async()=>{try{await CN(e),s("/",{replace:!0})}catch(C){console.error("Logout error:",C)}finally{m(!1)}},w=()=>{m(!1)};return fe.jsxs("div",{className:"min-h-screen bg-gray-100",children:[fe.jsx("header",{className:"bg-white shadow",children:fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[fe.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ระบบจัดการห้องเรียน"}),fe.jsxs("div",{className:"flex items-center",children:[c&&fe.jsxs("div",{className:"flex items-center mr-4",children:[fe.jsx("img",{src:c.photoURL,alt:c.displayName,className:"w-10 h-10 rounded-full mr-2"}),fe.jsxs("div",{children:[fe.jsx("p",{className:"text-sm font-medium",children:c.displayName}),fe.jsx("p",{className:"text-xs text-gray-500",children:c.email})]})]}),fe.jsxs("div",{className:"flex space-x-2",children:[fe.jsx(go,{to:"/edit-profile",className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"แก้ไขข้อมูลส่วนตัว"}),fe.jsx(go,{to:"/add-course",className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",children:"เพิ่มวิชา"}),fe.jsx("button",{onClick:_,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"ออกจากระบบ"})]})]})]})}),fe.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[fe.jsx("h2",{className:"text-xl font-semibold mb-4",children:"รายวิชาที่สอน"}),r.length===0?fe.jsx("p",{className:"text-gray-500",children:"ยังไม่มีรายวิชาที่สอน กรุณาเพิ่มวิชาใหม่"}):fe.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(C=>fe.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow",children:[fe.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${C.imageUrl||"https://via.placeholder.com/400x200?text=No+Image"})`}}),fe.jsxs("div",{className:"p-4",children:[fe.jsx("h3",{className:"text-lg font-medium",children:C.courseName}),fe.jsxs("p",{className:"text-gray-600 text-sm",children:["รหัสวิชา: ",C.courseCode]}),fe.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["ห้องเรียน: ",C.className]}),fe.jsx(go,{to:`/manage-classroom/${C.id}`,className:"block w-full text-center px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"จัดการห้องเรียน"})]})]},C.id))})]}),p&&fe.jsx("div",{className:"fixed inset-0  flex items-center justify-center z-50 popup-logout",children:fe.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[fe.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ยืนยันการออกจากระบบ"}),fe.jsx("p",{className:"text-gray-600 mb-4",children:"คุณต้องการออกจากระบบใช่หรือไม่?"}),fe.jsxs("div",{className:"flex justify-end space-x-2",children:[fe.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"ยกเลิก"}),fe.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"ยืนยัน"})]})]})})]})};function WD(){return fe.jsx("div",{children:fe.jsxs(jw,{children:[fe.jsx(qd,{path:"/",element:fe.jsx(H2,{})}),fe.jsx(qd,{path:"/home",element:fe.jsx($D,{})})]})})}console.log("App is being rendered");Wb.createRoot(document.getElementById("root")).render(fe.jsx(Y.StrictMode,{children:fe.jsx(hC,{children:fe.jsx(WD,{})})}));
